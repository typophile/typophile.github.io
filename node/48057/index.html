<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>IVR | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="IVR" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/48057/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2008-08-04T10:11:09+00:00" />
<meta property="article:modified_time" content="2008-08-04T10:11:09+00:00" />

<meta itemprop="name" content="IVR">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2008-08-04T10:11:09+00:00" />
<meta itemprop="dateModified" content="2008-08-04T10:11:09+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="IVR"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">IVR</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2008-08-04T10:11:09Z">August 4, 2008</time>
      
        

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>I&rsquo;m immersed in the IVR technoloy these days, I love it, so I&rsquo;ll introduce it to you!</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->IVR<!-- raw HTML omitted --> Introduction<!-- raw HTML omitted --></p>
<p>Interactive Voice Response, <!-- raw HTML omitted -->IVR<!-- raw HTML omitted -->, is a phone technology that allows a computer to detect voice and touch tones using a phone call. The system based on <!-- raw HTML omitted -->IVR<!-- raw HTML omitted --> can respond with pre-recorded or dynamically generated audio to further direct callers on how to proceed. <!-- raw HTML omitted -->IVR<!-- raw HTML omitted --> enable callers to interact with any software,such as query or modify database information, over the normal phone or internet phone(like Skype). So callers can use their touch-tone pad to input request or just say what then want to do, such as requesting account balance information. Then the <!-- raw HTML omitted -->IVR<!-- raw HTML omitted --> will use the text-to-speech software to read information back.</p>
<p>Overall, the <!-- raw HTML omitted -->IVR<!-- raw HTML omitted --> can enable you to make hundreds of personalized calls with a single click.</p>
<p><!-- raw HTML omitted -->IVR<!-- raw HTML omitted --> telephone notification software broadcast voice messages by phone. Ideal for group event reminders, marketing, lead generation, political campaign promotions, school fundraising, church communications, emergency notifications, and much more.</p>
<p>You can also use <!-- raw HTML omitted -->IVR<!-- raw HTML omitted --> Studio to develop your IVR applications. This tool enables flexible application development without any knowledge of VoiceXML. All you need is point and click to draw a call flow diagram.</p>
<p><!-- raw HTML omitted -->Using the <!-- raw HTML omitted -->IVR<!-- raw HTML omitted --> API<!-- raw HTML omitted --></p>
<p>Since all these functions are implemented as a HTTP client communicating directly with a gateway, they can be run on any machine that has a connection to the host running the gateway.</p>
<p>Because my application will use the CallText methods only, so I&rsquo;ll introduce other methods briefly.</p>
<p>SYNOPSIS</p>
<pre><code>string CallText(string phoneno, string text, bool selfdelete)
</code></pre>
<p>DESCRIPTION</p>
<pre><code>Make a phone call and play the specified text message. The text message is convert to voice by Voicent Gateway's text-to-speech engine.
The options are: 
phoneno 	The phone number to call
text 	The message for the phone call
selfdelete 	Ask the gateway to automatically delete the call request after the call is made if it is set to '1'

The return value is the call request id &lt;reqId&gt;.
</code></pre>
<p>EXAMPLE</p>
<pre><code>CallText(&quot;123-4567&quot;, &quot;Hello, how are you doing&quot;, true); 
Make a call to phone number '123-4567' and say 'Hello, how are you doing'. Since the selfdelete bit is set, the call request record in the IVR will be removed automatically after the call.
string reqId = CallText(&quot;123-4567&quot;, &quot;Hello, how are you&quot;, 0);
Make a call to phone number '123-4567' and say 'Hello, how are you'. Since the selfdelete bit is not set, the call request record in the gateway will not be removed after the call. You can then use CallStatus to get the call status, or use CallRemove to remove the call record.
</code></pre>
<p>Here is the other methods, there is detail in the Voicent Gateway Simple Outbound Call Interface.</p>
<p>SYNOPSIS</p>
<pre><code>string CallAudio(string phoneno, string audiofile, bool selfdelete) 
</code></pre>
<p>EXAMPLE</p>
<pre><code>CallAudio(&quot;123-4567&quot;, &quot;C:\my audios\hello.wav&quot;, true); 
</code></pre>
<p>SYNOPSIS</p>
<pre><code>string CallStatus(string reqId) 
</code></pre>
<p>EXAMPLE</p>
<pre><code>string status = CallStatus(&quot;11234035434&quot;); 
</code></pre>
<p>SYNOPSIS</p>
<pre><code>void CallRemove(string reqId) 
</code></pre>
<p>EXAMPLE</p>
<pre><code>CallRemove(&quot;11234035434&quot;); 
</code></pre>
<p>SYNOPSIS</p>
<pre><code>void CallTillConfirm(string vcastexe, string vocfile, string wavfile, string ccode)
</code></pre>
<p>EXAMPLE</p>
<pre><code>CallTillConfirm(
&quot;C:\Program Files\Voicent\BroadcastByPhone\bin\vcast.exe&quot;,
&quot;C:\My calllist\escalation.voc&quot;,
&quot;C:\My calllist\escalation.wav&quot;, 
&quot;911911&quot;);
</code></pre>
<p><!-- raw HTML omitted -->Source Code<!-- raw HTML omitted --></p>
<h2 id="code">This application must be based on a gateway.here, we use the Voicent Gateway for the server, because I haven&rsquo;t find any free gateway by now. And you also can visit this website for more information about the IVR.
<!-- raw HTML omitted --></h2>
<p>File Voicent.cs:</p>
<hr>
<p>using System;
using System.Net;
using System.IO;</p>
<p>namespace Voicent
{</p>
<p>/// <!-- raw HTML omitted -->
/// Interface class for making telephone calls using the simple
/// API of Voicent Gateway.
/// <!-- raw HTML omitted -->
public class Voicent
{
/// <!-- raw HTML omitted -->
/// Default constructor use http://localhost:8155
/// <!-- raw HTML omitted -->
public Voicent()
{
m_host = &ldquo;localhost&rdquo;;</p>
<pre><code>  m_port = 8155;
}


/// &lt;summary&gt;
/// Constructor with host and port
/// &lt;/summary&gt;
/// &lt;param name=&quot;host&quot;&gt;Hostname of Voicent Gateway&lt;/param&gt;
/// &lt;param name=&quot;port&quot;&gt;port number of Voicent Gateway&lt;/param&gt;
public Voicent(string 
            host, int port)
{
  m_host = host;

  m_port = port;
}


/// &lt;summary&gt;
/// Call the specified phone number and play the text using
/// text-to-speech engine
/// &lt;/summary&gt;
/// &lt;param name=&quot;phoneno&quot;&gt;telephone number to call&lt;/param&gt;
/// &lt;param name=&quot;text&quot;&gt;text message to play&lt;/param&gt;
/// &lt;param name=&quot;selfdelete&quot;&gt;if set to one, automatically 
            remove call record on 
/// gateway after the call is made&lt;/param&gt;
/// &lt;returns&gt;Call Request ID on gateway&lt;/returns&gt;
public string CallText(string 
            phoneno, string text, bool selfdelete)
{

  // call request url
  string urlstr = &quot;/ocall/callreqHandler.jsp&quot;;


  // setting the http post string
  string poststr = &quot;info=Simple Text Call &quot; + 
            phoneno;


  poststr += &quot;&amp;phoneno=&quot; + phoneno;

  poststr += &quot;&amp;firstocc=10&quot;;

  poststr += &quot;&amp;selfdelete=&quot;;

  poststr += (selfdelete ? &quot;1&quot; : &quot;0&quot;);

  poststr += &quot;&amp;txt=&quot; + text;


  // Send Call Request
  String rcstr = PostToGateway(urlstr, poststr);

  return GetRequestID(rcstr);

}


/// &lt;summary&gt;
/// Call the specified phone number and play the audio file
/// &lt;/summary&gt;
/// &lt;param name=&quot;phoneno&quot;&gt;telephone number to call&lt;/param&gt;
/// &lt;param name=&quot;filename&quot;&gt;audio file path name&lt;/param&gt;
/// &lt;param name=&quot;selfdelete&quot;&gt;if set to one, automatically 
            remove call record on 
/// gateway after the call is made&lt;/param&gt;
/// &lt;returns&gt;Call Request ID on gateway&lt;/returns&gt;
public string CallAudio(string 
            phoneno, string filename, bool selfdelete)
{
  // call request url
  string urlstr = &quot;/ocall/callreqHandler.jsp&quot;;


  // setting the http post string
  string poststr = &quot;info=Simple Audio Call &quot; + 
                  phoneno;


  poststr += &quot;&amp;phoneno=&quot; + phoneno;

  poststr += &quot;&amp;firstocc=10&quot;;

  poststr += &quot;&amp;selfdelete=&quot;;

  poststr += (selfdelete ? &quot;1&quot; : &quot;0&quot;);

  poststr += &quot;&amp;audiofile=&quot; + filename;


  // Send Call Request
  String rcstr = PostToGateway(urlstr, poststr);

  return GetRequestID(rcstr);
}


/// &lt;summary&gt;
/// Get call request status
/// &lt;/summary&gt;
/// &lt;param name=&quot;reqID&quot;&gt;Call request ID&lt;/param&gt;
/// &lt;returns&gt;status code&lt;/returns&gt;
public string CallStatus(string 
            reqID)
{
  // call status url
  string urlstr = &quot;/ocall/callstatusHandler.jsp&quot;;

  string poststr = &quot;reqid=&quot; + reqID;


  // Send Call Request
  String rcstr = PostToGateway(urlstr, poststr);


  if (rcstr.IndexOf(&quot;^made^&quot;) != -1)

    return &quot;Call Made&quot;;

            

  if (rcstr.IndexOf(&quot;^failed^&quot;) != -1)

    return &quot;Call Failed&quot;;

            

  if (rcstr.IndexOf(&quot;^retry^&quot;) != -1)

    return &quot;Call Will Retry&quot;;


  return &quot;&quot;;
}


/// &lt;summary&gt;
/// Remove the call request on the gateway
/// &lt;/summary&gt;
/// &lt;param name=&quot;reqID&quot;&gt;Call Request ID&lt;/param&gt;
public void CallRemove(string 
            reqID)
{
  // call status url
  string urlstr = &quot;/ocall/callremoveHandler.jsp&quot;;

  string poststr = &quot;reqid=&quot; + reqID;


  // Send Call Request
  PostToGateway(urlstr, poststr);
}


/// &lt;summary&gt;
/// Invoke Voicent BroadcastByPhone and start the 
            call-till-confirm escalation process
/// &lt;/summary&gt;
/// &lt;param name=&quot;vcastexe&quot;&gt;BroadcastByPhone executable file 
            path&lt;/param&gt;
/// &lt;param name=&quot;vocfile&quot;&gt;BroadcastByPhone call list file 
            path&lt;/param&gt;
/// &lt;param name=&quot;wavfile&quot;&gt;Audio file, must be PCM 8KHz, 
            16bit, mono wave file format&lt;/param&gt;
/// &lt;param name=&quot;ccode&quot;&gt;Confirmation code, numbers only&lt;/param&gt;
public void CallTillConfirm(string 
            vcastexe, string vocfile, string wavfile, string ccode)
{
  // call request url
  string urlstr = &quot;/ocall/callreqHandler.jsp&quot;;


  // setting the http post string
  string poststr = &quot;info=Simple Call till Confirm&quot;;

  poststr += &quot;&amp;phoneno=1111111&quot;; // any number

  poststr += &quot;&amp;firstocc=10&quot;;

  poststr += &quot;&amp;selfdelete=0&quot;;

  poststr += &quot;&amp;startexec=&quot; + vcastexe;


  string cmdline = &quot;\&quot;&quot; + vocfile + &quot;\&quot; -startnow&quot;;

  cmdline += &quot; -confirmcode &quot; + ccode;

  cmdline += &quot; -wavfile &quot; + &quot;\&quot;&quot; + wavfile + &quot;\&quot;&quot;;


  // add -cleanstatus if necessary
  poststr += &quot;&amp;cmdline=&quot; + cmdline;


  PostToGateway(urlstr, poststr);
}


protected string PostToGateway(string urlstr, string poststr)
{
  Uri url = new Uri(&quot;http://&quot; + m_host + &quot;:&quot; + 
            m_port.ToString() + urlstr);

  HttpWebRequest HttpWRequest = (HttpWebRequest) 
            WebRequest.Create(url);

            

  HttpWRequest.Headers.Set(&quot;Pragma&quot;, &quot;no-cache&quot;);

  HttpWRequest.Timeout = 60000;

  HttpWRequest.Method = &quot;POST&quot;;

  HttpWRequest.ContentType = 
            &quot;application/x-www-form-urlencoded&quot;;

            

  byte[] PostData = 
            System.Text.Encoding.ASCII.GetBytes(poststr);

  HttpWRequest.ContentLength = PostData.Length;

  Stream tempStream = HttpWRequest.GetRequestStream();

  tempStream.Write(PostData,0,PostData.Length);

  tempStream.Close();

            

  HttpWebResponse HttpWResponse = (HttpWebResponse) 
            HttpWRequest.GetResponse();

  Stream receiveStream = 
            HttpWResponse.GetResponseStream(); 

  StreamReader readStream = new 
            StreamReader(receiveStream);

            

  string rcstr = &quot;&quot;;

  Char[] read = new Char[256]; 

  int count = 0;

  while ((count = readStream.Read(read, 0, 256)) &gt; 
            0) {

    rcstr += new String(read, 0, count);

  }

  HttpWResponse.Close();

  readStream.Close();


  return rcstr;
}


protected string GetRequestID(string rcstr)
{
  int index1 = rcstr.IndexOf(&quot;[ReqId=&quot;);

  if (index1 == -1)
    return &quot;&quot;;

  index1 += 7;


  int index2 = rcstr.IndexOf(&quot;]&quot;, index1);

  if (index2 == -1)
    return &quot;&quot;;


  return rcstr.Substring(index1, index2 - index1);
}


private string m_host;

private int m_port;
</code></pre>
<p>}</p>
<p>}</p>
<hr>
<p>File TextVoicent.cs:</p>
<hr>
<p>using System;
using System.Threading;
using Voicent;</p>
<p>namespace csapi
{
/// <!-- raw HTML omitted -->
/// Simple class to test Voicent C# Simple Interface
/// <!-- raw HTML omitted -->
class TestVoicent
{
/// <!-- raw HTML omitted -->
/// The main entry point for the application.
/// <!-- raw HTML omitted --></p>
<pre><code>[STAThread]

static void Main(string[] args)
{
  string phoneno = &quot;8147838&quot;; // Replace it with 
                  your number


  Voicent.Voicent voicent = new Voicent.Voicent();


  // Test CallText
  string reqId = voicent.CallText(phoneno, &quot;Hello, 
            how are you&quot;, true);

  Console.WriteLine(&quot;Call request ID = &quot; + reqId);


  // Test CallAudio
  reqId = voicent.CallAudio(phoneno, &quot;C:/Program 
                  Files/Voicent/MyRecordings/sample_message.wav&quot;, false);

  Console.WriteLine(&quot;Call request ID = &quot; + reqId);


  // try to get status
  while (true) {

    Thread.Sleep(20000); // wair for 20 
            seconds

    string status = 
            voicent.CallStatus(reqId);

    Console.WriteLine(&quot;Call Status: &quot; + 
            status);

    if (status.Length != 0)

      break;

  }


  // remove the call request on the gateway
  voicent.CallRemove(reqId);


  // Test call-till-confirm
  voicent.CallTillConfirm(&quot;C:/Program 
                  Files/Voicent/BroadcastByPhone/bin/vcast.exe&quot;,

            &quot;C:/temp/testctf.voc&quot;,

            &quot;C:/Program 
                  Files/Voicent/MyRecordings/sample_message.wav&quot;,

            &quot;12345&quot;);

}
</code></pre>
<p>}</p>
<p>}
<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->Points of Interest about <!-- raw HTML omitted -->IVR<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>Ideal inbound &amp; Outbound IVR solution
<!-- raw HTML omitted -->Self-service
Allow callers to get answers to standard inquiries simply and easily, and in seconds, without the need for an agent</p>
<pre><code>&lt;li&gt;Reach the right agent
Automatically capture relevant information from your callers and direct them to the appropriate agent to handle their call

&lt;li&gt;24/7 customer service
Enable your customers to get the information they need, when they need it. Your &lt;a href=&quot;http://www.voicent.com/ivr.php?a=8223&quot;&gt;IVR&lt;/a&gt; application is working even when you’re not, or it can transfer calls to your cell phone.

&lt;li&gt;Automated Outbound &lt;a href=&quot;http://www.voicent.com/ivr.php?a=8223&quot;&gt;IVR&lt;/a&gt;
Fully integrated with BroadcastByPhone Autodialer. Fully automated interactive outbound call applications to generate sales leads and keep in touch with your customers.
</code></pre>
<p>Inbound &amp; Outbound <!-- raw HTML omitted -->IVR<!-- raw HTML omitted --> Solution Key Features
<!-- raw HTML omitted -->Point-and-click call flow design
<!-- raw HTML omitted -->Deployed on any PC with Windows 2000/2003/XP/Vista
<!-- raw HTML omitted -->Transfer call to any phone, such as your cell phone
<!-- raw HTML omitted -->Interactive touch tone response
<!-- raw HTML omitted -->Speech command response
<!-- raw HTML omitted -->Automatically convert text to speech
<!-- raw HTML omitted -->Easy integration with your website
<!-- raw HTML omitted -->(Developer feature) Integrate with any program through Java
<!-- raw HTML omitted -->Support Skype or voice modems for making calls
<!-- raw HTML omitted -->Support single phone line or multiple phone lines
<!-- raw HTML omitted -->Natural Text-to-speech engine for playing any text over the phone</p>
</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">SPAM</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2008-08-04 14:52:50"
			itemprop="datePublished"
		>
			2008-08-04 14:52:50
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>aluminum</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><blockquote>
<p>Interactive Voice Response, IVR, is a phone technology</p>
</blockquote>
<p>Hilarious, they don&rsquo;t even list a phone number&hellip; :-)</p>
<p><a href="http://www.voicent.com/contact.php">http://www.voicent.com/contact.php</a></p>
<p>Maybe they were getting telemarketing calls? ;-)</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2008-08-04 15:57:18"
			itemprop="datePublished"
		>
			2008-08-04 15:57:18
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Si_Daniels</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
