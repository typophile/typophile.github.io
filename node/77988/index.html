<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Import Kerning from AFM | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="Import Kerning from AFM" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/77988/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2011-01-13T04:06:49+00:00" />
<meta property="article:modified_time" content="2011-01-13T04:06:49+00:00" />

<meta itemprop="name" content="Import Kerning from AFM">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2011-01-13T04:06:49+00:00" />
<meta itemprop="dateModified" content="2011-01-13T04:06:49+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Import Kerning from AFM"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Import Kerning from AFM</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2011-01-13T04:06:49Z">January 13, 2011</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Ken&#43;Krugh">
            Ken Krugh
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>Using FontLab 5, Windows.
I&rsquo;m creating an OTF font from a few Type1 fonts. One of the type one fonts is a small cap font. To get the kerning pairs from the old Type1 font into my new font I thought I could pull the Type1 into FontLab and export the AFM file. Then open the AFM in a text editor and change all the lowercase characters to my small cap glyphs.</p>
<p>For instance:
KPX A c -18
becomes
KPX A Csmall -18
where Csmall is the name of my small cap c. But it isn&rsquo;t working and I can&rsquo;t see why!</p>
<p>From the AFM file I&rsquo;m also deleting all the kern pairs I won&rsquo;t need, like:
KPX A T -74
as it&rsquo;s already in there from having procesed the &ldquo;regular&rdquo; text.</p>
<p>When all my substitutions are made in the AFM file I change the StartKernPairs line to reflect the number of pairs I now have.</p>
<p>However, when I try to import the modified AFM into FontLab it doesn&rsquo;t import any kern pairs, even if I tell it to completely replace them. I&rsquo;m able to import kerning from other AFM files but I don&rsquo;t see any difference in structure between the ones that import and the one that won&rsquo;t. What am I missing?</p>
<p>Thanks for any insight
Ken</p>
</div>

  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">It appears that you need to change glyph names in the character metrics section too, i.e. in the list between keywords <em>StartCharMetrics</em> and <em>EndCharMetrics</em>.</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-01-13 11:08:50"
			itemprop="datePublished"
		>
			2011-01-13 11:08:50
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:k.l.">
            k.l.
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Hi Ken,</p>
<p>It doesn&rsquo;t matter if the &ldquo;number of kern pairs&rdquo; line is corrrect.</p>
<p>Try this: In your existing OpenType font, which does have the small caps, but does not have the small cap kerning, export an AFM.</p>
<p>Now, working in a text editor, from the Type 1 font AFM you&rsquo;ve pared down so that all KPX pairs contain at least one small cap, copy only the KPX portion, and paste that at the bottom (doesn&rsquo;t really matter, just easier) of the KPX portion of the AFM you exported from the OT version. (A lot of words trying to be clear. It is really very simple. You could export a AFM from the OT version and type in new KPX pairs. Just cut &amp; paste instead.)</p>
<p>Save the AFM file and reimport into the FontLab OTF file.</p>
<p>You&rsquo;ll see immediately in the dialog box the number of new pairs FL found, and added. If it&rsquo;s &ldquo;zero&rdquo; added you have a problem, most likely a disagreement of glyph <em>names</em></p>
<p>As Karsten says, the glyphs in the kerning (KPX) portion must be matched in the character metrics portion. For me anyway, the above copy &amp; paste technique offers the least chance for error with the greatest chance to figure out what went wrong.</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-01-13 12:42:50"
			itemprop="datePublished"
		>
			2011-01-13 12:42:50
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:charles&#43;ellertson">
            charles ellertson
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>My FL workflow for this kind of thing usually is:</p>
<ul>
<li>Put the normal font into the mask of the small cap font</li>
<li>Step through all the glyphs and mark those that are different from the mask</li>
<li>Add .sc to the glyph names of all marked glyphs</li>
<li>Export AFM (now contains the correct .sc glyph names automatically)</li>
<li>Copy the .sc glyphs from the small cap font to normal font (or use Merge Fonts function)</li>
<li>Import AFM into the merged font, choosing option "add kerning to existing" or whatever it's called</li>
</ul></div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-01-13 13:17:28"
			itemprop="datePublished"
		>
			2011-01-13 13:17:28
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Jens&#43;Kutilek">
            Jens Kutilek
	    </a>
			</span></span>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
