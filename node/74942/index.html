<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Contextual Lookups for Ordinals | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="Contextual Lookups for Ordinals" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/74942/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2010-10-06T10:36:21+00:00" />
<meta property="article:modified_time" content="2010-10-06T10:36:21+00:00" />

<meta itemprop="name" content="Contextual Lookups for Ordinals">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2010-10-06T10:36:21+00:00" />
<meta itemprop="dateModified" content="2010-10-06T10:36:21+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Contextual Lookups for Ordinals"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Contextual Lookups for Ordinals</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2010-10-06T10:36:21Z">October 6, 2010</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Bhikkhu&#43;Pesala">
            Bhikkhu Pesala
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>I have this lookup for ordinals. It works OK for 1st, 2nd, 3rd, 4th, etc., and for Caps, 1ST, 2ND, 3RD, etc., but not for ordinals in French or Spanish, which use one or three ordinals e.g. 2º or 1ème.</p>
<p>How can I change my code to cater for one or more alpha characters after the digits? One to three superscripts would be OK, but I think one or more would be more flexible.</p>
<p>feature Ordinals ordn {
lookup Ordinals;
}
group @Digits [zero-nine];
group @Alphas [A-Z a-z];</p>
<pre><code>lookup Ordinals{
context (@Digits) @Alphas @Alphas;
sub 0 Super;
sub 1 Super;
</code></pre>
<p>}  lookup Super {
sub [A-Z] -&gt; [uniEAA1 - uniEABA];
sub [a-z] -&gt; [uniEAC1 - uniEADA];
}</p>
<p>I am using [[http://home.kabelfoon.nl/~slam/fonts/otcomp.html|OpenType Compiler]].</p>
</div>

  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>I found my own solution with some help from the Serif™ forums.</p>
<p>The following code does what is needed as long as the ordinal glyphs are included in the font and have the corresponding Postscript names.</p>
<p>feature Ordinals ordn {
lookup Ordinals;
}
group @Ordinals [zero-nine uniE2C0-uniE2C9 uniEAA1 - uniEABA uniEAC1 - uniEADA uniEB28 uniEB3A uniEB48 uniEB5A];
group @Alphas [A-Z a-z Egrave Uacute egrave uacute];</p>
<pre><code>lookup Ordinals{
context (@Ordinals) @Alphas;
sub 0 Super;
</code></pre>
<p>}  lookup Super {
sub [A-Z] -&gt; [uniEAA1 - uniEABA];
sub [a-z] -&gt; [uniEAC1 - uniEADA];
sub Egrave -&gt; uniEB28;
sub Uacute -&gt; uniEB3A;
sub egrave -&gt; uniEB48;
sub uacute -&gt; uniEB5A;
}</p>
<p>The @Ordinals group includes the digits, OldStyle figures, and the Superscripts, so any character in the @Alpha group following a digit or superscript in the @Ordinals group will use the &ldquo;Super&rdquo; lookup table, and will also be superscripted. As soon as a character not included in the @Alpha group is encountered, the superscripted text reverts to normal text.</p>
<p>I used FontCreator 6.1 to create my fonts. I wrote a script to map the ordinals, copy the base glyphs, scale them, and embolden them. That removes much of the donkey work. I included capitals for using ordinals in All Caps or Small Caps text.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-10-07 08:08:53"
			itemprop="datePublished"
		>
			2010-10-07 08:08:53
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Bhikkhu&#43;Pesala">
            Bhikkhu Pesala
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>What a disappointing lack of response! Nearly two weeks, and no one has anything to say?</p>
<p>Is it a good solution or have I missed something that could improve it?</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-10-17 23:07:48"
			itemprop="datePublished"
		>
			2010-10-17 23:07:48
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Bhikkhu&#43;Pesala">
            Bhikkhu Pesala
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Maybe you should post here:
<a href="http://typophile.com/forum/6">http://typophile.com/forum/6</a></div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-10-18 09:55:28"
			itemprop="datePublished"
		>
			2010-10-18 09:55:28
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:riccard0">
            riccard0
	    </a>
			</span></span>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
