<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>An &#34;Extreme&#34; OpenType font for stress-testing | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="An &#34;Extreme&#34; OpenType font for stress-testing" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/89519/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2012-01-28T14:13:01+00:00" />
<meta property="article:modified_time" content="2012-01-28T14:13:01+00:00" />

<meta itemprop="name" content="An &#34;Extreme&#34; OpenType font for stress-testing">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2012-01-28T14:13:01+00:00" />
<meta itemprop="dateModified" content="2012-01-28T14:13:01+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="An &#34;Extreme&#34; OpenType font for stress-testing"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">An "Extreme" OpenType font for stress-testing</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2012-01-28T14:13:01Z">January 28, 2012</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">lunde</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">I really like building fonts, especially with lots of glyphs, and last year I built what is best described as an "extreme" OpenType/CFF font that is useful for stress-testing applications and environments that consume fonts, to include font resource editing software.

I upped the proverbial ante this past week by adding a third axis of extremeness to this font, and blogged about it (and also make it available for download). See: [[http://blogs.adobe.com/CCJKType/2012/01/extreme-otf.html|CJK Type Blog 01/26/2012 Post: An “Extreme” OpenType Font]]

Dr. Ken Lunde
CJKV Type Development, Adobe Systems Incorporated
San José, CA, USA, Earth
lunde@adobe.com</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Ken, this is excellent! As a matter of fact, it made my own home grown OTF checker crash (and in the middle of charstring #167 at that -- I need to check for integer overflows, methinks), so it is indeed a good stress test.

Are you aware of a similar font on which I could do tests for a CFF charstring parser?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-02-15 15:11:54"
			itemprop="datePublished"
		>
			2012-02-15 15:11:54
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Theunis de Jong</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I am glad to hear that this font could serve a useful purpose. For me, I dropped it into the OS (Mac OS X), and it is serving as a fallback font.

About your request, I would need to know more about what limits you're looking to test. Charstring length?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-02-17 23:34:21"
			itemprop="datePublished"
		>
			2012-02-17 23:34:21
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>lunde</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><cite>I would need to know more about what limits you're looking to test. Charstring length?</cite>

Uh, no (that maxes out at 64K - 1, IIRC). It wasn't a really well thought out question: after some more studying I don't think there is any requirement at all to be able to 'test charstrings'.
Either a charstring is syntactically correct (i.e. leading to a valid stream of numbers and operators, where each operator clears the stack as per Spec.5177, and does not exceed the implementation limits in there), or it may be considered "malformed", and then there is probably something wrong with the charstring generator that was used.

A charstring generator is what I'm attempting to code; and indeed, encoding of outlines is straightforward (all just syntax) but problems in the "semantics" of outlines are much harder to detect, avoid, and/or automatically solve: overlapping shapes (I don't think there is an actual <em>rule</em> against this, but I gather it's "seriously frowned upon"), renegade curves (where 3 or more curve data points are 0), and artefacts cause by rounding from floating point coordinates to the 1,000 Unit Fixed Square.

A fun project, nevertheless.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-02-20 13:22:20"
			itemprop="datePublished"
		>
			2012-02-20 13:22:20
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Theunis de Jong</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Let me expand a bit on that for interested lurkers.

The byte stream
<code>00 00 01 80 00 0A</code>

is <em>invalid</em> because <code>00</code> does not produce valid code. This one is better:
<code>FF 00 01 80 00 0A</code>

because the first 5 bytes translate in a floating point number: 1.5. The sixth byte translates into the opcode "callsubr", so this sequence correctly translates into
<code>1.5 callsubr</code>

... but a subr number must be an integer (it is a simple table based lookup). So this is still "wrong", but on a higher level. But even when we change this code into
<code>F6 0A</code>

which translates into
<code>-1 callsubr</code>

we cannot be sure if this is "correct". According to Adobe's Charstring Specification #5177, there is a limit of 10 nested callsubr calls, and there is no way we can check if this one is the eleventh without actually parsing the entire charstring.

Still, these checks can be done by a fairly basic program. More insidious are syntactically correct constructs such as
<code>10 0 10 vlineto</code>

or indeed
<code>10 0 -10 vlineto</code>

(I'm <em>certain</em> that's not allowed), or self-crossing:
<code>2 1 -1 -2 hlineto</code>

... which is where the fun starts for me :)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-02-20 15:31:25"
			itemprop="datePublished"
		>
			2012-02-20 15:31:25
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Theunis de Jong</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
