<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Monospaced rendering as not monospaced on Windows | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="Monospaced rendering as not monospaced on Windows" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/98746/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2012-12-09T06:07:26+00:00" />
<meta property="article:modified_time" content="2012-12-09T06:07:26+00:00" />

<meta itemprop="name" content="Monospaced rendering as not monospaced on Windows">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2012-12-09T06:07:26+00:00" />
<meta itemprop="dateModified" content="2012-12-09T06:07:26+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Monospaced rendering as not monospaced on Windows"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Monospaced rendering as not monospaced on Windows</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2012-12-09T06:07:26Z">December 9, 2012</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:alan">
            alan
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>(I originally posted this in the FontLab support forum, but y&rsquo;all are pretty active here, and I&rsquo;m in a bit of a panic mode, so pardon the bad habit.)</p>
<p>Hi folks, I&rsquo;m having a strange issue with a monospaced TrueType font on Windows, and I&rsquo;m wondering if anyone will have seen something like this before.</p>
<p>The custom font in question is designed to match a different custom font, and the metrics are supposed to match exactly.</p>
<p>On Windows 7, the font renders as non-monospaced, with more space given to certain characters (o, L, P). Additionally, certain characters seem to be dramatically shifted within their bounding box, such that they run into their neighbors (particularly the uppercase i). There&rsquo;s also too much leading. On a Mac, everything shows up fine, properly monospaced.</p>
<p>The font has no TT instructions, but I tried a quick autohint and saw yet different metrics, both horizontal and vertical. But in spite of the hinting having a profound effect on the metrics, it doesn&rsquo;t seem like strictly a hinting issue, because the font renders with the same problems at all sizes.</p>
<p>To make matters worse, sometimes it doesn&rsquo;t render at all. In Final Draft, it appears correctly in the font and renders the expected font on screen. In Wordpad, it appears in the font menu, but renders as Arial.</p>
<p>I&rsquo;m wondering if this is a FontLab bug, because if I just open the original custom font, rename it, and regenerate it, it exhibits the same problems, while the original font renders just fine.</p>
<p>Attached are two images, one for Mac and one for Windows. Has anyone seen anything like this before?</p>
<p>Thanks for your time,
Alan</p>
</div>

  
  <img src="/images/old-images/tt-rendering-windows.png" class="img-fluid">
  
  <img src="/images/old-images/tt-rendering-mac.png" class="img-fluid">
  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>This sounds like a font cache corruption problem. Have you tried installing on a different Windows machine?</p>
<p>I suggest:</p>
<ol>
<li>Uninstall the font.</li>
<li>Delete this file: C:\Windows\System32\FNTCACHE.DAT</li>
<li>Restart your system.</li>
<li>Re-install the font.</li>
</ol>
<p>If the problem persists after that, then there may be some piece of information in the font that is causing the problem, but that would not be my first guess.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-12-09 06:51:23"
			itemprop="datePublished"
		>
			2012-12-09 06:51:23
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:John&#43;Hudson">
            John Hudson
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Thanks, John. I haven&rsquo;t tried your suggestion (I don&rsquo;t own a Windows machine, so it&rsquo;s hard for me to test quickly), but the same thing is happening on two different machines, neither of which have ever had any version of this font installed.</p>
<p>I&rsquo;ll try testing some unrelated fonts, and maybe do a fresh copy/paste into a new file to see if there&rsquo;s something corrupted in my VFB. Thanks for your quick response.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-12-09 07:30:19"
			itemprop="datePublished"
		>
			2012-12-09 07:30:19
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:alan">
            alan
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I have have occasionally run across similar problems with FontLab files: some of them seem to have acquired some voodoo bug, which are resistant to exorcism. In such instances, I usually generate a PS type 1 version of the fonts, then open that font in FontLab. So far, this workaround has worked for me&hellip;</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-12-09 11:20:20"
			itemprop="datePublished"
		>
			2012-12-09 11:20:20
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:oldnick">
            oldnick
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks, Nick. I&rsquo;ll give your suggestion a shot as soon as I can.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-12-09 13:58:47"
			itemprop="datePublished"
		>
			2012-12-09 13:58:47
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:alan">
            alan
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>A few more things to check:</p>
<p>a) Make sure that all glyphs in the font have exactly the same advance width, with no exceptions.</p>
<p>b) Ensure that the Panose value for monospaced is set in the Panose / Proportion font info.</p>
<p>c) Ensure that the TrueType Unique ID record in the font info identification settings is indeed unique to this font and can&rsquo;t be confused with anything else.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-12-09 18:13:07"
			itemprop="datePublished"
		>
			2012-12-09 18:13:07
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:John&#43;Hudson">
            John Hudson
	    </a>
			</span></span>
	</div>
	 <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><em>a) Make sure that all glyphs in the font have exactly the same advance width, with no exceptions.</em></p>
<p>Dang. I have some contextual alts to make nice emdashes and such, I&rsquo;ll have to look into replacing those with many-to-many substitutions. I did try a version on Windows with those extra-wide characters removed, but hadn&rsquo;t done most of these other suggestions, so it had no effect.</p>
<p>Thanks again for your time, I&rsquo;m itching to get back on that PC and try these out.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-12-09 19:13:33"
			itemprop="datePublished"
		>
			2012-12-09 19:13:33
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:alan">
            alan
	    </a>
			</span></span>
	</div>
	
</div>
 
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Hi again, I&rsquo;ve done some more testing, and haven&rsquo;t had any better luck. I converted all my double-wide characters to regular width, so all glyph widths are the same. Exporting as PS, opening in FontLab, exporting TT didn&rsquo;t work. Copy/paste into new VFB didn&rsquo;t work. I was careful to clear the Windows font cache and make sure everything had unique names and IDs.</p>
<p>It turns out I was wrong about it being consistent at all sizes. Different characters are wider or narrower at different sizes.</p>
<p>Stranger still, the italics work fine, mostly. I&rsquo;m not getting any odd spacing with italics, though they don&rsquo;t match the metrics of the original custom font. I started with the regular, then used that as a basis for the italic, bold, and bold italic, so I&rsquo;m not sure what&rsquo;s so special about the italics that they&rsquo;re less problematic.</p>
<p>I was just about to test various smoothing settings, but I&rsquo;ve now run into an issue where installing any new fonts causes them to disappear, and can&rsquo;t be used in applications. This is apparently a Windows 7 bug, so I&rsquo;m not sure what testing I can do next.</p>
<p>Does anyone have any more ideas?</p>
<p>Thanks,
Alan</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-12-10 22:45:12"
			itemprop="datePublished"
		>
			2012-12-10 22:45:12
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:alan">
            alan
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Ok, I am, quite possibly, a horrible human being. I unknowingly had &ldquo;autohint unhinted glyphs&rdquo; on TT export turned on. And with it, &ldquo;add link to right sidebearing point&rdquo;, which seems like it would do exactly the kind of damage I&rsquo;m seeing. Will test tomorrow &hellip;</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-12-11 06:16:39"
			itemprop="datePublished"
		>
			2012-12-11 06:16:39
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:alan">
            alan
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Turns out that autohinting on the right sidebearing was the culprit. Well, now I know. Still wrestling with the vertical metrics, I&rsquo;ll start a separate thread if needed. Thanks again for all of your suggestions!</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-12-13 14:23:05"
			itemprop="datePublished"
		>
			2012-12-13 14:23:05
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:alan">
            alan
	    </a>
			</span></span>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
