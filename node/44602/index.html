<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Windows ignoring unicode (sub)range | Typophile Archive</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content>
<meta name=generator content="Hugo 0.91.2">
<meta name=robots content="noindex, nofollow">
<link href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3 crossorigin=anonymous>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js integrity=sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p crossorigin=anonymous></script>
<meta property="og:title" content="Windows ignoring unicode (sub)range">
<meta property="og:description" content>
<meta property="og:type" content="article">
<meta property="og:url" content="http://typophile.github.io/node/44602/"><meta property="article:section" content="node">
<meta property="article:published_time" content="2008-04-23T23:38:11+00:00">
<meta property="article:modified_time" content="2008-04-23T23:38:11+00:00">
<meta itemprop=name content="Windows ignoring unicode (sub)range">
<meta itemprop=description content><meta itemprop=datePublished content="2008-04-23T23:38:11+00:00">
<meta itemprop=dateModified content="2008-04-23T23:38:11+00:00">
<meta itemprop=wordCount content="0">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="Windows ignoring unicode (sub)range">
<meta name=twitter:description content>
</head>
<body class="ma0 avenir bg-near-white">
<header>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
<div class=container>
<a class=navbar-brand href=/>Typophile Archive</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
</div>
</nav>
</header>
<main class=pb7 role=main>
<article class=container>
<header class="post-header py-3">
<h1 class="post-title p-name" itemprop="name headline">Windows ignoring unicode (sub)range</h1>
<p class=text-muted>
<time class="f6 mv4 dib tracked" datetime=2008-04-23T23:38:11Z>April 23, 2008</time>
• <span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Selwyn Hollis</span></span>
</p>
</header>
<div class="post-content e-content" itemprop=articleBody>Greetings folks,
This concerns a large .otf font -- built with FontLab -- that essentially covers all the Unicode ranges devoted to mathematical symbols. Everything works perfectly on my Mac, but certain glyphs do not appear in the Windows Character Map. Specifically, the missing glyphs -- which are at 239B through 23B1 in the "Miscellaneous Technical" range -- are the parenthesis, bracket, and brace "sections" that one can piece together to form large or multiline delimiters. These glyphs are also found in the Symbol font, and possibly that's where Windows "expects" them to be (whatever that means). In addition to the issue with Character Map, I am told by programmers that they are not able to "find" those glyphs in the font.
I'm hoping that someone here has some idea what might be causing this.
Thanks in advance.
Selwyn</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Are you certain that the missing glyphs are correctly encoded in the font? If the Windows Character Map can't find them, that might be a clue that there's something wrong with the font (or charmap.exe -- I recall using a version that was tied to a specific version of Unicode).</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-04-24 04:29:35" itemprop=datePublished>
2008-04-24 04:29:35
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Miguel Sousa</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>You might try experimenting with the <a href=http://www.mozilla.com/en-US/firefox/all-beta.html>Firefox 3 beta</a>, it reads the font character map directly. These characters are used in MathML and I confirmed that <a href=http://www.mozilla.org/projects/mathml/demo/texvsmml.xhtml>this test page</a> actually pulls in characters within the range you're concerned about. To use your font, edit the source and add a style pointing to your font:
<code>
mrow { font-family: "My Font"; }
</code>
Also, tools like ttx (open source) and ftxdumperfuser (part of the Apple font tools) can dump out the cmap tables if you need to verify the codepoints within the cmap.
It almost sounds like the programmers you're dealing with are trying to use only GDI calls it a situation where they need to use Uniscribe, but I might be talking through my arse on that one. The Windows version of the Symbol font uses the legacy symbol character map format that should best be avoided, especially in your situation. If your font works in Firefox, you can point programmers at the Firefox code and let them figure it out.
The relevant code is here:
http://mxr.mozilla.org/mozilla/source/gfx/thebes/src/
</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-04-24 06:17:23" itemprop=datePublished>
2008-04-24 06:17:23
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>jdaggett</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>He should only do so, if the resulting project is to be released under GPL... if not that would be a breach of licenses, which font developers should be especially sensitive about.
Try BabelMap as a character map. You'll love it. (along with BabelPad, but BableMap is even more useful). I wouldn't want to live with a computer without BabelMap anymore.
</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-04-24 12:38:29" itemprop=datePublished>
2008-04-24 12:38:29
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>aszszelp</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Selwyn,
Is this problem appear only in Charmap? Does your font show these characters in Notepad or Wordpad?
Charmap has a database of character names and ranges, so it is tied to particular version of Unicode.
Thanks,
Sergey</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-04-24 14:50:24" itemprop=datePublished>
2008-04-24 14:50:24
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>sergeym</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Thanks to everyone for the comments and suggestions. I've played around with ftxanalyzer and ftxdumperfuser, and the only thing that seemed out of whack was the maxp table, which apparently is corrupted. (A couple of other fonts I made with FontLab showed the same.) Is it possible this could be the problem?
Also, the Firefox 3 beta renders the <a href=http://www.mozilla.org/projects/mathml/demo/texvsmml.xhtml>mathml test page</a> perfectly in my font on my Mac. Thanks for that suggestion, jdaggett. Still awaiting word on how it displays in Windows.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-04-24 22:11:47" itemprop=datePublished>
2008-04-24 22:11:47
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Selwyn Hollis</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody><em>He should only do so, if the resulting project is to be released under GPL... if not that would be a breach of licenses, which font developers should be especially sensitive about.</em>
There's no such restriction, especially if someone is only fiddling with Mozilla code to figure out which Windows API calls are made to successfully render the characters in question.
If you work at Microsoft you're officially not allowed to view Mozilla source but this is an internal Microsoft policy not something required by any license.
</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-04-25 04:48:25" itemprop=datePublished>
2008-04-25 04:48:25
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>jdaggett</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>The problem is (as I believed to understand once, though I might be utterly wrong and you right), that just "looking at it to figure out" puts you in a difficult position defending yourself when accused of having _used_ (and possibly altered) the code.
The borders between "taken and altered" and "looked at, got inspired, and did it from scratch" are blurry.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-04-25 08:17:25" itemprop=datePublished>
2008-04-25 08:17:25
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>aszszelp</span></span>
</div>
</div>
</article>
</main>
</body>
</html>