<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Kerning classes export problem | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="Kerning classes export problem" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/61738/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2009-09-07T15:12:59+00:00" />
<meta property="article:modified_time" content="2009-09-07T15:12:59+00:00" />

<meta itemprop="name" content="Kerning classes export problem">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2009-09-07T15:12:59+00:00" />
<meta itemprop="dateModified" content="2009-09-07T15:12:59+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Kerning classes export problem"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Kerning classes export problem</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2009-09-07T15:12:59Z">September 7, 2009</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Frode&#43;Bo&#43;Helland">
            Frode Bo Helland
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">I&rsquo;m having some trouble exporting my kern classes. They work well in Fontlab, but when I export the only letter responding is the “king” of the class. I&rsquo;ve clicked &ldquo;generate kern feature&rdquo; and &ldquo;compile&rdquo;. Does anyone know what&rsquo;s causing it?</div>

  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">The &ldquo;king&rdquo; of the class? Wasn&rsquo;t there any error message at all?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-07 17:16:02"
			itemprop="datePublished"
		>
			2009-09-07 17:16:02
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:ofisia">
            ofisia
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>No error message. Here&rsquo;s the kern feature:</p>
<p><code>feature kern {
enum pos @_A V -50;
enum pos @_A Y -80;
enum pos @_A T -60;
enum pos @_A W -60;
enum pos @_L T -100;
enum pos @_L Y -100;
enum pos @_L V -80;
enum pos @_L W -70;
subtable;
enum pos P @_A -50;
enum pos T @_lowercasexheight -75;
enum pos T @_A -60;
enum pos V @_lowercasexheight -50;
enum pos V @_A -50;
enum pos W @_lowercasexheight -50;
enum pos W @_A -60;
enum pos Y @_lowercasexheight -50;
enum pos Y @_A -80;
subtable;
} kern;</code></p>
<p>And an example of a class:</p>
<p><code>_lowercasexheight:  o' a c d e g m n p q r s t u v w x y z</code></p>
<p>The only one kerned in the exported font is o.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-07 17:45:49"
			itemprop="datePublished"
		>
			2009-09-07 17:45:49
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Frode&#43;Bo&#43;Helland">
            Frode Bo Helland
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">You need at least one more OpenType feature for class based kerning to work. The kern table all on its own won&rsquo;t work. So, add a fractions feature, ligatures or something else. Then it should kick in.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-08 07:58:58"
			itemprop="datePublished"
		>
			2009-09-08 07:58:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Ray&#43;Larabie">
            Ray Larabie
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Yes. And perhaps you better avoid generating a kern table (check the export options) especially if you do not decompress kerning when you risk getting different kerning in different environments.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-08 09:48:16"
			itemprop="datePublished"
		>
			2009-09-08 09:48:16
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:k.l.">
            k.l.
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><em>Yes. And perhaps you better avoid generating a kern table (check the export options) especially if you do not decompress kerning when you risk getting different kerning in different environments.</em></p>
<p>Explain!</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-08 10:44:43"
			itemprop="datePublished"
		>
			2009-09-08 10:44:43
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Frode&#43;Bo&#43;Helland">
            Frode Bo Helland
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><a href="http://www.kltf.de/stuff/fls5_exportkern.jpg">See here.</a> First option &ldquo;Export old-style [etc]&rdquo; should be deactivated. Or if you cannot resist, then at least activate the sub-option &ldquo;expand class kerning while [etc]&rdquo;.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-08 11:44:29"
			itemprop="datePublished"
		>
			2009-09-08 11:44:29
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:k.l.">
            k.l.
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Would you care to explain why? And perhaps what you mean by decompressing kerning and why that might give different kerning in different environments?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-08 11:51:37"
			itemprop="datePublished"
		>
			2009-09-08 11:51:37
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Frode&#43;Bo&#43;Helland">
            Frode Bo Helland
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks Ray. That worked like a charm. Is this one of the legendary FL errors they never get around to fix?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-08 11:52:55"
			itemprop="datePublished"
		>
			2009-09-08 11:52:55
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Frode&#43;Bo&#43;Helland">
            Frode Bo Helland
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>(What Mr Larabie alludes to is not an FLS5 bug but a bug in your version of InDesign.)</p>
<p>An OpenType-savvy application is expected to read kerning from the GPOS table, from one or more lookups associated with the kern feature. Defining a kern feature (which goes into the GPOS table) should do.
If you provide kerning both in the GPOS table and in a kern table, and if you do not decompress the kerning that goes into the kern table, then you have different kinds of kerning at two places in the font: full kerning in the GPOS table, keyglyph-only kerning in the kern table. And depending from which place an application takes the information, it will either get this or that kerning.</p>
<p>What you define in the Metrics Window is kerning for keyglyphs and perhaps exceptions. You kern only A-V but not Adieresis-V Aacute-V and expect that class definitions will care for the latter two pairs.
If you generate a kern feature and then generate an OpenType font, the GPOS table will contain full kerning as results from both your keyglyph kerning and your class definitions.
If you also generate a kern table, then FLS5 will by default only consider kerning as defined in the Metrics Window but ignore the classes. Which means that the kern table will contain kerning only for keyglyphs (and exception), kerning for A-V but not for Adieresis-V Aacute-V.*
Depending on whether an application picks the kerning from the GPOS table or from the kern table, the user will get more (GPOS) or less (kern) kerning &ndash; and as you noticed this can be fewer kerning pairs than you want &hellip;</p>
<ul>
<li>For the kern table to contain the full kerning, you need to activate the additional &ldquo;decompress&rdquo; option. But as said, I consider it as a bad idea to provide kerning in both the GPOS and the kern table. If an application cannot deal with OT layout tables, then the application has a problem, not the font.</li>
</ul>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-08 12:37:02"
			itemprop="datePublished"
		>
			2009-09-08 12:37:02
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:k.l.">
            k.l.
	    </a>
			</span></span>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
