<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>My first Robofab script | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="My first Robofab script" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/62512/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2009-09-29T07:32:37+00:00" />
<meta property="article:modified_time" content="2009-09-29T07:32:37+00:00" />

<meta itemprop="name" content="My first Robofab script">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2009-09-29T07:32:37+00:00" />
<meta itemprop="dateModified" content="2009-09-29T07:32:37+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="My first Robofab script"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">My first Robofab script</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2009-09-29T07:32:37Z">September 29, 2009</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">kosal</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">I've been working at this for hours..ugh! Sure, if there's a better way to do this, please inform. Regardless, I want to really build this script from scratch to learn.

What I want to do:
Shift points at a certain y value to a different y value.

Logical Process:
Cycle through each glyph in my font. In each glyph, cycle through contours. Within the contours cycle through points. If the point has a y value or 395, or 265, change accordingly. 


--------------------------------------------------
from robofab.world import CurrentGlyph
from robofab.world import CurrentFont

font=CurrentFont()

for x in font: 
	print font[x.name][0]
	contour= font[x.name][0]
	for p in contour.points:
			if p.y==395:
				p.y += 100
			if p.y==265:
				p.y -= 100
font.update()
--------------------------------------------------

What am I misunderstanding here? When I target the contour by doing CurrentGlyph()[0], it works. So why not font[x.name][0]? Oddly enough font[x.name] is returning the value expected, but CurrentGlyph() returns the glyph that apparently belongs to "unnamed_font". And for some reason, the unnamed_font one works. Am I totally off in my approach?</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">#!@$%!! 
just when I mustered up the will to post it, I figured it out:

<code>
from robofab.world import CurrentGlyph
from robofab.world import CurrentFont

font=CurrentFont()


for x in font: 
	for m in x:
		print m
		for p in m.points:
				if p.y==395:
					p.y += 100
				if p.y==265:
					p.y -= 100
		
	font.update()
</code>

The only question now is, would this be the best way you would solve this problem?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-29 07:43:41"
			itemprop="datePublished"
		>
			2009-09-29 07:43:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>kosal</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">
I suggest using more descriptive variable names. Why x for the glyph? I bet if you look at this code again in a year's time you will find this very confusing – especially since x would also be used for the abscissa of a point.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-29 09:18:17"
			itemprop="datePublished"
		>
			2009-09-29 09:18:17
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Tim Ahrens</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I agree with Tim: using more descriptive variable names makes your code more readable, both to you and other people.

One small optimisation could be "from robofab.world import CurrentFont, CurrentGlyph" instead of using two seperate lines.



-Paul van der Laan
www.type-invaders.com</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-29 11:42:18"
			itemprop="datePublished"
		>
			2009-09-29 11:42:18
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>pvanderlaan</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks for the tips. I started using descriptive variable names, but i ended up confusing myself by not remembering which word was my own variable versus which were reserved words. Hope to get the hang of it soon...</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-29 14:15:25"
			itemprop="datePublished"
		>
			2009-09-29 14:15:25
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>kosal</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Regarding the naming of variables some one letter variables are used very often in RoboFab scripts:
f for a font object, i.e. f = CurrentFont()
g for a glyph object, i.e. g = f['Adieresis']
p for a point object
and when dealing with multiple objects of the same type variables can be numbered, i.e. f1, f2, etc.

To distinguish variable names from reserved keywords you can always opt to let them begin with the same suffix. For instance 'my':

<code>
from robofab.world import CurrentFont, CurrentGlyph

myFont = CurrentFont()

for myGlyph in myFont:
> for myContour in myGlyph:
> > for myPoint in myContour.points:
> > > if myPoint.y == 395:
> > > > myPoint.y += 100
> > > if myPoint.y == 265:
> > > > myPoint.y -= 100

myFont.update()
</code>


-Paul van der Laan
www.type-invaders.com</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-29 14:42:27"
			itemprop="datePublished"
		>
			2009-09-29 14:42:27
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>pvanderlaan</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
