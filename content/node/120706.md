---
author:
  name: Adrian Williams
body: "I need to add a Digital Signature to OpenType-TT fonts. I found some instructions
  but need to know how it gets into the font which I am making with FontLab on Mac
  (font is intended Windows)...\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nCreate a ttx file
  with a dummy DSIG table, like so: \r\n\r\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\r\n<ttFont
  sfntVersion=\"\\x00\\x01\\x00\\x00\" ttLibVersion=\"2.2\">\r\n<DSIG>\r\n   <hexdata>\r\n
  \    00000001 00000000  \r\n   </hexdata>\r\n</DSIG>\r\n</ttFont>\r\n\r\nThen you
  can merge this into your OT/TTF like this:\r\n\r\nttx -m font.ttf dsig.ttx\r\n\r\nThis
  will decompile the ttf, add the DSIG table, and recompile in one step. Then the
  font will work as intended in MS Office (or so I have found in my testing thus far.)
  This is also easy to incorporate into other scripts.\r\n\r\n~~~~~~~~~~~~~~~~~~~~~~~~\r\nAs
  a newbie to Python, XML and all that, can someone please just explain the process
  - without the coding. A step-by-step list of what happens, when. For example, do
  this, copy that, paste it there. Run this, build that. Otherwise all this coding
  talk is useless to me until I understand how the code gets into the font.\r\n\r\nI'm
  using a Mac and FontLab and I'm guessing FontLab has to run this ttx script in order
  to get the dummy DSIG into the TT font? So it should mean I can do that on the Mac
  and the resulting TTF will work on Windows? \r\n\r\nThanks,\r\nAdrian "
comments:
- author:
    name: "T\xE9 Rowan"
    picture: 121227
  body: "Or, if you are willing to venture into the scary-scary place known by names
    like \"Command Prompt\" and \"Terminal\", you could do the typing yourself with
    the same result.\r\n\r\nTrying to condense the 'magic' into a simple incantation:\r\n\r\n1.
    Type that bit of XML you got into a text editor and save it as ASCII text to \"dsig.ttx\".
    You can use a word processor if it can save ASCII files, but it's too much like
    making a fifty-metre trip in a sport-ute.\r\n\r\n2. Open the Terminal or Command
    Prompt window and type in \"ttx -m \". Drag and drop the font file onto the terminal.
    Make sure there is a space after the just-appeared filename. Drag and drop dsig.ttx
    onto the terminal. Now Press Return.\r\n\r\n3. Now the computer will either tell
    you ttx doesn't exist (meaning it just can't find it) or it'll go on to do the
    typotechnical jiggery-pokery needed to add the dummy DSIG to the font. If you
    know ttx exists, make it the first file to drag and drop onto the terminal.\r\n\r\n4.
    If no text appears when you drag and drop stuff onto the terminal, you are in
    for a whole lot more typing. Ouch."
  children:
  - author:
      name: Adrian Williams
    body: "Thanks T\xE9, I understand this process. Tried it but knowing nothing of
      how xml coding works, I don't think I pasted the correct code. Here's what I
      get:\r\n\r\n- - - - - - -\r\nLast login: Wed Oct 22 15:04:16 on ttys000\r\nadrians-imac:~
      adrianshome$ ttx-m/Users/adrianshome/Documents/\\ SASSOON/Sassoon\\ Fonts\\
      DEV/Current\\ Versions/font+installer\\ builds/Sassoon\\ TTX\\ scripts/SassoFelReg.ttf
      <?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\r\n-bash: syntax error near
      unexpected token `newline'\r\nadrians-imac:~ adrianshome$ <ttFont sfntVersion=\"\\x00\\x01\\x00\\x00\"
      ttLibVersion=\"2.2\">\r\n-bash: syntax error near unexpected token `newline'\r\nadrians-imac:~
      adrianshome$ <DSIG>\r\n-bash: syntax error near unexpected token `newline'\r\nadrians-imac:~
      adrianshome$    <hexdata>\r\n-bash: syntax error near unexpected token `newline'\r\nadrians-imac:~
      adrianshome$      00000001 00000000  \r\n-bash: 00000001: command not found\r\nadrians-imac:~
      adrianshome$    </hexdata>\r\n-bash: syntax error near unexpected token `newline'\r\nadrians-imac:~
      adrianshome$ </DSIG>\r\n-bash: syntax error near unexpected token `newline'\r\nadrians-imac:~
      adrianshome$ </ttFont>\r\n-bash: syntax error near unexpected token `newline'\r\nadrians-imac:~
      adrianshome$  \r\n- - - - - - - \r\n\r\nI pasted this...\r\n\r\n<?xml version=\"1.0\"
      encoding=\"ISO-8859-1\"?>\r\n<ttFont sfntVersion=\"\\x00\\x01\\x00\\x00\" ttLibVersion=\"2.2\">\r\n<DSIG>\r\n
      \  <hexdata>\r\n     00000001 00000000  \r\n   </hexdata>\r\n</DSIG>\r\n</ttFont>\r\n\r\nBUT
      WHERE DOES THIS BELONG..?\r\nttx -m font.ttf dsig.ttx\r\nAND, does \"font.ttf\"
      have to be the actual name of the font file?\r\n\r\nCheers,\r\nAdrian\r\n"
    created: '2014-10-22 15:21:12'
  created: '2014-10-21 21:16:26'
- author:
    name: Michel Boyer
    picture: 112585
  body: "The very first thing to do is to get a terminal window. Click on the Launchpad
    icon and then type term; you should see this appear. Then you click on terminal\r\n[img:sites/default/files/old-images/term_5850.png]\r\nIn
    the terminal window, after the \"prompt\" (probably %)  you type \"which ttx\"
    as follows\r\n<pre>\r\n% which ttx\r\n/Users/boyer/bin/FDK/Tools/osx/ttx\r\n%
    \r\n</pre>\r\nHere I got that ttx is installed in my FDK tools folder. If you
    get no answer, ttx is not installed and the first thing to do is to install ttx.
    You should have it if you properly installed <a href=\"http://www.adobe.com/devnet/opentype/afdko.html\">AFDKO</a>.\r\n\r\nYou
    can then copy the lines between the cut lines and paste them in the terminal window\r\n<PRE>\r\n-------------
    cut line\r\nFLDR=\"${HOME}/Desktop/Dsig fldr\"\r\nmkdir -p \"$FLDR\"\r\ncd \"$FLDR\"\r\ncat
    &gt; dsig.ttx&lt;&lt;EOF\r\n&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\r\n&lt;ttFont
    sfntVersion=\"\\x00\\x01\\x00\\x00\" ttLibVersion=\"2.3\"&gt;\r\n\r\n  &lt;DSIG&gt;\r\n
    \   &lt;hexdata&gt;\r\n      00000001 00000000  \r\n    &lt;/hexdata&gt;\r\n  &lt;/DSIG&gt;\r\n\r\n&lt;/ttFont&gt;\r\nEOF\r\n\r\nopen
    .\r\n------------- cut line\r\n</PRE>\r\nAfter the paste, you may need to type
    a carriage return. That will create a folder on your desktop containing the file
    dsig.ttx and open the folder so that you can select and drop the file dsig.ttx
    as described above. \r\n\r\nNote: I had to use &amp;lt; and &amp;gt; for &lt;
    and &gt; lines to show above else the corresponding lines were blank; now the
    <code>dsig.ttx</code> file produced by the copy paste works fine, I tested.\r\n\r\nYou
    can then do as explained by T\xE9 Rowan.\r\n\r\nYou can also do as follows. \r\n\r\nFirst
    you copy the file <code>dsig.ttx</code> in the font folder containing the fonts
    you want to process.\r\n\r\nAfter that, in the terminal window,  you type \"<code>cd
    </code>\" (with a space after cd but no carriage return) and then do as if you
    wanted to drag into that terminal window the folder containing the ttf files to
    process and then type carriage return.\r\n\r\nNow if you type \"<code>ls</code>\"
    (with a carriage return) in the terminal window, you should get a listing of your
    font files.\r\n\r\nTo add DSIG to all of the ttf files you can now paste in the
    terminal window the following lines (between the cut lines)\r\n<PRE>\r\n-------------
    cut line\r\nfor i in *.ttf\r\ndo \r\n  newname=\"${i%.ttf}win\"\r\n  cp dsig.ttx
    \"${newname}\".ttx\r\n  ttx -m \"$i\" \"${newname}\".ttx\r\n  rm -f \"${newname}\".ttx\r\ndone
    \r\n------------- cut line\r\n</PRE>\r\nThat will create a ...win.ttf file for
    each ttf font you have there. The win.ttf file contains the DSIG stub.\r\n\r\n\r\n"
  children:
  - author:
      name: Adrian Williams
    body: "Thanks Michel for the comprehensive instructions - but I fall at the very
      first hurdle. I downloaded AFDK which landed in the Downloads Folder, so I moved
      the whole FDK Folder to an Applications Folder I have in my home Folder (~home/Applications).
      I launched Terminal and typed \"which ttx\" Return, but got this\r\n\r\nLast
      login: Wed Oct 22 14:42:40 on ttys000\r\nadrians-imac:~ adrianshome$ which ttx\r\n/usr/local/bin/ttx\r\n\r\nIt
      only shows the home Folder and no path to... Tools/osx/ttx\r\n\r\nWhat now?
      \r\n"
    created: '2014-10-22 14:58:59'
  created: '2014-10-22 01:51:22'
- author:
    name: Michel Boyer
    picture: 112585
  body: "The code \r\n<PRE>\r\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\r\n\r\n00000001
    00000000\r\n</PRE>\r\ndoes not work. You need the DSIG tag, and the hexdata else
    ttx does not know what to do with your stub.\r\n\r\nfont.ttf  is the actual name
    of the font file.\r\n\r\nI also see that my stub which worked at home does not
    work on my machine in the office.\r\n"
  created: '2014-10-22 17:36:53'
- author:
    name: Adrian Williams
  body: "Here is what I pasted in Terminal , but when I post on this forum the whole
    code does not appear for some reason? Do I always need to bracket it like so \"<code>
    blah, blah</code>\"\r\n\r\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\r\n<ttFont
    sfntVersion=\"\\x00\\x01\\x00\\x00\" ttLibVersion=\"2.2\">\r\n<DSIG>\r\n   <hexdata>\r\n
    \    00000001 00000000  \r\n   </hexdata>\r\n</DSIG>\r\n</ttFont>\r\n\r\nand still
    the question:\r\nBUT WHERE DOES THIS BELONG..?\r\nttx -m font.ttf dsig.ttx"
  created: '2014-10-22 18:16:04'
- author:
    name: Adrian Williams
  body: "Here's what my code snippet looks like, but I've had to replace < and > with
    \"-\" in order to display it in these posts! How on earth does everyone display
    code snippets. Mine keep getting chopped off? I've tried bracketing code with
    'pre' and 'code' but no joy.\r\n\r\n-?xml version=\"1.0\" encoding=\"ISO-8859-1\"?-\r\n-ttFont
    sfntVersion=\"\\x00\\x01\\x00\\x00\" ttLibVersion=\"2.2\"-\r\n-DSIG-\r\n   -hexdata-\r\n
    \    00000001 00000000  \r\n   -/hexdata-\r\n-/DSIG-\r\n-/ttFont-\r\n\r\nStill
    have no idea how/when to use this:\r\nttx -m font.ttf dsig.ttx"
  created: '2014-10-22 19:12:12'
- author:
    name: Michel Boyer
    picture: 112585
  body: "I just reinstalled AFDKO at home and the current version of ttx is no longer
    2.3 but 2.4. Here is a trace of execution that shows the version:\r\n<PRE>\r\nM-660
    % ttx | head -3\r\nusage: ttx [options] inputfile1 [... inputfileN]\r\n\r\n    TTX
    2.4 -- From OpenType To XML And Back\r\nM-661 % \r\n</PRE>\r\nThe snippet for
    2.3 no longer works with ttx 2.4.  Here  is a snippet that works with TTX 2.4\r\n<PRE>\r\n&lt;?xml
    version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;ttFont sfntVersion=\"\\x00\\x01\\x00\\x00\"
    ttLibVersion=\"2.4\"&gt;\r\n  &lt;DSIG&gt;\r\n    &lt;tableHeader flag=\"0x0\"
    numSigs=\"0\" version=\"1\"/&gt;\r\n  &lt;/DSIG&gt;\r\n&lt;/ttFont&gt;\r\n</PRE>\r\nFor
    whatever version of ttx you are using, the corresponding snippet needs to be put
    in a text file. It was assumed above that the file name is <code>dsig.ttx</code>.
    \ \r\n\r\n"
  created: '2014-10-23 01:07:52'
- author:
    name: Adrian Williams
  body: "OK, I have version 2.4 of Fonttools. Something is happening but I don't know
    exactly how I arrived there. I get a new file entitled 'dsig#1.ttf', 'dsig#2.ttf'
    etc, in Dsig fldr but only 36k file size.  So now I guess I just need to know
    exactly which steps to take. \r\n- - - - - - - -\r\n<code>Last login: Thu Oct
    23 07:00:26 on console\r\nadrians-imac:Dsig fldr adrianshome$ which ttx\r\n/usr/local/bin/ttx\r\nadrians-imac:Dsig
    fldr adrianshome$ /Users/adrianshome/Downloads/fonttools-2.4/Tools/ttx /Users/adrianshome/Downloads/fonttools-2.4/Tools/dsig.ttx
    /Users/adrianshome/Downloads/fonttools-2.4/Tools/SassoBoo.ttf \r\nCompiling \"/Users/adrianshome/Downloads/fonttools-2.4/Tools/dsig.ttx\"
    to \"/Users/adrianshome/Downloads/fonttools-2.4/Tools/dsig.ttf\"...\r\nParsing
    'DSIG' table...\r\nDumping \"/Users/adrianshome/Downloads/fonttools-2.4/Tools/SassoBoo.ttf\"
    to \"/Users/adrianshome/Downloads/fonttools-2.4/Tools/SassoBoo.ttx\"...\r\nDumping
    'GlyphOrder' table...\r\nDumping 'head' table...\r\nDumping 'hhea' table...\r\nDumping
    'maxp' table...\r\nDumping 'OS/2' table...\r\nDumping 'hmtx' table...\r\nDumping
    'LTSH' table...\r\nDumping 'VDMX' table...\r\nDumping 'hdmx' table...\r\nDumping
    'cmap' table...\r\nDumping 'fpgm' table...\r\nDumping 'prep' table...\r\nDumping
    'cvt ' table...\r\nDumping 'loca' table...\r\nDumping 'glyf' table...\r\nwDumping
    'kern' table...\r\nDumping 'name' table...\r\nDumping 'post' table...\r\nDumping
    'gasp' table...\r\nDumping 'GPOS' table...\r\nDumping 'GSUB' table...\r\n</code>\r\n-
    - - - - - - - - \r\nCan you please explain the steps something like this so that
    I understand the process. This is what I did in Terminal:\r\n\r\nEnter which ttx,
    Return.\r\nDrag ttx app to Terminal (displays the path to the app).\r\nDrag dsig.ttx
    to Terminal  (displays the path to the text file).\r\nDrag SassoBoo.ttx file to
    Terminal (displays actual TrueType font file path).\r\nReturn.\r\nCompiling begins...
    (result is a dsig.ttf file).\r\n"
  created: '2014-10-23 09:48:41'
- author:
    name: Michel Boyer
    picture: 112585
  body: "The ttx you dragged is not the ttx returned by which ttx so I don't know
    if your /usr/local/bin/ttx is 2.3 or 2.4. Anyway here are the steps to get \"ttx
    -m font.ttf dsig.ttx\" with that kind of recipe. First remove all of the dsig.ttf
    files you got. Then for each font file\r\n\r\n1. drag ttx app to terminal (since
    it appears to have accepted your snippet) \r\n2. type -m \r\n3. drag the ttf font
    file to terminal (say SassoBoo.ttf)\r\n4. drag dsig.ttx to terminal\r\n5. return\r\n\r\nThat
    will compile only dsig.ttx, merge the DSIG into SassoBoo.ttf  and produce a file
    named dsig.ttf; so here is point 6\r\n\r\n6. rename dsig.ttf as SassoBoo something.ttf
    \r\n\r\nThere are much better ways to proceed using scripts.\r\n\r\nPS Don't switch
    steps 3 and 4. You need to put the .ttf file before the .ttx file.\r\n\r\n\r\n\r\n\r\n\r\n"
  created: '2014-10-23 14:04:15'
- author:
    name: Adrian Williams
  body: "Well, it worked. I install the resulting TrueType font in Windows and have
    access to its features - hooray!\r\n\r\nBut I then instead of deleting just dsig.ttf
    files, I deleted the 'Dsig fldr' from the Desktop and tried again but no joy.
    Now I cannot get the Dsig fldr back again. Reinstating it does not work either.
    How do I create the Dsig fldr again? I'm guessing that's why the same routine
    won't work again?\r\n\r\nScratch that - have created it again and am trying to
    duplicate the first result...  No joy \"Permission denied\". \r\n\r\nPasted the
    snippet again and got the Dsig fldr back. But the routine won't work now. Aaarrrggghhh!!!\r\n\r\nThink
    it works now. I did not have a space after \"-m\" and a trigger-happy Return key
    messed things up.\r\n\r\n<code>\r\nadrians-imac:Dsig fldr adrianshome$ /Users/adrianshome/Downloads/fonttools-2.4/Tools/ttx
    -m /Users/adrianshome/Desktop/Dsig\\ fldr/SassoBooIta.ttf /Users/adrianshome/Desktop/Dsig\\
    fldr/dsig.ttx \r\nCompiling \"/Users/adrianshome/Desktop/Dsig fldr/dsig.ttx\"
    to \"/Users/adrianshome/Desktop/Dsig fldr/dsig.ttf\"...\r\nParsing 'DSIG' table...\r\nadrians-imac:Dsig
    fldr adrianshome$ \r\n</code>\r\n\r\nAfter this, renaming the dsig.ttf file makes
    the font work in Windows. Thank you so much. Just to be able to get 'features'
    working in TT fonts , no-matter how its done is a great relief. There may be more
    elegant ways to do this, like a batch process as I have 70 fonts to do, but I'm
    a happy. So here's my final routine:\r\n\r\n1. Launch Terminal.\r\n\r\n2. Type
    \u2018which ttx\u2019, Return:\r\n<code>/usr/local/bin/ttx\r\nadrians-imac:Dsig
    fldr adrianshome$</code>\r\n\r\n3. Drag TTX app to Terminal  (since it accepted
    your Dsig fldr snippet):\r\n<code>/Users/adrianshome/Downloads/fonttools-2.4/Tools/ttx</code>\r\n\r\n4.
    Type: -m (not forgetting a space after the m).\r\n<code>/Users/adrianshome/Desktop/Dsig\\
    fldr/SassoBooIta.ttf /Users/adrianshome/Desktop/Dsig\\ fldr/dsig.ttx</code>\r\n\r\nFirst
    remove all of the dsig#.ttf files in the Dsig fldr if there are any.\r\nThen for
    each font file:\r\n\L5. Drag the ttf font file to Terminal (say SassoBoo.ttf)\r\n\L6.
    Drag dsig.ttx to terminal\r\n\L7. Return\r\n\r\nThat will compile only dsig.ttx,
    merge the DSIG into SassoBoo.ttf and produce a file named dsig.ttf in the Dsig
    fldr, so now\u2026\r\n\r\n8. Rename dsig.ttf as SassoBoo something.ttf (original
    TrueType filename something)\r\n\r\nDon't switch steps 3 and 4. You need to put
    the .ttf file before the .ttx file.\r\n\r\n\r\n"
  created: '2014-10-23 16:10:43'
- author:
    name: Mark Simonson
    picture: 110448
  body: "You shouldn't need to type \"which ttx\" and drag ttx onto the terminal every
    time you use ttx. If ttx is installed properly, you should be able to just type
    \"ttx\" at the prompt, followed by whatever stuff you want to do with it.\r\n\r\nYou
    can test whether you have it installed properly by typing \"ttx -h\" at the command
    prompt. If you get \"command not found\", then it's not installed properly. If
    you get the ttx help text, then it should work to just type \"ttx\" at the prompt,
    etc."
  created: '2014-10-23 16:33:22'
- author:
    name: Michel Boyer
    picture: 112585
  body: "Mark, there is a ttx that is installed but there are at least two versions
    of ttx on his system. There is ttx 2.4 in ~/Downloads/fonttools-2.4/Tools and
    there is some other ttx in /usr/local/bin. If ttx is typed directly in the terminal
    window it is /usr/local/bin/ttx that will be executed and if that ttx is not ttx
    2.4  then the dsig.ttx file will be incompatible. Executing \r\n\r\nttx -h | head
    -4\r\n\r\nshould however give the version.\r\n\r\nTo be sure that the ttx 2.4
    in Downloads is executed when ttx is called from a terminal window, ${HOME}/Downloads/fonttools-2.4/Tools
    need to be put before /usr/local/bin in his PATH and such things are tricky for
    newbies."
  created: '2014-10-23 16:56:43'
- author:
    name: Mark Simonson
    picture: 110448
  body: "Ah, right. Ugh.\r\n\r\nIt is possible to do it with the more recent version
    of ttx, as Ben Kiel's comment at TypeDrawers shows:\r\n\r\nhttp://typedrawers.com/discussion/comment/9651/#Comment_9651\r\n\r\nHe
    made me a script that incorporates this, so I know it works, but it's a bit above
    my head (which is why I hired him to do it for me)."
  created: '2014-10-23 17:26:57'
- author:
    name: Adrian Williams
  body: "I have  another 100 or so to do also, so will get into your batch processing
    method later T\xE9 - thanks. But right now - Having complied about a dozen fonts
    using Michel's method a couple of fonts complied into two files: font.ttf  (of
    36k) and font.ttx (of 1.2 Mb). Instead of compiling and parsing it's now 'Dumping'.
    Any ideas why are these compiling differently?\r\n\r\n<code>adrians-imac:~ adrianshome$
    /Users/adrianshome/Downloads/fonttools-2.4/Tools/ttx /Users/adrianshome/Desktop/Dsig\\
    fldr/SassoMonMed.ttf /Users/adrianshome/Desktop/Dsig\\ fldr/dsig.ttx \r\nDumping
    \"/Users/adrianshome/Desktop/Dsig fldr/SassoMonMed.ttf\" to \"/Users/adrianshome/Desktop/Dsig
    fldr/SassoMonMed.ttx\"...\r\nDumping 'GlyphOrder' table...\r\nDumping 'head' table...\r\nDumping
    'hhea' table...\r\nDumping 'maxp' table...\r\nDumping 'OS/2' table...\r\nDumping
    'hmtx' table...\r\nDumping 'LTSH' table...\r\nDumping 'VDMX' table...\r\nDumping
    'hdmx' table...\r\nDumping 'cmap' table...\r\nDumping 'fpgm' table...\r\nDumping
    'prep' table...\r\nDumping 'cvt ' table...\r\nDumping 'loca' table...\r\nDumping
    'glyf' table...\r\nDumping 'kern' table...\r\nDumping 'name' table...\r\nDumping
    'post' table...\r\nDumping 'gasp' table...\r\nDumping 'GPOS' table...\r\nDumping
    'GSUB' table...\r\nCompiling \"/Users/adrianshome/Desktop/Dsig fldr/dsig.ttx\"
    to \"/Users/adrianshome/Desktop/Dsig fldr/dsig.ttf\"...\r\nParsing 'DSIG' table...\r\nadrians-imac:~
    adrianshome$ \r\n</code>"
  created: '2014-10-24 10:38:59'
- author:
    name: Michel Boyer
    picture: 112585
  body: "you forgot to type <code>-m</code>.\r\n\r\nThat is another reason batch commands
    are better; they are less prone to \"typos\"."
  created: '2014-10-24 11:41:18'
- author:
    name: Adrian Williams
  body: Ooops! Back on track now. Thanks for pointing that out. When I've finished
    this clutch of fonts I'll investigate batch commands.
  created: '2014-10-24 13:35:04'
- author:
    name: Michel Boyer
    picture: 112585
  body: "Another way is to define a variable TTX that contains the full path of the
    application. For instance, to handle 70 fonts in some folder with Adrian's current
    configuration, what can be done is this (make sure there is no dsig.ttf font in
    those 70 fonts).\r\n\r\n1. type cd with a space in the terminal window\r\n2. drag
    the folder (not the fonts) containing the ttf fonts in the terminal window\r\n3.
    return\r\n\r\n4. paste the following lines in the terminal window\r\n<PRE>\r\nFLDR=\"$HOME/Desktop/Dsig
    fldr\"\r\nTTX=$HOME/Downloads/fonttools-2.4/Tools/ttx \r\nfor i in *.ttf \r\ndo
    \r\n  DSIG=\"$FLDR/${i%.ttf}.ttx\"\r\n  cp \"$FLDR\"/dsig.ttx \"$DSIG\"\r\n  $TTX
    -m $i \"$DSIG\"\r\n  rm -f \"$DSIG\"\r\ndone\r\n</PRE>\r\n5. return\r\n\r\nThe
    70 font files should now be in Dsig fldr with the name they previously had but
    with a DSIG thing. \r\n\r\nThe dsig.ttx snippet you have on typedrawers is however
    different from the one I got after decompiling the dummy DSIG produced by (an
    old version of) fontforge  using ttx 2.4. I have no clue what the \"right\" snippet
    should be but what I got seems to be working for Adrian.*\r\n\r\nTo be complete,
    I should add that it is assumed that the Dsig folder already exists on the desktop
    and contains dsig.ttx for ttx 2.4. Such a folder had previously been created by
    pasting in a terminal window the following lines\r\n<PRE>\r\nFLDR=\"${HOME}/Desktop/Dsig
    fldr\"\r\nmkdir -p \"$FLDR\"\r\ncd \"$FLDR\"\r\ncat &gt; dsig.ttx&lt;&lt;EOF\r\n&lt;?xml
    version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;ttFont sfntVersion=\"\\x00\\x01\\x00\\x00\"
    ttLibVersion=\"2.4\"&gt;\r\n  &lt;DSIG&gt;\r\n    &lt;tableHeader flag=\"0x0\"
    numSigs=\"0\" version=\"1\"/&gt;\r\n  &lt;/DSIG&gt;\r\n&lt;/ttFont&gt;\r\nEOF\r\n</PRE>\r\n\r\n*That
    is also the ttx file I get when I decompile with ttx 2.4 the dummy signature generated
    by ttx 2.3 using the previous dsig.ttx file."
  created: '2014-10-24 21:12:50'
- author:
    name: "T\xE9 Rowan"
    picture: 121227
  body: "And at this moment I feel tempted to suggest a reference and tutorial on
    shell scripts...\r\n\r\n[[http://www.vectorsite.net/tsshell.html]] and [[http://tldp.org/LDP/Bash-Beginners-Guide/html/index.html]]
    are the beginners\u2019 guides I currently have on file.\r\n\r\n[[http://tldp.org/LDP/abs/html/index.html]]
    is an intermediate/advanced guide.\r\n\r\nSome of this ([[http://rute.2038bug.com/]])
    may be applicable on BSD-type systems as well."
  created: '2014-10-26 10:31:56'
- author:
    name: Adrian Williams
  body: "Having used Michel's code to add dummy DSIG to fonts individually, I am now
    embarking on batch processing of many fonts in a Folder. Using Michel's code:\r\n<code>\r\nFLDR=\"$HOME/Desktop/Dsig
    fldr\"\r\nTTX=$HOME/Downloads/fonttools-2.4/Tools/ttx \r\nfor i in *.ttf \r\ndo
    \r\n  DSIG=\"$FLDR/${i%.ttf}.ttx\"\r\n  cp \"$FLDR\"/dsig.ttx \"$DSIG\"\r\n  $TTX
    -m $i \"$DSIG\"\r\n  rm -f \"$DSIG\"\r\ndone\r\n</code>\r\n\r\nThis is what I
    get:\r\n<code>\r\ncp: /dsig.ttx: No such file or directory\r\n-bash: /Users/adrianshome/Downloads/fonttools-2.4/Tools/ttx:
    No such file or directory</code>\r\n\r\nI'm guessing I need to tell Terminal something
    more. So what should be dragged/entered before:\r\n1. cd \r\n2. Drag Folder (of
    all fonts)\r\n3. Return\r\n4. Paste FLDR code\r\n5. Return\r\n\r\nThanks\r\n"
  created: '2014-11-04 14:37:21'
- author:
    name: Adrian Williams
  body: "Ahh. Just spotted the fault. \r\n<code>\r\nTTX=$HOME/Downloads/fonttools-2.4/Tools/ttx\r\n</code>\r\nshould
    read \r\n<code>\r\nTTX=$HOME/Applications/fonttools-2.4/Tools/ttx\r\n</code>\r\nbecause
    I moved the fonttools to a more sensible permanent storage place. Michel's code
    snippet does indeed process all fonts in a Folder whilst retaining their original
    filenames.\r\n\r\nI am very grateful for all the advice I received from this Forum.
    Thanks to everyone!"
  created: '2014-11-04 16:46:37'
- author:
    name: Adrian Williams
  body: "Well, it seems this tricky stuff really is beyond me. It obviously does work.
    I tried it once and it worked fine. I was so pleased. Trying for a further 2 days
    to make the same routine work again has failed. Here's what I am doing which is
    obviously wrong...?\r\n\r\n1. Launch Terminal\r\n2. Type: which ttx\r\n3. Return\r\n4.
    Drag ttx app to Terminal\r\n5. Type: cd with space\r\n6. Type: -m with space (sometimes
    I leave this out because I don't know what \"-m \" means?)\r\n7. Drag Folder (of
    all fonts) to Terminal\r\n8. Return\r\n9. Paste FLDR code\r\n10. Return\r\n\r\nHave
    tried swapping steps 5 and 6 around to no effect. Also tried typing/dragging items
    in different orders. There is obviously ONLY ONE way to do this with the code
    that I have. Since I know nothing of this language I am reliant on this Forum's
    advice to get a job done that should have been possible with FontLab. Once again,
    I would appreciate advice on the correct order I should be doing this.\r\n\r\nThanks."
  created: '2014-11-06 09:14:46'
- author:
    name: Adrian Williams
  body: "Perhaps this is now the problem:\r\n<code>\r\nadrians-imac:~ adrianshome$</code>\r\nhas
    now become <code>\r\nadrians-imac:CYPV0008 adrianshome$\r\n</code>\r\nSo how to
    tell Terminal correct path to home?\r\nThe \"CYPV0008\" was the Folder of fonts
    I dragged to Terminal in my experiments."
  created: '2014-11-06 10:43:22'
- author:
    name: Michel Boyer
    picture: 112585
  body: "The line <code>adrians-imac:CYPV0008 adrianshome$</code> is fine. That means
    that your current directory is <code>$HOME/CYPV0008</code> which is what it should
    be. Your HOME has not changed.\r\n\r\nYou however mixed up recipes. What did you
    expect as a result with that sequence of actions? I just can't guess.\r\n\r\nTo
    clear up things, could you just paste the following lines in a terminal window
    and tell me what you get as an answer? (paste your output in your post).\r\n<PRE>\r\nwhich
    ttx\r\nttx  | head -3 | tail +3\r\n$FDK_EXE/ttx | head -3 | tail +3\r\n</PRE>\r\nNow
    about <code>-m</code>.\r\n\r\nTo get one font file, the command is<pre> ttx -m
    &lt;ttf font file&gt; &lt;ttx font file&gt;\r\n</pre>\r\nwhere <code>ttx</code>
    is the program to be executed; you can get it by just typing <code>ttx</code>
    if your PATH variable is correctly set, else you can drag the application itself
    in the terminal window to get what is represented by <code>ttx</code> in the line
    above. You then need to type <code>-m</code> with a space on both sides to tell
    ttx that the operation to be performed is a merge. <code>ttx</code> is asked to
    merge the ttx signature into the ttf fontfile. Moreover you need to write (or
    drag) the fontfile before the ttx file.\r\n\r\nTo process a full directory, you
    need to use the other recipe http://typophile.com/node/120706#comment-591413 with
    the for loop that applies <code>ttx -m</code> on all the ttf files in the directory."
  children:
  - author:
      name: Adrian Williams
    body: "I don't know what I expect to get when I am doing this. That's the whole
      problem. I'm not a programmer. I followed your initial instructions and converted
      ONE Folder of fonts, so I know it does work.  But I did something and it all
      went wrong from that point. Thanks for explaining what \"-m \" means - but I
      need a simple set of instructions to follow to use the FLDR recipe, like:\r\n1.\r\n2.\r\n3.\r\n4.\r\netc\r\n\r\nI'm
      following the FLDR recipe as you suggested for batch processing.\r\nDsig Fldr
      is on: Desktop\r\nTTX is at: adrianshome/Applications/fonttools-2.4/Tools/ttx\r\nCYPV0008
      is a Folder containing .ttf files to be merged with the dsig."
    created: '2014-11-06 14:44:47'
  created: '2014-11-06 13:41:21'
- author:
    name: Adrian Williams
  body: "Result of entering code snippet:\r\n\r\n<code>\r\nadrians-imac:CYPV0008 adrianshome$
    which ttx\r\n/usr/local/bin/ttx\r\nadrians-imac:CYPV0008 adrianshome$ ttx  | head
    -3 | tail +3\r\n    TTX 2.3 -- From OpenType To XML And Back\r\nadrians-imac:CYPV0008
    adrianshome$ $FDK_EXE/ttx | head -3 | tail +3\r\n-bash: /Users/adrianwi/bin/FDK/Tools/osx/ttx:
    No such file or directory\r\nadrians-imac:CYPV0008 adrianshome$ \r\n</code>\r\n\r\nAnd
    this is the recipe I have been following for two days...\r\n[[http://typophile.com/node/120706#comment-591413]]\r\n\r\n\r\n"
  created: '2014-11-06 14:31:06'
- author:
    name: "T\xE9 Rowan"
    picture: 121227
  body: "I guess you mean something like...\r\n\r\n<pre>cd CYPV0008\r\nfor i in *.ttf
    ; do ~/Applications/fonttools-2.4/Tools/ttx -m $i ~/Desktop/dsig.ttx ; done\r\ncd</pre>\r\n\r\nbut,
    not being a Mac user, I have no idea of the path to the desktop folder, so I can
    not guarantee or warrant its workability.\r\n\r\nFor the record, the tilde is
    shorthand for $HOME is many shells."
  created: '2014-11-06 15:15:43'
- author:
    name: Adrian Williams
  body: "T\xE9,\r\nThis worked once and converted the .ttf fonts:\r\n[[http://typophile.com/node/120706#comment-591413]]\r\n\r\nSo
    I assume my dsig.ttx code and FLDR batch processing code are fine. All the elements
    are there but not in the right order?\r\n\r\nI could not remember exactly what
    I did. Not being a programmer I cannot work this stuff out, but once I understand
    a principle I can deal with it, usually by making a 1, 2, 3 list.  But I don't
    know the order I should do things? Michel says that \"-m \" goes both sides to
    tell ttx its a merge - but both sides of what. There's no mention of this in Michel's
    FLDR code. Making a numbered list at least keeps my entries consistent.\r\n\r\n1.
    Launch Terminal\r\n2. Type: which ttx\r\n3. Return\r\n4. Drag ttx app to Terminal\r\n5.
    Type: cd with space\r\n6. Type: -m with space (sometimes I leave this out because
    I don't know what \"-m \" means?)\r\n7. Drag Folder (of all fonts) to Terminal\r\n8.
    Return\r\n9. Paste FLDR code\r\n10. Return\r\n\r\nThis is the routine I need to
    understand so I can consistently duplicate correct results.\r\n\r\n"
  created: '2014-11-06 16:39:30'
- author:
    name: Michel Boyer
    picture: 112585
  body: "You need to put a space on the left and on the right side of <em>-m</em>
    the same way words are separated by spaces. \r\n\r\nTo handle one individual font,
    after you start terminal you can\r\n1. drag the ttx application in the terminal
    window\r\n2. type <code>-m</code> and not forget to put spaces before and after
    <code>-m</code>\r\n3. drag the ttf font file\r\n4. drag the dsig.ttx file\r\n5.
    return\r\nYou then need to rename the dsig.ttf file you obtain. That recipe can
    be explained but I have no time right now.\r\n\r\nIf you want to process a full
    folder, the other recipe works but to understand it you need some background in
    shell scripting. "
  created: '2014-11-06 18:13:45'
- author:
    name: Adrian Williams
  body: "Thanks for your 1, 2, 3 suggestion. I am doing this very carefully. Even
    this simple routine, which did work for me initially some days ago, does not work
    now. Something has changed. If this is not working then the batch code for a Folder
    won't either. Here is the Terminal display which hopefully throws light on the
    problem?\r\n\r\n<code>\r\nadrians-imac:~ adrianshome$ /Users/adrianshome/Applications/fonttools-2.4/Tools/ttx
    \ -m /Users/adrianshome/Desktop/Dsig\\ fldr/ClubTypLigStd.ttf /Users/adrianshome/Desktop/Dsig\\
    fldr/dsig.ttx \r\nadrians-imac:~ adrianshome$ \r\n</code>\r\n\r\nIt looks like
    absolutely nothing happened when I pressed Return.\r\n\r\nI am fully prepared
    to deal with fonts individually if that's what it takes to keep the routine reliable!"
  created: '2014-11-06 18:56:18'
- author:
    name: Michel Boyer
    picture: 112585
  body: "What you wrote, if ttx is still doing anything, should give some output.
    What do you get if you paste this in a terminal window?\r\n<PRE>\r\n~/Applications/fonttools-2.4/Tools/ttx
    | head -3 | tail +3\r\n</PRE>"
  created: '2014-11-06 21:43:28'
- author:
    name: Adrian Williams
  body: "Nothing...\r\n<code>\r\nadrians-imac:~ adrianshome$ ~/Applications/fonttools-2.4/Tools/ttx
    | head -3 | tail +3\r\nadrians-imac:~ adrianshome$ \r\n</code>\r\n"
  created: '2014-11-07 06:26:51'
- author:
    name: Michel Boyer
    picture: 112585
  body: Then it seems the problem is with ttx itself. I suggest you install <a href="http://www.adobe.com/devnet/opentype/afdko.html">AFDKO</a>
    for the macintosh which also provides TTX 2.4. The installation is easy and does
    not require the <code>sudo</code> I think yours would have needed to be complete
    (i.e. to run <code>sudo python setup.py install</code> in the terminal window).
    If you choose AFKDO, first think well where you want to put the FDK files and
    don't move them after installing. If you move them, you need to reinstall.
  created: '2014-11-07 09:49:35'
- author:
    name: Adrian Williams
  body: "OK, I downloaded FDK to Downloads Folder, then moved FDK to Macintosh HD/Applications/\r\n\r\nFinished
    install and Terminal now shows Autohint instructions and ends with:\r\n<code>\r\nC
    program version 1.56040. lib version 1.5.10.\r\nadrians-imac:~ adrianshome$ \r\n</code>\r\n\r\nHave
    successfully used the single font code routine. Thanks.\r\nWill try the FLDR routine
    later today."
  created: '2014-11-07 10:21:52'
- author:
    name: Michel Boyer
    picture: 112585
  body: "Great. And what do you get if you paste this in the terminal window?\r\n<PRE>\r\nwhich
    ttx\r\necho $FDK_EXE\r\n</PRE> \r\n"
  created: '2014-11-07 13:07:05'
- author:
    name: Adrian Williams
  body: "This...\r\n<code>\r\nadrians-imac:~ adrianshome$ echo $FDK_EXE\r\n/Users/adrianshome/bin/FDK/Tools/osx</code>"
  created: '2014-11-07 13:58:33'
- author:
    name: Michel Boyer
    picture: 112585
  body: "That is good but what about <code>which ttx</code>; what do you get as an
    answer? It it still /usr/local/bin/ttx or is it changed to /Users/adrianshome/bin/FDK/Tools/osx/ttx
    ?\r\n\r\nIn any case, with that value of FDK_EXE, to process the folder as before,
    the steps are\r\n\r\n1. type cd (space)\r\n2. drag the folder \r\n3. return\r\n4.
    paste the code\r\n<PRE>\r\nFLDR=\"$HOME/Desktop/Dsig fldr\"\r\nTTX=$FDK_EXE/ttx\r\nfor
    ttffont in *.ttf \r\ndo \r\n  ttxsig=\"$FLDR/${ttffont%.ttf}.ttx\"\r\n  cp \"$FLDR\"/dsig.ttx
    \"$ttxsig\"\r\n  $TTX -m \"$ttffont\" \"$ttxsig\"\r\n  rm -f \"$ttxsig\"\r\ndone\r\n</PRE>\r\nThat
    assumes that you have not moved the Dsig fldr and that the Dsig fldr still contains
    the right file dsig.ttx.\r\n\r\nIt would now be easy to be more clean, to write
    a script <code>addDSIG</code> that directly adds the signature to a given ttf
    file. With such a script is is then easy to process all the ttf files in a folder
    and subfolders with a one line command."
  children:
  - author:
      name: Adrian Williams
    body: "Result is:\r\n<code>\r\nadrians-imac:~ adrianshome$ which ttx\r\n/usr/local/bin/ttx\r\nadrians-imac:~
      adrianshome$ echo $FDK_EXE\r\n/Users/adrianshome/bin/FDK/Tools/osx\r\n</code>"
    created: '2014-11-07 14:29:58'
  created: '2014-11-07 14:16:47'
- author:
    name: Adrian Williams
  body: Fab - that processed all the fonts in that Folder!
  created: '2014-11-07 14:32:16'
- author:
    name: Michel Boyer
    picture: 112585
  body: "Very good!  Now  <code>which ttx</code> tells you that if you type ttx in
    a terminal window, the ttx that is executed is not the FDK ttx but some TTX 2.3
    that was previously installed in /usr/local/bin. Most users want to get their
    preferred ttx when they type ttx in a terminal window. Unless that old version
    of TTX 2.3 is still useful, I would personally remove it. That can be done with
    the command\r\n<PRE>\r\nsudo rm -f /usr/local/bin/ttx\r\n</PRE>\r\n"
  created: '2014-11-07 15:04:58'
- author:
    name: Adrian Williams
  body: I think it is in use for FontLab Macros, so if I delete it would I need to
    point FontLab to FDK?
  created: '2014-11-07 15:12:05'
- author:
    name: Michel Boyer
    picture: 112585
  body: "I don't know; I don't use FontLab. Another solution is to paste the line\r\n<PRE>\r\nln
    -s $FDK_EXE/ttx $FDK_EXE/fdkttx\r\n</PRE>\r\nin a terminal window (you do that
    just once); then on, instead of typing <code>ttx</code> in the terminal window,
    you can type <code> fdkttx</code> to get AFDKO ttx."
  created: '2014-11-07 15:38:45'
- author:
    name: Adrian Williams
  body: "I'll have to check that in FontLab out before I remove\r\n<code>\r\n/usr/local/bin/ttx\r\n</code>\r\n\r\nI
    understand a lot more about setting things up and using the scripts now. I'll
    post the solution to merging dummy DSIG to TrueType fonts on the FontLab Forum
    in the hope it helps other users who encounter this issue. Thanks so much for
    your help. "
  created: '2014-11-07 15:39:18'
- author:
    name: Adrian Williams
  body: That's a much more efficient way to process the 100 or so fonts I have. I'll
    give it a go when I have a little more time to get into it. I have only 10 Folders
    at present, so the current, working FLDR script is fine. If I had 1,000 Folders/Sub-folders
    then <code>adddsig myfont.ttf</code> would be a real timesaver.
  created: '2014-11-07 17:10:45'
- author:
    name: Michel Boyer
    picture: 112585
  body: "Usually scripts are not pasted in the terminal window. They are kept in files
    with a name and you simply type the name with the arguments. Now that you installed
    AFDKO (with TTX 2.4), you could install such a script <code>addDSIG</code> that
    adds a dummy DSIG to a ttf file. To make that installation, just paste the following
    lines in a terminal window:\r\n<PRE>\r\n#------ cut line\r\ncat &gt; \"$FDK_EXE/addDSIG\"&lt;&lt;'EOFA'\r\n#!/bin/sh\r\n\r\nif
    &#91;&#91; $# -eq 0 || $1 == '-u' || $1 == '-h' &#93;&#93;  \r\nthen\r\n  cat
    &lt;&lt;EOF\r\nUsage: addDSIG &lt;ttf font file&gt;\r\n       adds a dummy DSIG
    to the ttf font file\r\nEOF\r\n  exit 0\r\nfi\r\n\r\ncp \"$FDK_EXE\"/../SharedData/dsig24.ttx
    \"${1%.ttf}.ttx\"\r\nmv \"$1\" \"${1%.ttf}old.ttf\"\r\n\"$FDK_EXE\"/ttx -m \"${1%.ttf}old.ttf\"
    \"${1%.ttf}.ttx\"\r\nrm -f \"${1%.ttf}old.ttf\" \"${1%.ttf}.ttx\"\r\nEOFA\r\nchmod
    755 \"$FDK_EXE/addDSIG\"\r\n\r\ncat &gt; \"$FDK_EXE/../SharedData/dsig24.ttx\"
    &lt;&lt;'EOFB'\r\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;ttFont
    sfntVersion=\"\\x00\\x01\\x00\\x00\" ttLibVersion=\"2.4\"&gt;\r\n  &lt;DSIG&gt;&lt;tableHeader
    flag=\"0x0\" numSigs=\"0\" version=\"1\"/&gt;&lt;/DSIG&gt;\r\n&lt;/ttFont&gt;\r\nEOFB\r\n#------
    cut line\r\n</PRE>\r\nThat adds the script <code>addDSIG</code> in the FDK_EXE
    folder and the file dsig24.ttx in some other appropriate location.\r\n\r\nThen
    to insert a dummy DSIG into some font, say myfont.ttf, you can just type\r\n<PRE>\r\nadddsig
    myfont.ttf\r\n</PRE>\r\nMoreover, with the unix <code>find</code> command, you
    can process all the ttf fonts contained in the current folder and its subfolders
    by just typing the one line command\r\n<PRE>\r\nfind . -name \"*.ttf\" -exec adddsig
    \"{}\" \\;\r\n</PRE>\r\n\r\nAs usual, to get to that folder in the terminal window
    you\r\n\r\n1. type cd with a space\r\n2. you drag the folder\r\n3. return\r\n\r\nNow
    your current directory is that folder;\r\n\r\n4. Now you can type (or paste)\r\n<PRE>\r\nfind
    . -name \"*.ttf\" -exec adddsig \"{}\" \\;\r\n</PRE>\r\nto process all the ttf
    fonts therein (including all subfolders).\r\n\r\nPS For those on Linux where case
    is relevant, always type <code>addDSIG</code> or rename <code>$FDK_EXE/addDSIG</code>
    as <code>$FDK_EXE/adddsig</code> to avoid the uppercase."
  created: '2014-11-07 17:33:25'
- author:
    name: Adrian Williams
  body: Wow! I had over 100 Folders to process in the end, so tried your multi-Folder
    processing code. I did not realise the script would actually replace the existing
    font files. That really worked quickly - what a boon! Thanks so much.
  created: '2014-11-07 18:20:35'
- author:
    name: Michel Boyer
    picture: 112585
  body: "Great! I should have said that <code>addDSIG</code> replaces the original
    font file so that in some cases it may be better to apply the command on a copy.
    The part of the script that actually does any processing is only four lines and
    one of those lines simply removes  the original font (with \"old\" appended to
    its name) as well as the ttx file.\r\n"
  created: '2014-11-07 20:08:36'
- author:
    name: Adrian Williams
  body: "It seems Terminal will not forget the old path I stored ttx. It used to live
    at:<code>\r\n/Users/adrianshome/bin/FDK/Tools/osx/ttx\r\n</code>\r\nDeleting the
    FDK Folder from that location and Restarting the computer has had no effect. I
    installed AFDK again and stored in a permanent place at:<code>\r\n/Applications/FDK/Tools/osx/ttx\r\n</code>\r\nWhen
    I try to run the script to process the content of one Folder I get:\r\n<code>\r\nadrians-imac:OT-TT
    copy adrianshome$ FLDR=\"$HOME/Desktop/Dsig fldr\"\r\nadrians-imac:OT-TT copy
    adrianshome$ TTX=/Applications/FDK/Tools/osx/ttx \r\nadrians-imac:OT-TT copy adrianshome$
    for i in *.ttf \r\n> do \r\n>   DSIG=\"$FLDR/${i%.ttf}.ttx\"\r\n>   cp \"$FLDR\"/dsig.ttx
    \"$DSIG\"\r\n>   $TTX -m $i \"$DSIG\"\r\n>   rm -f \"$DSIG\"\r\n> done\r\nMust
    specify exactly one TTX source file when using -m\r\nMust specify exactly one
    TTX source file when using -m\r\nMust specify exactly one TTX source file when
    using -m\r\n</code>\r\nUsing <code>echo</code> I get:\r\n<code>\r\nAdrians-iMac:OT-TT
    copy adrianshome$ echo $FDK_EXE\r\n/Users/adrianshome/bin/FDK/Tools/osx\r\nAdrians-iMac:OT-TT
    copy adrianshome$ \r\n</code>\r\nRunning the multiple Folder script (to process
    Folder and Sub-folders) that script works fine, I guess because the \"dsig24.ttx\"
    file is in the 'Shared Data' Folder here:\r\n<code>\r\n/Applications/FDK/Tools/osx/ttx\r\n</code>\r\nAm
    I correct in thinking I need to convince Terminal to forget <code>\r\n/Users/adrianshome/bin/FDK/Tools/osx/ttx\r\n</code>in
    favour of<code>\r\n/Applications/FDK/Tools/osx/ttx\r\n</code>\r\n\r\nI tried this
    too:<code>\r\nAdrians-iMac:OT-TT copy adrianshome$ sudo rm -f /usr/local/bin/ttx\r\nPassword:\r\nAdrians-iMac:OT-TT
    copy adrianshome$ \r\n</code>\r\n\r\n"
  created: '2014-11-13 19:27:18'
- author:
    name: Michel Boyer
    picture: 112585
  body: "<blockquote>\r\nAm I correct in thinking I need to convince Terminal to forget\r\n/Users/adrianshome/bin/FDK/Tools/osx/ttx\r\n</blockquote>\r\nNo,
    that is only a soft link to wherever you put the FDK files. That path is needed
    for AFDKO files to work. If you type\r\n<PRE>\r\nls -ld ~/bin/FDK\r\n</PRE>\r\nyou
    should see to what <code>~/bin/FDK</code> points to. You could set\r\n<code>\r\nTTX=$FDK_EXE/ttx\r\n</code>\r\nto
    get the FDK ttx. That is they way it is called in <code>addDSIG</code>. \r\n\r\nI
    don't think your problem is due to ttx. Try replacing $i by \"$i\"; maybe the
    problem is due to a space in some filename. Or just use the snippet I rewrote
    in  http://typophile.com/node/120706#comment-592747 and that was meant to deal
    with that problem.\r\n\r\n\r\n\r\n"
  created: '2014-11-14 01:50:22'
- author:
    name: Adrian Williams
  body: "Your first thought worked when I pasted the \"Folder\" processing snippet:\r\n<code>\r\nLast
    login: Fri Nov 14 06:35:32 on console\r\nadrians-imac:~ adrianshome$ ls -ld ~/bin/FDK\r\nlrwxr-xr-x
    \ 1 adrianshome  admin  17  7 Nov 09:47 /Users/adrianshome/bin/FDK -> /Applications/FDK\r\n</code>\r\n\r\nMany
    thanks!\r\n"
  created: '2014-11-14 07:15:03'
- author:
    name: Adrian Williams
  body: "Lost $PATH to TTX after Yosemite and Xcode 6.2 install...\r\n\r\nFollowing
    your wonderful advice, under Mavericks I had TTX 2.4 working for a few weeks which
    was located at:\r\n<code>/Users/adrianshome/bin/FDK/Tools/osx/ttx<code>\r\n\r\nBut
    after Yosemite & Xcode 6.2 install, Terminal went screwy and tried to access a
    different version of TTX (in the Python Folder). I tried a few things in Terminal
    and now when I change Directory (cd ) I only get a path which is set to my Home
    directory:\r\n<code>which ttx\r\nRTN\r\nAdrians-iMac:~ adrianshome$<code>\r\n\r\nI
    cannot cd because I'm stuck in: \r\n<code>Adrians-iMac:~ adrianshome$ <code>\r\n\r\nHow
    can I get back to where I was by:\r\n1. Ensuring I am using the correct version
    of TTX for Yosemite/Xcode 6.2?\r\n2. Having Terminal access that version when
    using TTX?\r\n"
  created: '2015-04-10 11:27:58'
- author:
    name: Michel Boyer
    picture: 112585
  body: "Try copying and pasting this in a terminal window\r\n\r\n<PRE>\r\ncd ~/bin/FDK\r\n./FinishInstallOSX\r\n</PRE>\r\nand
    then see what <code>which ttx</code> will give you (after quitting terminal and
    starting it again).\r\n\r\nIf that does not work, find where you put your FDK
    folder, go there and follow the instructions for installing.\r\n"
  created: '2015-04-10 13:48:15'
- author:
    name: Michel Boyer
    picture: 112585
  body: "Just type <code>adddsig</code>, drag your font and then type return. That
    should do it.\r\n\r\nIf <code>adddsig</code> is not found, you installed the wrong
    version of FDK. If you get lots of error messages, I don't know. "
  created: '2015-04-10 15:20:26'
- author:
    name: Adrian Williams
  body: "Installed FDK again and used <code>\r\nAdrians-iMac:~ adrianshome$ /Applications/FDK/FinishInstallOSX\r\n<code>\r\n\r\nRoutine
    to add a DSIG to TTF file:\r\nDrag ttx to Terminal.\r\nEnter \" -m \"\r\nDrag
    ttf to Terminal.\r\nDrag dsig.ttx to Terminal.\r\nRTN\r\n\r\nResult...\r\n<code>\r\nLast
    login: Fri Apr 10 14:16:29 on ttys001\r\nAdrians-iMac:~ adrianshome$ which ttx\r\n/Users/adrianshome/bin/FDK/Tools/osx/ttx\r\nAdrians-iMac:~
    adrianshome$ /Applications/FDK/Tools/osx/ttx  -m /Users/adrianshome/Desktop/Dsig\\
    fldr/SassoonInftPY.ttf /Users/adrianshome/Desktop/Dsig\\ fldr/dsig.ttx \r\nCompiling
    \"/Users/adrianshome/Desktop/Dsig fldr/dsig.ttx\" to \"/Users/adrianshome/Desktop/Dsig
    fldr/dsig#1.ttf\"...\r\nParsing 'DSIG' table...\r\nTraceback (most recent call
    last):\r\n  File \"/Applications/FDK/Tools/osx/../SharedData/FDKScripts/ttx.py\",
    line 329, in <module>\r\n    main(sys.argv[1:])\r\n  File \"/Applications/FDK/Tools/osx/../SharedData/FDKScripts/ttx.py\",
    line 309, in main\r\n    process(jobs, options)\r\n  File \"/Applications/FDK/Tools/osx/../SharedData/FDKScripts/ttx.py\",
    line 294, in process\r\n    action(input, output, options)\r\n  File \"/Applications/FDK/Tools/osx/../SharedData/FDKScripts/ttx.py\",
    line 216, in ttCompile\r\n    ttf.save(output)\r\n  File \"/Applications/FDK/Tools/osx/Python/Current/lib/python2.7/site-packages/FontTools/fontTools/ttLib/__init__.py\",
    line 212, in save\r\n    self._writeTable(tag, writer, done)\r\n  File \"/Applications/FDK/Tools/osx/Python/Current/lib/python2.7/site-packages/FontTools/fontTools/ttLib/__init__.py\",
    line 624, in _writeTable\r\n    tabledata = self.getTableData(tag)\r\n  File \"/Applications/FDK/Tools/osx/Python/Current/lib/python2.7/site-packages/FontTools/fontTools/ttLib/__init__.py\",
    line 637, in getTableData\r\n    return self.tables[tag].compile(self)\r\n  File
    \"/Applications/FDK/Tools/osx/Python/Current/lib/python2.7/site-packages/FontTools/fontTools/ttLib/tables/D_S_I_G_.py\",
    line 60, in compile\r\n    packed = sstruct.pack(DSIG_HeaderFormat, self)\r\n
    \ File \"/Applications/FDK/Tools/osx/Python/Current/lib/python2.7/site-packages/FontTools/fontTools/misc/sstruct.py\",
    line 68, in pack\r\n    value = obj[name]\r\nKeyError: 'ulVersion'\r\nAdrians-iMac:~
    adrianshome$ \r\n<code>\r\n\r\nI also get a 1.1 MB file in the Folder where the
    font was dragged from entitled:\r\n<code>\r\nSassoonInftPY.ttx\r\n<code>"
  created: '2015-04-10 15:21:24'
- author:
    name: Adrian Williams
  body: "<code>\r\nLast login: Fri Apr 10 15:18:46 on ttys001\r\nAdrians-iMac:~ adrianshome$
    adddsig/Users/adrianshome/Documents/\\ SASSOON/Sassoon\\ Fonts\\ DEV/Current\\
    Versions/font+installer\\ builds/S9000\\ Pinyin/New\\ Family/FolderTest/SassoonInftPY.ttf
    \r\n-bash: adddsig/Users/adrianshome/Documents/ SASSOON/Sassoon Fonts DEV/Current
    Versions/font+installer builds/S9000 Pinyin/New Family/FolderTest/SassoonInftPY.ttf:
    No such file or directory\r\nAdrians-iMac:~ adrianshome$ \r\n<code>\r\n\r\nI dragged
    the version that downloaded...\r\nv2.5 change number 63209, Sep 18 2014\r\n\r\n???"
  created: '2015-04-10 15:25:22'
- author:
    name: Michel Boyer
    picture: 112585
  body: You need to put a space after adddsig before dragging.
  children:
  - author:
      name: Adrian Williams
    body: "That didn't work either:\r\n<code>\r\nAdrians-iMac:~ adrianshome$ addsig
      /Users/adrianshome/Desktop/Dsig\\ fldr/SassoonInftPY.ttf \r\n-bash: addsig:
      command not found\r\nAdrians-iMac:~ adrianshome$ \r\n<code>"
    created: '2015-04-10 15:31:17'
  created: '2015-04-10 15:27:56'
- author:
    name: Michel Boyer
    picture: 112585
  body: You wrote addsig instead of adddsig.  In fact the command is addDSIG, but
    the mac does not care for case.
  children:
  - author:
      name: Adrian Williams
    body: "<code>\r\nLast login: Fri Apr 10 15:43:35 on ttys000\r\nAdrians-iMac:~
      adrianshome$ addDSIG /Users/adrianshome/Documents/\\ SASSOON/Sassoon\\ Fonts\\
      DEV/Current\\ Versions/font+installer\\ builds/S9000\\ Pinyin/New\\ Family/FolderTest/SassoonInftPY.ttf
      \r\n-bash: addDSIG: command not found\r\nAdrians-iMac:~ adrianshome$ \r\n<code>\r\n\r\n\r\n"
    created: '2015-04-10 15:44:53'
  created: '2015-04-10 15:37:48'
- author:
    name: Michel Boyer
    picture: 112585
  body: "That means that the FDK you reinstalled is not the one for which addDSIG
    was installed previously. By installing the command to <code>~/bin/FDK/Tools/osx</code>
    the command was actually added to the right FDK folder. \r\n\r\nOr else you did
    not install FDK properly. If by copying and pasting\r\n<PRE>\r\nwhich afdkopython\r\n</PRE>\r\n(with
    a RETURN) you get  nothing, you did not install FDK (and don't forget to quit
    terminal after installing)."
  children:
  - author:
      name: Adrian Williams
    body: "<code>\r\nAdrians-iMac:~ adrianshome$ which afdkopython\r\n/Users/adrianshome/bin/FDK/Tools/osx/afdkopython\r\nAdrians-iMac:~
      adrianshome$ \r\n<code>\r\n\r\nShould I delete all instances of FDK and any
      TTX's and start over?"
    created: '2015-04-10 16:04:14'
  created: '2015-04-10 16:02:44'
- author:
    name: Adrian Williams
  body: "I compressed all FDK Folders so Terminal cannot use them. Installed FDK again.\r\n\r\nThe
    issue appears to be that Terminal wants to use the PYTHON installation of ttx
    that I have for FontLab builds.\r\n<code>\r\nCompiling \"/Users/adrianshome/Desktop/Dsig
    fldr/dsig.ttx\" to \"/Users/adrianshome/Desktop/Dsig fldr/dsig.ttf\"...\r\nParsing
    'DSIG' table...\r\nTraceback (most recent call last):\r\n  File \"/Applications/FDK/Tools/osx/../SharedData/FDKScripts/ttx.py\",
    line 329, in <module>\r\n<code>\r\n\r\nSo I have to find a way to supply the correct
    path to:\r\n<cod>/Users/adrianshome/bin/FDK/Tools/osx/ttx\r\n<code>"
  created: '2015-04-10 16:50:03'
- author:
    name: Michel Boyer
    picture: 112585
  body: "If the ttx Fontlab is using is expected to be in ~/bin/FDK, then you simply
    can't have two different installations there. Moreover, the last version of AFDKO
    uses ttx2.5. If that is the version used by Fontlab, you then need another dsig.ttx
    file. This time it should be\r\n<PRE>\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;ttFont
    sfntVersion=\"\\x00\\x01\\x00\\x00\" ttLibVersion=\"2.5\"&gt;\r\n  &lt;DSIG&gt;\r\n
    \   &lt;tableHeader flag=\"0x0\" numSigs=\"0\" version=\"1\"/&gt;\r\n  &lt;/DSIG&gt;\r\n&lt;/ttFont&gt;\r\n</PRE>\r\nTo
    get it I just decompiled a DSIG using the ttx2.5 provided by the last version
    of AFDKO (and I checked that it then works with ttx2.5). That is a no brainer.\r\n\r\nIf
    that works for you, then I could just modify a bit the installation file for addDSIG
    so that it works again with ttx2.5.\r\n\r\nTo know the version of ttx, copy and
    paste in a terminal window\r\n<code>\r\nttx -V | head -3\r\n</code>\r\n\r\nMichel"
  created: '2015-04-10 17:32:19'
- author:
    name: Adrian Williams
  body: "I was able to open my .profile. Here's what it looks like. Does this indicate
    that there are two versions of ttx fighting with each other?\r\n<code>\r\n##\r\n#
    DELUXE-USR-LOCAL-BIN-INSERT\r\n# (do not remove this comment)\r\n##\r\necho $PATH
    | grep -q -s \"/usr/local/bin\"\r\nif [ $? -eq 1 ] ; then\r\n    PATH=$PATH:/usr/local/bin\r\n
    \   export PATH\r\nfi\r\n# Setting PATH for MacPython 2.5\r\n# The orginal version
    is saved in .profile.pysave\r\nPATH=\"/Library/Frameworks/Python.framework/Versions/Current/bin:${PATH}\"\r\n#
    Setting PATH for Python 3.4\r\n# The orginal version is saved in .profile.pysave\r\nPATH=\"/Library/Frameworks/Python.framework/Versions/3.4/bin:${PATH}\"\r\n#
    Initialization for FDK command line tools.Fri Apr 10 16:42:22 2015\r\nFDK_EXE=\"/Users/adrianshome/bin/FDK/Tools/osx\"\r\nPATH=${PATH}:\"/Users/adrianshome/bin/FDK/Tools/osx\"\r\nexport
    PATH\r\nexport FDK_EXE\r\n<code>\r\n"
  created: '2015-04-10 19:12:24'
- author:
    name: Michel Boyer
    picture: 112585
  body: "That simply shows you have many versions of python installed. That is no
    problem because to get the python in the FDK folder, you need to call AFDKOpython.
    There is no name clash.\r\n\r\nThe only relevant thing as concerns ttx and DSIG
    is what is returned when you copy and paste\r\n<code>\r\nwhich ttx\r\nttx -V |
    head -3\r\n</code>\r\nperiod. Stop wasting you time looking everywhere."
  children:
  - author:
      name: Adrian Williams
    body: "Here's the result \r\n<code>\r\nAdrians-iMac:Dsig fldr adrianshome$ ttx
      -V | head -3\r\nusage: ttx [options] inputfile1 [... inputfileN]\r\n    TTX
      2.5 -- From OpenType To XML And Back\r\nAdrians-iMac:Dsig fldr adrianshome$
      \r\n<code>\r\n\r\nI know I have different versions installed. I'm just trying
      to understand why I get this answer to which ttx:\r\n<code>\r\nAdrians-iMac:Dsig
      fldr adrianshome$ which ttx\r\n/Users/adrianshome/bin/FDK/Tools/osx/ttx \r\n<code>\r\n\r\nBut
      errors related to a different version of ttx:\r\n<code>\r\n/Applications/FDK/Tools/osx/Python/Current/lib/python2.7/site-packages/FontTools/fontTools/\r\n<code>\r\n"
    created: '2015-04-10 21:37:37'
  created: '2015-04-10 19:48:25'
- author:
    name: Michel Boyer
    picture: 112585
  body: "If you want to use an older version of FDK, here is what you can do. You
    first type\r\n<PRE>\r\nopen ~/bin\r\n</PRE>\r\nYou'll see in the window that opens
    a folder named FDK which is in fact a link to the folder used for the last installation.\r\n[img:sites/default/files/old-images/FDK_6013.png]\r\nYou
    rename that folder, say <code>FDK orig</code>. Once renamed it is as if it were
    not there. Then you do this in a terminal window\r\n<ol>\r\n<li> type (or paste)
    <code>ln -s </code> with a space after the s</li>\r\n<li>drag in the terminal
    window the old FDK folder you want to use </li>\r\n<li> type (or paste) ~/bin/FDK
    (maybe with a space before ~)</li>\r\n<li>return</li>\r\n</ol>\r\nYou will see
    a new FDK folder appear in the ~/bin window; that is a link to that old version
    you are now ready to use. \r\n\r\nThat way, when you want to use ttx, (or addDSIG),
    you just type <code>ttx</code>, or <code>addDSIG</code>, you don't drag the application.
    It is the corresponding old version that is run.\r\n\r\nWhen you are over, you
    delete (or rename) that FDK link (which looks like an Alias) and give back the
    name FDK to the \"FDK orig\" folder.\r\n\r\nOnce you installed one version of
    FDK, you usually do not need to use FinishInstallOSX again; you can just do the
    four steps above with the new version you want to use. "
  created: '2015-04-11 01:44:40'
- author:
    name: Adrian Williams
  body: "Michel,\r\nI really do appreciate your time and excellent instructions, but
    I don't get what you expect. So at this point I don't know what to do.\r\n\r\n<code>\r\nLast
    login: Sat Apr 11 09:43:48 on ttys003\r\nAdrians-iMac:~ adrianshome$ open ~/bin\r\nAdrians-iMac:~
    adrianshome$ ln -s \r\nusage: ln [-Ffhinsv] source_file [target_file]\r\n       ln
    [-Ffhinsv] source_file ... target_dir\r\n       link source_file target_file\r\nAdrians-iMac:~
    adrianshome$ /Applications/FDK  ~/bin/FDK\r\n-bash: /Applications/FDK: is a directory\r\nAdrians-iMac:~
    adrianshome$ \r\n<code>\r\n\r\nI know I need a Python version of TTX  for FontLab
    to work with macros. Then I installed AFDKO (several times) to addDSIG and it
    was working for a few weeks but I don't know which version!!! So its impossible
    to get back to where I was. \r\n\r\nI'm sure it's pretty obvious how to locate
    the source of my problem to someone familiar with Terminal, but I think I will
    now have to pay good coin to clean up my mess. It is not right to keep imposing
    myself on your good nature. If you are willing to take up the challenge then please
    let me know?"
  created: '2015-04-11 10:14:31'
- author:
    name: Michel Boyer
    picture: 112585
  body: "You typed a return after \"ln -s\". There was a return only in the end at
    step 4.\r\n\r\nIf doing 1, 2, 3, 4 is too tricky  for you and if you can't find
    your folders just don't try. Maybe someone else that reads this thread may take
    advantage of the information.\r\n\r\nNow you probably renamed FDK to \"FDK orig\"
    and you are left with a mess. If so, you type again \"open ~/bin\" and in the
    bin folder you restore the name \"FDK orig\" to FDK and stop trying doing clever
    things. If \"which ttx\" still returns nothing, you reinstall FDK, assuming you
    know which one, else you fetch it from Adobe and follow all the steps again.\r\n\r\nOnce
    that version of FDK is properly restored, you copy and paste in a terminal window
    what is between the cut lines of the previous  post (and maybe type return). Now
    I copy what I said about that in a previous post (that did if for ttx2.4):\r\n<blockquote>\r\nThat
    adds the script addDSIG in the FDK_EXE folder and the file dsig24.ttx in some
    other appropriate location.\r\n\r\nThen to insert a dummy DSIG into some font,
    say myfont.ttf, you can just type\r\n\r\nadddsig myfont.ttf\r\nMoreover, with
    the unix find command, you can process all the ttf fonts contained in the current
    folder and its subfolders by just typing the one line command\r\n\r\nfind . -name
    \"*.ttf\" -exec adddsig \"{}\" \\;\r\nAs usual, to get to that folder in the terminal
    window you\r\n\r\n1. type cd with a space\r\n2. you drag the folder\r\n3. return\r\n\r\nNow
    your current directory is that folder;\r\n\r\n4. Now you can type (or paste)\r\n\r\nfind
    . -name \"*.ttf\" -exec adddsig \"{}\" \\;\r\nto process all the ttf fonts therein
    (including all subfolders).\r\n</blockquote>\r\n\r\nGook luck."
  children:
  - author:
      name: Adrian Williams
    body: "Michel,\r\n\r\nThanks, I'm asking for a Python programmer at People per
      Hour to help me out... www.peopleperhour.com\r\n\r\nWhen I download ADFKO and
      open TTX to see which version it is, it says version 2.3. But I know when I
      had things working, TTX was version 2.4. Can you please remind me how I got
      2.4?\r\n"
    created: '2015-04-11 16:07:45'
  created: '2015-04-11 12:53:32'
- author:
    name: Michel Boyer
    picture: 112585
  body: "If you fetch the last version on the Adobe site you get ttx 2.5. You know
    that by copying and pasting\r\n<PRE>\r\n$FDK_EXE/ttx | head -3 | tail -1\r\n</PRE>\r\nin
    a terminal window (after you installed). If the answer is ttx 2.3 that means that
    you reinstalled an old version, before 2.4. Each version of ttx requires its own
    dsig.ttx. You got ttx 2.4 when you installed the version provided by Adobe at
    the time of your first post. \r\n\r\nMy script above takes care of ttx2.4 and
    ttx2.5. I did not include the dsig.ttx for ttx2.3. (now that has been added)**
    And dont' forget that each time you reinstall a version from a zip file, you need
    to copy and paste again the lines above to get addDSIG. Your PATH did not allow
    me to do any better and I don't want to touch your .profile file.\r\n\r\n**Modification:
    the script has now been modified to work with the AFDKO ttx versions 2.2, 2.3,
    2.4 and 2.5. The script addDSIG works with the last AFDKO ttx you installed (even
    if you have some other ttx ealier in your path)."
  children:
  - author:
      name: Adrian Williams
    body: "I now have this working at least, but I had to change two things:\r\nchanged
      the version to 2.5\r\nAfter pasting the code I added a Return before typing
      addDSIG. \r\n\r\nSo here is your advice with those changes...\r\n\r\nIf you
      drag the ttx file, you get the ttx you dragged, which may be different from
      the one in ~/bin/FDK. Stop dragging ttx.\r\n\r\nNow things are clear: you have
      ttx 2.5 installed in ~/bin/FDK. Copy and paste this in a terminal window:\r\n<code>\r\n#------
      cut line\r\ncat > \"$FDK_EXE/addDSIG\"<<'EOFA'\r\n#!/bin/sh\r\nif [[ $# -eq
      0 || $1 == '-u' || $1 == '-h' ]]  \r\nthen\r\n  cat <<EOF\r\nUsage: addDSIG
      <ttf font file>\r\n       adds a dummy DSIG to the ttf font file\r\nEOF\r\n
      \ exit 0\r\nfi\r\ncp \"$FDK_EXE\"/../SharedData/dsig.ttx \"${1%.ttf}.ttx\"\r\nmv
      \"$1\" \"${1%.ttf}old.ttf\"\r\n\"$FDK_EXE\"/ttx -m \"${1%.ttf}old.ttf\" \"${1%.ttf}.ttx\"\r\nrm
      -f \"${1%.ttf}old.ttf\" \"${1%.ttf}.ttx\"\r\nEOFA\r\nchmod 755 \"$FDK_EXE/addDSIG\"\r\n\r\nVERSION=`$FDK_EXE/ttx
      -h | head -3 | tail -1 | awk '{print $2}'`\r\nif [[ $VERSION < 2.5 ]]\r\nthen
      \r\ncat > \"$FDK_EXE/../SharedData/dsig.ttx\" <<EOFB\r\n<?xml version=\"1.0\"
      encoding=\"ISO-8859-1\"?>\r\n<ttFont sfntVersion=\"\\x00\\x01\\x00\\x00\" ttLibVersion=\"$VERSION\">\r\n
      \ <DSIG> <hexdata> 00000001 00000000  </hexdata> </DSIG>\r\n</ttFont>\r\nEOFB\r\nelse\r\ncat
      > \"$FDK_EXE/../SharedData/dsig.ttx\" <<EOFC\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<ttFont
      sfntVersion=\"\\x00\\x01\\x00\\x00\" ttLibVersion=\"$VERSION\">\r\n  <DSIG>
      <tableHeader flag=\"0x0\" numSigs=\"0\" version=\"1\"/> </DSIG>\r\n</ttFont>\r\nEOFC\r\nfi\r\n#------
      cut line\r\n<code>\r\nType a Return. After that do not drag ttx. Type addDSIG,
      then type a space, then drag your file and then return. That should work and
      modify the font itself. The other commands with \"find\" that modify all the
      ttf files in a folder should also work.\r\n\r\nEach time you install a new version
      of AFDKO, you copy and paste those lines in a terminal window.\r\n\r\nNow I
      need to understand why the  Folder routine will not work."
    created: '2015-04-16 08:15:22'
  created: '2015-04-14 17:12:56'
- author:
    name: Michel Boyer
    picture: 112585
  body: "If you drag the ttx file, you get the ttx you dragged, which may be different
    from the one in ~/bin/FDK. Stop dragging ttx.\r\n\r\nNow things are clear: you
    have ttx 2.5 installed in ~/bin/FDK. Copy and paste this in a terminal window:\r\n<PRE>\r\n#------
    cut line\r\ncat &gt; \"$FDK_EXE/addDSIG\"&lt;&lt;'EOFA'\r\n#!/bin/sh\r\nif &#91;&#91;
    $# -eq 0 || $1 == '-u' || $1 == '-h' &#93;&#93;  \r\nthen\r\n  cat &lt;&lt;EOF\r\nUsage:
    addDSIG &lt;ttf font file&gt;\r\n       adds a dummy DSIG to the ttf font file\r\nEOF\r\n
    \ exit 0\r\nfi\r\ncp \"$FDK_EXE\"/../SharedData/dsig.ttx \"${1%.ttf}.ttx\"\r\nmv
    \"$1\" \"${1%.ttf}old.ttf\"\r\n\"$FDK_EXE\"/ttx -m \"${1%.ttf}old.ttf\" \"${1%.ttf}.ttx\"\r\nrm
    -f \"${1%.ttf}old.ttf\" \"${1%.ttf}.ttx\"\r\nEOFA\r\nchmod 755 \"$FDK_EXE/addDSIG\"\r\n\r\nVERSION=`$FDK_EXE/ttx
    -h | head -3 | tail -1 | awk '{print $2}'`\r\nif &#91;&#91; $VERSION &lt; 2.4
    &#93;&#93;\r\nthen \r\ncat &gt; \"$FDK_EXE/../SharedData/dsig.ttx\" &lt;&lt;EOFB\r\n&lt;?xml
    version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\r\n&lt;ttFont sfntVersion=\"\\x00\\x01\\x00\\x00\"
    ttLibVersion=\"$VERSION\"&gt;\r\n  &lt;DSIG&gt; &lt;hexdata&gt; 00000001 00000000
    \ &lt;/hexdata&gt; &lt;/DSIG&gt;\r\n&lt;/ttFont&gt;\r\nEOFB\r\nelse\r\ncat &gt;
    \"$FDK_EXE/../SharedData/dsig.ttx\" &lt;&lt;EOFC\r\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;ttFont
    sfntVersion=\"\\x00\\x01\\x00\\x00\" ttLibVersion=\"$VERSION\"&gt;\r\n  &lt;DSIG&gt;
    &lt;tableHeader flag=\"0x0\" numSigs=\"0\" version=\"1\"/&gt; &lt;/DSIG&gt;\r\n&lt;/ttFont&gt;\r\nEOFC\r\nfi\r\n#------
    cut line\r\n</PRE>\r\nAfter that do not drag ttx. Type <code>addDSIG</code>, then
    type a space, then drag your file and then return. That should work and modify
    the font itself. The other commands with \"find\" that modify all the ttf files
    in a folder should also work.\r\n\r\nEach time you install a new version of AFDKO,
    you copy and paste those lines in a terminal window.\r\n\r\nMichel\r\n\r\n"
  created: '2015-04-14 17:29:18'
- author:
    name: Michel Boyer
    picture: 112585
  body: "Too much text is missing from what you pasted to know exactly what you did.
    To paste code on Typophile, I have it go through a sed script but that would be
    too long to explain. There is also a way with textedit: you save the text as html
    with the options \"No CSS\" and \"HTML 4.01 strict\" in the preferences and you
    paste the relevant lines of the html code into the Typophile window. Anyway, if
    addDSIG works on a single font file, there is no reason for the <code>find</code>
    command not to work on the current directory. Be careful to properly apply the
    <code>cd</code> command before the <code>find</code>\r\n\r\nTo have addDSIG work
    on a single <code>.ttf</code> font (with lowercase <code>ttf</code>) file you\r\n<ol>\r\n<li>
    type <code>addDSIG</code> followed by space bar and no carriage return</li>\r\n<li>
    drag the font file to the terminal window</li>\r\n<li> RETURN</li>\r\n</ol>"
  created: '2015-04-16 13:18:38'
- author:
    name: Adrian Williams
  body: Well, I had no luck! The Python programmer in India did not solve the issue
    after 10 hours. So I'm back to just dragging a single file (as your last message)
    which gets overwritten with the DSIG. That's fine. At least I have some method
    of doing it even if its plodding. I thank you for your patience and expertise
    and I cannot guarantee not to be in touch again if things go screwy, but I'll
    certainly try to have as little to do with Terminal as possible hence forth!
  created: '2015-04-16 19:09:06'
- author:
    name: Michel Boyer
    picture: 112585
  body: "I doubt the problem has anything to do with python. For any unix based system,
    including the Mac, if all is fine with addDSIG and a single file, that should
    be the same with a folder (though I have not installed Yosemite, and I thus don't
    know what can go wrong). I am curious. What do you get if you copy and paste the
    following lines in the terminal window?\r\n<PRE>\r\necho -------------------\r\nfor
    f in `echo $PATH | sed 's/:/ /g'`; do echo \"$f\"; done\r\nfind\r\nls -l /usr/bin/find\r\n</PRE>\r\n(copy
    and paste in the typophile window what there is below the dotted line in your
    output)."
  created: '2015-04-17 04:03:39'
- author:
    name: Adrian Williams
  body: "Here's what I get if I paste the code followed by a Return...\r\n<code>\r\nLast
    login: Fri Apr 17 06:35:10 on ttys001\r\nAdrians-iMac:~ adrianshome$ for f in
    `echo $PATH | sed 's/:/ /g'`; do echo \"$f\"; done\r\n/usr/local/bin\r\n/usr/bin\r\n/bin\r\n/usr/sbin\r\n/sbin\r\n/opt/X11/bin\r\n/Users/adrianshome/bin/FDK/Tools/osx\r\nAdrians-iMac:~
    adrianshome$ find\r\nusage: find [-H | -L | -P] [-EXdsx] [-f path] path ... [expression]\r\n
    \      find [-H | -L | -P] [-EXdsx] -f path [path ...] [expression]\r\nAdrians-iMac:~
    adrianshome$ ls -l /usr/bin/find\r\n-rwxr-xr-x  1 root  wheel  47616  9 Sep  2014
    /usr/bin/find\r\nAdrians-iMac:~ adrianshome$ \r\nAdrians-iMac:~ adrianshome$\r\n<code>"
  created: '2015-04-17 06:37:00'
- author:
    name: Michel Boyer
    picture: 112585
  body: Everything looks normal. I can see no reason why the <code>find</code> command
    would not work on your font folder after you type <code>cd</code> and the space
    bar with no return and drag your font file to the terminal. What error message
    do you get?
  created: '2015-04-17 09:49:19'
- author:
    name: Adrian Williams
  body: "The single file drag routine works:\r\n\r\n    type addDSIG followed by space
    bar and no carriage return\r\n    drag the font file to the terminal window\r\n
    \   RETURN\r\n\r\nIt is the Folder routine that complicates matters. I made some
    notes for myself about how to use Terminal because I will use it about every few
    months, not every day. It needs updating to 2.5. See PDF at Dropbox...\r\nhttps://www.dropbox.com/sh/gvig7puam2179p6/AAApDFVWV28r30R69k16EZ7Qa?dl=0"
  created: '2015-04-17 10:52:16'
- author:
    name: Michel Boyer
    picture: 112585
  body: "I with repeat:\r\n<ol>\r\n<li> type <code>cd</code> followed by a space bar
    and no return</li>\r\n<li> drag the font folder to the terminal window</li>\r\n<li>RETURN</li>\r\n</il>\r\nthen
    paste this into the terminal window\r\n<PRE>\r\nfind . -name \"*.ttf\" -exec addDSIG
    \"{}\" \\;\r\n</PRE>\r\nWhat do you get?\r\n"
  created: '2015-04-17 11:07:12'
- author:
    name: Adrian Williams
  body: "Have sent to Dropbox...\r\nhttps://www.dropbox.com/s/tfek3el16c6qsyf/find_1.rtf?dl=0\r\nThe
    result of this is that all the font file were deleted from the Folder!"
  created: '2015-04-17 11:25:52'
- author:
    name: Michel Boyer
    picture: 112585
  body: "Weird! If that does not work, it should not work for a single file either.
    What do you get if you paste this in the terminal window after the <code>cd</code>
    and dragging the font folder?\r\n<PRE>\r\nwhich addDSIG\r\ncat `which addDSIG`\r\n\"$FDK_EXE\"/ttx
    \ -h | head -3 | tail -1\r\ncat -tev \"$FDK_EXE\"/../SharedData/dsig.ttx\r\n</PRE>"
  created: '2015-04-17 12:25:19'
- author:
    name: Adrian Williams
  body: "<code>\r\nLast login: Fri Apr 17 11:19:47 on ttys005\r\nAdrians-iMac:~ adrianshome$
    cd /Users/adrianshome/Desktop/Dsig\\ fldr_old/Sassoon\\ Folders/Pinyin\\ copy\\
    2 which addDSIG\r\nAdrians-iMac:Pinyin copy 2 adrianshome$ cat `which addDSIG`\r\n#!/bin/sh\r\nif
    [[ $# -eq 0 || $1 == '-u' || $1 == '-h' ]]\r\nthen\r\ncat <<EOF\r\nUsage: addDSIG
    <ttf font file>\r\nadds a dummy DSIG to the ttf font file\r\nEOF\r\nexit 0\r\nfi\r\ncp
    \"$FDK_EXE\"/../SharedData/dsig24.ttx \"${1%.ttf}.ttx\"\r\nmv \"$1\" \"${1%.ttf}old.ttf\"\r\n\"$FDK_EXE\"/ttx
    -m \"${1%.ttf}old.ttf\" \"${1%.ttf}.ttx\"\r\nrm -f \"${1%.ttf}old.ttf\" \"${1%.ttf}.ttx\"\r\nAdrians-iMac:Pinyin
    copy 2 adrianshome$ \"$FDK_EXE\"/ttx  -h | head -3 | tail -1\r\n    TTX 2.5 --
    From OpenType To XML And Back\r\nAdrians-iMac:Pinyin copy 2 adrianshome$ cat -tev
    \"$FDK_EXE\"/../SharedData/dsig.ttx\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>$\r\n<ttFont
    sfntVersion=\"\\x00\\x01\\x00\\x00\" ttLibVersion=\"2.5\">$\r\n  <DSIG> <tableHeader
    flag=\"0x0\" numSigs=\"0\" version=\"1\"/> </DSIG>$\r\n</ttFont>$\r\nAdrians-iMac:Pinyin
    copy 2 adrianshome$ \r\n<code>\r\n\r\nBreaking for lunch - back in 1.5 hours."
  created: '2015-04-17 12:32:34'
- author:
    name: Michel Boyer
    picture: 112585
  body: 'You will have to do that in dropbox; I see that the typophile window is useless
    for that. '
  created: '2015-04-17 12:40:43'
- author:
    name: Adrian Williams
  body: "Dropbox...\r\nhttps://www.dropbox.com/s/o7qzsl3mtdevqxh/find_2.rtf?dl=0"
  created: '2015-04-17 12:50:12'
- author:
    name: Michel Boyer
    picture: 112585
  body: "The <code>addDSIG</code> that is executed is the wrong one. It uses dsig24.ttx
    instead of dsig.ttx. I can't see what <code>which addDSIG</code> returned. Can
    you still in that same font folder execute\r\n<code>\r\necho `which addDSIG`\r\necho
    ----\r\ncat \"$FDK_EXE\"/addDSIG\r\n</code>\r\nand put the result on dropbox?"
  created: '2015-04-17 13:14:15'
- author:
    name: Adrian Williams
  body: https://www.dropbox.com/s/1phvwx23ew252za/find_3.rtf?dl=0
  created: '2015-04-17 13:17:01'
- author:
    name: Michel Boyer
    picture: 112585
  body: "I don't understand why the addDSIG command could work even for one file.
    The line\r\n<PRE>\r\ncp \"$FDK_EXE\"/../SharedData/dsig24.ttx \"${1%.ttf}.ttx\"
    \r\n</PRE>\r\nshould be\r\n<PRE>\r\ncp \"$FDK_EXE\"/../SharedData/dsig.ttx \"${1%.ttf}.ttx\"
    \r\n</PRE>\r\nwithout  <code>24</code> after <code>dsig</code>.\r\n"
  created: '2015-04-17 13:27:56'
- author:
    name: Adrian Williams
  body: "I have both of these in the SharedData Folder:\r\nhttps://www.dropbox.com/s/ca059xsigsvnsha/dsig.ttx?dl=0\r\nhttps://www.dropbox.com/s/deoh6xs4yg7cxl3/dsig24.ttx?dl=0\r\n"
  created: '2015-04-17 14:04:42'
- author:
    name: Michel Boyer
    picture: 112585
  body: Can you just put the DSIG that is at the beginning of line 4 of dsig24.ttx
    at the end of line 3 so as to get &lt;/DSIG&gt; at the end of line 3 and no return
    (and no space) between the / and the DSIG?
  created: '2015-04-17 14:19:21'
- author:
    name: Adrian Williams
  body: "https://www.dropbox.com/s/deoh6xs4yg7cxl3/dsig24.ttx?dl=0\r\nOK - what next?"
  created: '2015-04-17 14:25:51'
- author:
    name: Michel Boyer
    picture: 112585
  body: Do again http://www.typophile.com/node/120706?page=79?from=0&comments_per_page=1#comment-603061
    with trace in dropbox
  created: '2015-04-17 14:38:55'
- author:
    name: Adrian Williams
  body: Bingo!  All files in Folder modified. So it was that pesky return that forced
    the code to use dsig.ttx instead of disg24.ttx ?
  children:
  - author:
      name: Michel Boyer
      picture: 112585
    body: "For some reason your file addDSIG is not the one obtained when you copy
      and paste the text between the cut lines of the post above; it is that file
      addDSIG that is calling dsig24.ttx instead of dsig.ttx. And the dsig24.ttx file
      had a return that was causing  problem indeed.\r\n"
    created: '2015-04-17 14:56:05'
  created: '2015-04-17 14:48:24'
- author:
    name: Adrian Williams
  body: Then the mystery is partially solved. I have no idea how that happened. I
    am much obliged to you for discovering it and thanks once again.
  created: '2015-04-17 16:02:31'
date: '2014-10-21 14:51:21'
node_type: forum
title: How to add Dummy DSIG to OpenType TT font?

---
