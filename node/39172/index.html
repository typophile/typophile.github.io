<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>WinAscent... LineGap... Font BBox? | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="WinAscent... LineGap... Font BBox?" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/39172/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2007-11-17T03:33:42+00:00" />
<meta property="article:modified_time" content="2007-11-17T03:33:42+00:00" />

<meta itemprop="name" content="WinAscent... LineGap... Font BBox?">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2007-11-17T03:33:42+00:00" />
<meta itemprop="dateModified" content="2007-11-17T03:33:42+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="WinAscent... LineGap... Font BBox?"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">WinAscent... LineGap... Font BBox?</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2007-11-17T03:33:42Z">November 17, 2007</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Nick Shinn</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><img src="/images/old-images/Os1_5847.jpg" alt=""><img src="/images/old-images/OS2_3858.jpg" alt="">
What is it that causes the positioning of fonts relative to the top of a text box?</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Isn&rsquo;t it because of the ascenders positioning within the typeface_?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-11-17 03:53:22"
			itemprop="datePublished"
		>
			2007-11-17 03:53:22
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>satya</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">It seems that different applications on different platforms use different ones of these, and do vertical alignment differently. The Typowiki on [[http://typophile.com/node/13081?|vertical metrics]], written by John Hudson, has quite a bit about it.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-11-17 04:18:00"
			itemprop="datePublished"
		>
			2007-11-17 04:18:00
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>William Berkson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>That&rsquo;s mainly about cross-platform compatibility.
In it, he says, &ldquo;&hellip;different methods are used [by different applications] to calculate the distance from the top of the text frame to the first baseline,&rdquo; but doesn&rsquo;t go into it any further.</p>
<p>I was wondering which font metric governs the text-frame-to-baseline measurement in various programs, such as Quark in my example.</p>
<p>I try to keep the final Font BBox measurement (top right y-axis value) consistent within font families, that seems to work, but I wondered if there was more to it than that.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-11-17 04:39:10"
			itemprop="datePublished"
		>
			2007-11-17 04:39:10
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Nick Shinn</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>&ldquo;What is it that causes the positioning of fonts relative to the top of a text box?&rdquo; 
We&rsquo;ve been asked several times to &ldquo;fix&rdquo; this and we&rsquo;ve made the top of the em square and top of the H the same. 
The response has been positive.</p>
<p>Cheers!</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-11-17 12:50:37"
			itemprop="datePublished"
		>
			2007-11-17 12:50:37
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>dberlow</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks David!</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-11-17 17:36:22"
			itemprop="datePublished"
		>
			2007-11-17 17:36:22
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Nick Shinn</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">How do you adjust the em square?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-11-18 06:54:39"
			itemprop="datePublished"
		>
			2007-11-18 06:54:39
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Michael Jarboe</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>&ldquo;How do you adjust the em square?
I&rsquo;m not sure what adjustment you want to make; 
There is resolution of em, like 1000 or 2048, er something else. 
There is the position of the baseline within the em. 
There is the font&rsquo;s relationship to the vertical boundaries&hellip;</p>
<p>Cheers!</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-11-18 13:44:41"
			itemprop="datePublished"
		>
			2007-11-18 13:44:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>dberlow</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>What Read Roberts found on the Mac was that some applications calculate the distance from the top of the text box to the baseline of the first line of text as hhea Ascender, and some calculate it as hhea Ascender + Linegap. On Windows, OS/2 WinAscent is almost always used to calculate this distance. So the only way to ensure consistency everywhere is to match the hhea Ascender value to the OS/2 WinAscent value, while setting the hhea Linegap value to zero, *presuming&quot;</p>
<p>I&rsquo;m not sure what a WPF app will do to calculate the distance if fsSelection bit 7 has been set to instruct the app to use the OS/2 Typo values to calculate linespacing: it may use TypoAscender, or it may use TypoAscender + TypoLineGap, or it may use WinAscent. Of course, if you have made the decision to use fsSelection bit 7, that is most likely because your Typo values do not sum to your Win values, i.e. you want to decouple linespacing from clipping. So then you are back at cross-platform compatibility issues.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-11-21 03:59:01"
			itemprop="datePublished"
		>
			2007-11-21 03:59:01
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><img src="/images/old-images/Hs_4497.jpg" alt="">
What causes this behaviour in TextEdit?
The font format is Mac Type 1, generated as a suitcase, with Fontlab.</p>
<p>Metric values are identical for roman and italic &ndash; including &ldquo;BBox&rdquo; y-axis values, alignment zones, etc., and yet italic characters position lower than roman.</p>
<p>It doesn&rsquo;t happen in other applications such as CS and Word.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-11-30 09:53:38"
			itemprop="datePublished"
		>
			2007-11-30 09:53:38
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Nick Shinn</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>&ldquo;Metric values are identical for roman and italic — &quot;</p>
<p>Triple checked?</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-11-30 13:18:47"
			itemprop="datePublished"
		>
			2007-11-30 13:18:47
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>dberlow</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Have you previously installed a different version with the same name? If so, it may be a font cache issue, where the OS is not displaying your most recent version of one of the two fonts.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-11-30 14:08:55"
			itemprop="datePublished"
		>
			2007-11-30 14:08:55
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Mark Simonson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Nick,</p>
<p>send me the font, I&rsquo;ll take a look.</p>
<p>General: keep in mind that this stuff is VERY different for OTPS, OTTT and Type 1. Each format has its own peculiarities depending on the system and the app used.</p>
<p>For example, I have found out is that for one font format, I have now forgotten which, one version of InDesign used UPM minus Descender to position the first line of text rather than using Ascender (I think it was OpenType PS and TypoDescender, but am not sure). So if you made Ascender+Descender &lt;&gt; UPM size, the first line was off by a different offset than the rest.</p>
<p>Adam</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-12-02 07:05:39"
			itemprop="datePublished"
		>
			2007-12-02 07:05:39
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>twardoch</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Nick,</p>
<p>I had the same Problem with two fonts (normal and small-caps) of the same family, the small-caps produced a wider linespacing than the normal weight. All vertical metric values were equal. I think TextEdit does not look at any metric values. It measures the font boundingbox by itself.
The source of the problem was a missing extreme point at the bottom of a cedilla. A BCP-handel was placed far below the descender. After setting the extreme point everything was fine.
I think checking your accents is a good idea.</p>
<p>Eigi</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-12-04 17:08:07"
			itemprop="datePublished"
		>
			2007-12-04 17:08:07
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>eigi</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks Andreas, I&rsquo;ll check those again!</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-12-04 19:58:10"
			itemprop="datePublished"
		>
			2007-12-04 19:58:10
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Nick Shinn</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>While working on a photofont plugin for AID, QXP and web we have this problem with vertical (and also horizontal) layout of text in a text block. Since from the block that has to be served by plugin we have absolutely no access to any pixel outside it, we have to fit everything inside to avoid any kind of glyph cutting.</p>
<p>Unfortunately it makes impossible typographically correct layout of the text (lsb on the left, ascender or ascender+linegap on the top): what should we do with script-like fonts which extend outside the left margin line? The same problem happens with top layout: in fonts similar to Zapfino Ink many glyphs extend vertically beyound ascender and even UPM line.</p>
<p>So far we found no other solution for the &ldquo;top-left&rdquo; problem then using font bounding box - this is the only way to make sure that no part of a glyph will disappear. Unfortunately it makes difficult to align text blocks on the page, requiring some manual control.</p>
<p>Another problem would be to define &ldquo;typographically correct&rdquo; font bounding box: some glyphs will never appear as leftmost on a text line (take accents made &ldquo;old&rdquo; way with negative left sidebearing) but may have big impact on calculating font bbox. We have no good solution for this right now, but we continue research.</p>
<p>In photofonts detecting glyph (and font) bounding box has additional level of complexity: since glyph image has &ldquo;smooth&rdquo; transparency, it is not easy to draw a line of where it actually ends.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-12-13 11:25:43"
			itemprop="datePublished"
		>
			2007-12-13 11:25:43
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>yuri</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Track.</p>
<p>ChrisL</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-12-13 14:28:09"
			itemprop="datePublished"
		>
			2007-12-13 14:28:09
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>dezcom</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>&ldquo;Track&rdquo;
Track to the widest bounds of each character proportionally and Lead to the widest the bound of all characters, you mean?</p>
<p>A glyph shape not needing to be a subset of the glyphs &lsquo;compose-me-here-without-leading-or-tracking&rsquo; box, is in the top 10 highlights of digital type composition, somewhere ;-) So, when one wants to export typography without a good definition of the em, or a format to hold the &lsquo;true&rsquo; extremes, that is tough.</p>
<p>Nick&rsquo;s issue, since he&rsquo;s got one style working, should be solvable by one combination or another of type number monkeying.</p>
<p>But now that this bounding issue is just a stable of variables, I&rsquo;ll be cool to have a type design app so if the type designer knows the answers, the app knows the questions and can display, (as guidelines), &lsquo;the bounds&rsquo;, when that&rsquo;s important in a design(er). I don&rsquo;t think anything does that now, does it?</p>
<p>Cheers!</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-12-13 15:30:36"
			itemprop="datePublished"
		>
			2007-12-13 15:30:36
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>dberlow</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Thanks, David! That was an insightful explanation which I am glad you posted.</p>
<p>My posting of the word &ldquo;track&rdquo; was just my quick way of getting this thread to show up in my list of threads to follow :-/</p>
<p>ChrisL</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-12-13 19:15:20"
			itemprop="datePublished"
		>
			2007-12-13 19:15:20
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>dezcom</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">/track/</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-12-17 10:01:02"
			itemprop="datePublished"
		>
			2007-12-17 10:01:02
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Goran Soderstrom</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><em>without a good definition of the em</em></p>
<p>It seems to me that Fontlab wimped out on that.
Left and right sidebearings are shown&ndash;but &ldquo;show vertical metrics&rdquo; doesn&rsquo;t, other than x-height, cap-height, and ascender-height (unless there is some feature somewhere I&rsquo;ve missed, that turns on a visual representation of &ldquo;WinAscent&rdquo;, &ldquo;TypoLineGap&rdquo;, etc).</p>
<p>With Fontographer&rsquo;s glyph window, as I recall, there was a visual display of the em square&ndash;as if it really existed!</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-12-17 17:42:53"
			itemprop="datePublished"
		>
			2007-12-17 17:42:53
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Nick Shinn</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
