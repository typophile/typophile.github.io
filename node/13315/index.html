<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Need help with contextual ligatures | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Need help with contextual ligatures" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/13315/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2005-06-27T14:20:04+00:00" />
<meta property="article:modified_time" content="2005-06-27T14:20:04+00:00" />

<meta itemprop="name" content="Need help with contextual ligatures">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2005-06-27T14:20:04+00:00" />
<meta itemprop="dateModified" content="2005-06-27T14:20:04+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Need help with contextual ligatures"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Need help with contextual ligatures</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2005-06-27T14:20:04Z">June 27, 2005</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">alan</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>I could use an extra dose of wisdom on a handwriting font that I&rsquo;m working on. It&rsquo;s a &ldquo;flipper&rdquo; font (like FF Kosmik), with regular ligatures, inits, finals, and cligs.</p>
<p>The flipping is done with &lsquo;calt&rsquo; like this:</p>
<p>feature calt {
lookup FLIP {
sub @SET_ZERO @SET_ZERO' by @SET_ONE;
sub @SET_ONE @SET_ZERO' by @SET_TWO;
sub @SET_TWO @SET_ZERO' by @SET_THREE;
sub @SET_THREE @SET_ZERO' by @SET_FOUR;
sub @SET_FOUR @SET_ZERO' by @SET_FIVE;
sub @SET_FIVE @SET_ZERO' by @SET_SIX;
sub @SET_SIX @SET_ZERO' by @SET_SEVEN;
sub @SET_SEVEN @SET_ZERO' by @SET_EIGHT;
} FLIP;
} calt;</p>
<p>So, when it&rsquo;s laying down a glyph, it looks at the previous glyph to see to what set it belongs. Then it increments the set number, and puts down the appropriate glyph from that next set. The result is that typing &ldquo;mmmm&rdquo; will yield &ldquo;m m.alt1 m.alt2 m.alt3&rdquo;.</p>
<p>Now comes the &lsquo;clig&rsquo; feature:</p>
<p>feature clig {
lookup TU_LIG {
sub t.alt1' u.alt2' by t_u.alt1;
sub t.alt2' u.alt3' by t_u.alt2;
sub t.alt3' u.alt4' by t_u.alt3;
sub t.alt4' u.alt5' by t_u.alt4;
sub t.alt5' u.alt6' by t_u.alt5;
} TU_LIG;
} clig;</p>
<p>This particular ligature (and many like it) cannot exist in the regular &lsquo;liga&rsquo; feature, because it only occurs in specific places.</p>
<p>The problem is that any combination of &ldquo;tu&rdquo; resolves to that first ligature specified: t_u.alt1 &hellip; no matter what glyph preceeded it. The strange thing is that the feature works correctly in FontLab 4.6 Mac (in the OT preview window), but it does not work in InDesign CS, which is what I&rsquo;m using to test. I know that InDesign renders features a bit differently (like displaying a finial alternate before it really knows if that we&rsquo;ve reached the end of the word), but this &lsquo;clig&rsquo; feature just doesn&rsquo;t work.</p>
<p>I can&rsquo;t seem to attach the VFB, but I will email it to someone if it helps. I&rsquo;m just testing features before I clean up the outlines and complete the character set, so the only working glyphs are: a, b, c, d, e, t, u, period, space. I would greatly appreciate any insight.</p>
<p>Thanks,
Alan</p>
</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">it may be easier to put your ligature subtitutions in first and then include the ligatures as part of your flipper sets.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2005-06-27 15:11:09"
			itemprop="datePublished"
		>
			2005-06-27 15:11:09
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>paul d hunt</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>True, and I have done that for some of the ligatures. But that only applies to those ligatures that occur indiscriminately; that is, they always appear, regardless of context.</p>
<p>Perhaps I left out the most important piece of information. In the example above, it doesn&rsquo;t look like this ligature would need to be in the &lsquo;clig&rsquo;, it could just as well be in the &lsquo;liga&rsquo; feature. But the reason it has to be here is that it actually looks like this:</p>
<p>sub t.alt1’ u.alt2’ [@LETTERS @WORD_BREAKS] by t_u.alt1;</p>
<p>Since there are an arbitrary number of t_u ligatures (not enough to fill all the slots seen by the flipper), then t_u cannot belong to a set of variations. It has to live outside @SET_ONE, @SET_TWO, etc. In order, then, for the character that follows to pick up on continuing the sequence established by the flipper, there has to be a letter typed <!-- raw HTML omitted -->after<!-- raw HTML omitted --> the ligature before the ligature even forms. That way, there is a letter after the ligature that is part of one of the sets, and the flipping sequence can continue as planned, even though the ligature itself does not belong to a set.</p>
<p>Does that make sense? So, odd as it may seem, the ligature&rsquo;s context matters, even though the context is: &ldquo;as long as it&rsquo;s followed by anything at all&rdquo;.</p>
<p>Alan</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2005-06-27 16:36:17"
			itemprop="datePublished"
		>
			2005-06-27 16:36:17
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>alan</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
