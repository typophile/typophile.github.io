<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>classes for glyph lists for OT functions (a programming question) | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="classes for glyph lists for OT functions (a programming question)" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/86551/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2011-10-19T13:28:52+00:00" />
<meta property="article:modified_time" content="2011-10-19T13:28:52+00:00" />

<meta itemprop="name" content="classes for glyph lists for OT functions (a programming question)">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2011-10-19T13:28:52+00:00" />
<meta itemprop="dateModified" content="2011-10-19T13:28:52+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="classes for glyph lists for OT functions (a programming question)"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">classes for glyph lists for OT functions (a programming question)</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2011-10-19T13:28:52Z">October 19, 2011</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:AlexanderKatt">
            AlexanderKatt
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>Hello,</p>
<p>I use the &ldquo;calt&rdquo; function for character substitution, and I have a lot of similar glyph lists which are sometimes hard do maintain.</p>
<p>For example, I have:
sub m' [s a c e o] by m.alt;
sub n' [s a c e o] by n.alt;
sub x' [s a c e o] by x.alt;
etc.</p>
<p>My question is can I define a glyph list that I can use for every instance?</p>
<p>Can I say:</p>
<p>my list_s = [s a c e o];
sub m' [list_s] by m.alt;
sub n' [list_s] by m.alt;
sub x' [list_s] by m.alt;</p>
<p>So I if I want to add a character to that list I have to do it in one place, instead of, say 10</p>
</div>

  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>It sounds like you want to replace inline classes (glyph lists) with predefined classes. Your pseudo-code is already close, just ditch the &lsquo;my&rsquo; and use the prefix &lsquo;@&rsquo;&hellip;</p>
<pre>
@list_s = [s a c e o];
sub m' @s by m.alt;
# etc.
</pre>
<p>In order for the class to work across features (not just for <code>calt</code>), the definition should be made globally, i.e. in the lower section of FontLab&rsquo;s OpenType panel, or in the Classes panel, or somewhere near the top of an external features file.</p>
<p>It&rsquo;s also possible to nest classes, so if you needed to add an additional glyph to the predefined class for a particular rule, you could do something like&hellip;</p>
<pre>
sub m' [@s u] by m.alt;
</pre>
<p>&hellip;which would include &lsquo;u&rsquo; in the class for just that rule.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-10-19 15:05:34"
			itemprop="datePublished"
		>
			2011-10-19 15:05:34
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:gargoyle">
            gargoyle
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>You can simplify the feature code more by intesive use of classes:</p>
<p><code><pre>
feature xxxx {
@source  = [m n x];
@target  = [m.alt m.alt m.alt];
@context = [s a c e o];</p>
<p>sub @source' @context by @target;
} xxxx;
</pre></code></p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-10-19 16:11:04"
			itemprop="datePublished"
		>
			2011-10-19 16:11:04
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:eigi">
            eigi
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Thanks both of you.</p>
<p>And what programming language is this using? Is there a comprehensive manual?</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-10-20 11:40:47"
			itemprop="datePublished"
		>
			2011-10-20 11:40:47
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:AlexanderKatt">
            AlexanderKatt
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>AFDKO syntax is described at</p>
<p><a href="http://www.adobe.com/devnet/opentype/afdko/topic_feature_file_syntax.html">http://www.adobe.com/devnet/opentype/afdko/topic_feature_file_syntax.html</a></p>
<p>I&rsquo;d actually recommend you <em>not</em> think of this as a programming language, per se, but rather simply as the syntax for specifying the structure of OpenType tables. When I first started coding OpenType features I ran into a bunch of problems which were caused by viewing it as a programming language and assuming that lookups behave similar to functions, which is in various respects a poor analogy.</p>
<p>For example, consider the following hypothetical piece of code:</p>
<p>lookup A {
    DoSomeStuff;
} A;</p>
<p>lookup B {
    DoSomeOtherStuff;
} B;</p>
<p>feature xxxx {
    lookup A;
    lookup B;
} xxxx;</p>
<p>feature yyyy {
    lookup B;
    lookup A;
} yyyy;</p>
<p>In this example, feature xxxx and yyyy <em>must</em> behave identically because lookups, unlike functions, are not called. Rather, they exist within the GSUB table in a particular order and will either be processed by the application or not. This order is determined by the order in which lookups are declared rather than the order which they are referred to in the features. Thus, B will operate on the output of A even in feature yyyy where they are mentioned in reverse order.</p>
<p>Programs operate over data. OpenType tables, on the other hand, are static data which is processed by a text engine.</p>
<p>André</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-10-20 13:10:02"
			itemprop="datePublished"
		>
			2011-10-20 13:10:02
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:agisaak">
            agisaak
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">@AlexanderKatt - Think <code>yacc</code> and you&rsquo;re close.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-10-20 19:02:58"
			itemprop="datePublished"
		>
			2011-10-20 19:02:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:T%C3%A9&#43;Rowan">
            Té Rowan
	    </a>
			</span></span>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
