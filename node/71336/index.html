<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>f-ligature coding | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="f-ligature coding" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/71336/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2010-06-14T19:29:02+00:00" />
<meta property="article:modified_time" content="2010-06-14T19:29:02+00:00" />

<meta itemprop="name" content="f-ligature coding">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2010-06-14T19:29:02+00:00" />
<meta itemprop="dateModified" content="2010-06-14T19:29:02+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="f-ligature coding"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">f-ligature coding</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2010-06-14T19:29:02Z">June 14, 2010</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:bendy">
            bendy
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>I&rsquo;ve been working on some code and developed a liga feature that creates [fb fh fi figrave fj fk fl] ligatures by replacing the base form of f with a shortened-hood variant. I gather that for Mac compatibility I also need to include fi and fl ligatures as single glyphs.</p>
<p>There&rsquo;s also very narrow f alternates for next to the idieresis and icircumflex.</p>
<p>I have also developed some code that applies to [ff ffb ffh ffi ffigrave ffj ffk and ffl] or any number of fs preceding these letters. It replaces the initial f with a slightly lower-hooded variant (and any following ones that are followed by another f) and the final f by the shorter version. That way I don&rsquo;t need to create new glyphs for all these combinations and for the [fff] variants.</p>
<p>Here&rsquo;s the code:</p>
<p><code>feature liga {
<code>  sub f&rsquo;f by f.low;<br>
<code>    #lowers the hood of any fs except last in chain
<code>  sub f' [b h i igrave j k l] by f.medium;<br>
<code>    #shortens the hood of normal height f 
<code>    #which is last in chain
<code>  sub f' icircumflex by f.short;
<code>  sub f' idieresis by f.shortest;
<code>  sub T' h' by Th;
<code>} liga;</code></p>
<p>Question is can anyone see any problems with doing things this way? And is there any way to neaten up the code further? I&rsquo;m not a programmer but it works.</p>
</div>

  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>I haven&rsquo;t come across any problems doing this kind of thing.
Technically it&rsquo;s not a ligature, more of a contextual alternate, but so what.
Some foundries make these extra ligatures discretionary (dlig), but IMO liga is best, on by dfault.
You can neaten up the code by putting glyphs in brackets into a class &ndash; this may help you manage kerning situations with capitals such as T.</p>
<p><em>sub T' h' by Th;</em></p>
<p>That&rsquo;s an Adobe trope.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-14 20:39:27"
			itemprop="datePublished"
		>
			2010-06-14 20:39:27
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Nick&#43;Shinn">
            Nick Shinn
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>In Mac applications that use the native system font rendering (through ATSUI or CoreText) on Mac OS X 10.4, contextual alternate features don&rsquo;t work. In 10.5 and 10.6, they &ldquo;sort of&rdquo; work but more complex contextual substitutions perform incorrectly. But a simple one like yours should work.</p>
<p>I propose a better solution:</p>
<p><code>feature liga {
lookup liga_contextual { 
  sub f' f by f.low;
  sub f' [b h i igrave j k l] by f.medium;
  sub f' icircumflex by f.short;
  sub f' idieresis by f.shortest;
} liga_contextual; 
lookup liga_Th { 
  sub T h by T_h;
} liga_Th;
lookup liga_fifl { 
sub f i by f_i;
sub f l by f_l;
} liga_fifl;
} liga;</code></p>
<p>The first lookup will work whenever contextual substitutions are supported (so it won&rsquo;t work in Mac OS X 10.4 or some other environments where contextual OTL rules are not processed). 
The second lookup will always work because it&rsquo;s a simple substitution. 
The third lookup will only be activated if the first lookup did not get processed, so it&rsquo;ll work in Mac OS X 10.4, or in situations when contextual substitutions don&rsquo;t work for some reason. If the first lookup worked, the third will be omitted (because the &ldquo;f&rdquo; glyph has been replaced by &ldquo;f.medium&rdquo; by the time the third lookup gets processed, so the third lookup won&rsquo;t have any input to process).</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-14 22:27:21"
			itemprop="datePublished"
		>
			2010-06-14 22:27:21
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:twardoch">
            twardoch
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><blockquote>
<p>That&rsquo;s an Adobe trope.</p>
</blockquote>
<p>Nick, you mean I should put this in dlig, yes?</p>
<p>Thanks for pointing out the T kerning situation. I think the glyphs in the brackets are ok but the idieresis/icircumflex and itilde will need some attention.</p>
<p>Adam, thanks for the info about Mac systems, I don&rsquo;t know any of that kind of stuff so it&rsquo;s very helpful.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-15 19:49:40"
			itemprop="datePublished"
		>
			2010-06-15 19:49:40
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:bendy">
            bendy
	    </a>
			</span></span>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
