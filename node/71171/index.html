<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>XITS - OpenType MATH enhanced STIX fonts | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="XITS - OpenType MATH enhanced STIX fonts" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/71171/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2010-06-09T10:26:35+00:00" />
<meta property="article:modified_time" content="2010-06-09T10:26:35+00:00" />

<meta itemprop="name" content="XITS - OpenType MATH enhanced STIX fonts">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2010-06-09T10:26:35+00:00" />
<meta itemprop="dateModified" content="2010-06-09T10:26:35+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="XITS - OpenType MATH enhanced STIX fonts"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">XITS - OpenType MATH enhanced STIX fonts</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2010-06-09T10:26:35Z">June 9, 2010</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Khaled Hosny</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">As you might now, the long awaited, 15+ years, version 1.0.0 of STIX fonts have been finally released. However, the release disappointed many people who want to typeset mathematics with STIX fonts, as they neither released LaTeX support files nor supplemented the fonts with the new OpenType MATH table, ruling out any quality mathematical typesetting engine.

Fortunately, STIX were kind enough to release the fonts under Open Font License, so giving the community the power to scratch their itch and not wait yet another 15 years for next release.

Having experimented with an OpenType MATH version of STIX beta release, it was relatively easy to supplement the final release with MATH layout features, thanks to the powerful FontForge who never let me down, and so XITS was officially born.

Despite being written in all caps, XITS in not an acronym but a funny way to get around the reserved name clause if OFL, which I never liked BTW, it also hints the long term goal to enhance it with right to left mathematical typesetting capabilities.

The font is still beta as regards the OpenType layout, any help or feedback is highly appreciated, especially testing with MS Office 2007 since I no longer have access to Windows machine and thus did all my testing on ConTeXt/LuaTeX.

After the poring introduction, here is the download link:
http://github.com/khaledhosny/xits-math/downloads

And here are some examples:
[img:sites/default/files/old-images/xits-specimen_6154.png]</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">My computer came with a version installed and I can still use it, so I tried to reproduce your formulas. The extensible square roots are broken:

[img:sites/default/files/old-images/xits_1-002_word_2007_sqrt_5569.png]

In the font menu, XITS Math appears very small (it's also the case for Asana Math, but not for Cambria Math, so there must be a way around it).

[img:sites/default/files/old-images/xits_1-002_word_2007_menu_3662.png]

In the formula with P(x,y), the P is very close to the parenthesis; I tested with other letters like F and the problem is the same, but doesn't happen with letters like G so it seems the italic correction is not taken into account, as seen on the formula F_1^2:

[img:sites/default/files/old-images/xits_1-002_word_2007_P_ic_4581.png]

In the first formula, when I tried to build it up with large delimiters everywhere, a strange result appeared:

[img:sites/default/files/old-images/xits_1-002_word_2007_del_size_6252.png]

Sizes of delimiters are better in Cambria:

[img:sites/default/files/old-images/cambria_word_2007_del_size_4412.png]

or Asana:

[img:sites/default/files/old-images/asana_word_2007_del_size_5699.png]


Lastly, when I tried to make a PDF with PDFCreator, a PDF was produced, but it only contained, after a first page blank, the following error message:

<code>
ERROR: undefinedresource
OFFENDING COMMAND: findresource
STACK:
/ADBCFF+XITSMath
/CIDFont
/ADBCFF+XITSMath
[0 -1000 250 0 ]
2745
</code>

PDF production works with both Asana or Cambria, so it must be something in the XITS fonts which causes it.

I hope this helps you. It's good to see people working on math fonts.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-09 23:19:43"
			itemprop="datePublished"
		>
			2010-06-09 23:19:43
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>philippe_g</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">The 1st issue is mysterious, I don't know what would be the possible cause of it, it doesn't show in either LuaTeX or XeTeX (both support OpenType MATH), can any one with more knowledge about Office implementation help tracking this down?

The 4th issue is related to this too, there is something wrong with glyph assembly but I cannot identify.

The 2nd issue results from the very large WinAscent/Descent values in the font, which is needed to avoid clipping large glyphs. Though the font have TypoAscent/Descent and fsSelection bit 7 set properly, they are ignored by office for reasons I don't know. Not sure what Cambria does, but it could be because of its embedded bitmaps that don't have any of the large glyphs.
 
The 3rd issue is due to lack of italic correction for the capitals, I'm already working on it.

The PDF issue is strange, could you try other PDF generators? it is like a bug in PDFCreator that got triggered by XITS.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-10 07:12:14"
			itemprop="datePublished"
		>
			2010-06-10 07:12:14
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><em>The 2nd issue results from the very large WinAscent/Descent values in the font, which is needed to avoid clipping large glyphs. Though the font have TypoAscent/Descent and fsSelection bit 7 set properly, they are ignored by office for reasons I don't know.</em>

The fsSelection bit 7 is only defined in OS/2 table version 4, but your xits-math font uses OS/2 table version 2.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-10 10:03:23"
			itemprop="datePublished"
		>
			2010-06-10 10:03:23
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Jens Kutilek</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><cite>
The fsSelection bit 7 is only defined in OS/2 table version 4, but your xits-math font uses OS/2 table version 2.
</cite>

Good catch, thanks. However this don't seem to make any difference, it seems that Office ignores this bit completely.

Now I got access to a machine with Office 2007 again, it seems that the only way to fix this is to bundle the math in regular fonts in a truetype collection file, like Cambria, but since Windows doesn't accept TTC with CFF, this isn't feasible.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-10 13:26:44"
			itemprop="datePublished"
		>
			2010-06-10 13:26:44
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Well, my problem is that XITS simply doesn't work in Word 2010.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-10 15:25:17"
			itemprop="datePublished"
		>
			2010-06-10 15:25:17
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>ahyangyi</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Can you elaborate on how exactly it does not work, what you tried and failed etc. I don't have access to Word 2010 (is it even released?) so I never tested it.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-10 16:39:32"
			itemprop="datePublished"
		>
			2010-06-10 16:39:32
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-10 16:51:07"
			itemprop="datePublished"
		>
			2010-06-10 16:51:07
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I set the formula to XITS, but the formula remains unchanged in Cambria math. (just as if you change the formula into any other font)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-10 18:29:51"
			itemprop="datePublished"
		>
			2010-06-10 18:29:51
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>ahyangyi</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Weird, are you sure you have the math font? the font name should be XITS Math not only XITS (as the later is the text font).</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-10 18:47:38"
			itemprop="datePublished"
		>
			2010-06-10 18:47:38
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">BTW, I uploaded a new release that should fix the aforementioned italic correction issue, available from the same link:
http://github.com/khaledhosny/xits-math/downloads</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-10 18:48:59"
			itemprop="datePublished"
		>
			2010-06-10 18:48:59
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">@ahyangyi

If it’s the same as for Word 2007, once you have changed the math font in the Design Ribbon > Tools > Equation Options, you must open a new formula for the change to be in effect, the old formula stays as it was.

@Khaled Hosny

The italic correction now works.

Concerning the second issue, did you do everything mentioned in Murray Sargent’s [[http://blogs.msdn.com/b/murrays/archive/2009/12/01/high-fonts-and-math-fonts.aspx|High Fonts and Math Fonts]] post? Because it seems that the lines are too high at the top if I select XITS Math for text (that was with the latest 1.003 version):

[img:sites/default/files/old-images/xits_1-003_math_height_4804.png]

Concerning the PDF issue, I've tried in OpenOffice to convert into PDF a blank document with only one letter in XITS Math (used as text font). It worked perfectly with OpenOffice’s integrated PDF capabilities, but gave the same error message as previously (except for the last line) when I tried PDFCreator.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-10 22:22:18"
			itemprop="datePublished"
		>
			2010-06-10 22:22:18
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>philippe_g</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><cite>Concerning the second issue, did you do everything mentioned in Murray Sargent’s High Fonts and Math Fonts post?</cite>

I did, this post with actually a repose to a question I sent to him. As I said earlier, I have set typoAscent/Descent and line gap to exactly the same values used in the text font, and set the use_typo_metrics bit, but as you see, Office still using the winAscent/Descent. Here, on Linux, the math font gives me proper line spacing with all GUI apps I tested (didn't test OpenOffice because I've old version with no support for CFF fonts), who is in fault here.

I don't know what is wrong with PDFCreator either, but what happens if you use the original STIX fonts?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-10 23:48:03"
			itemprop="datePublished"
		>
			2010-06-10 23:48:03
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I managed to fix the wired large composited symbols issue, it turned out that Office expects all vertical components in a composition to be setting on the baseline, however STIX glyphs usually descend below the base line, this results in vertical composites being offset in this strange way. TeX engine are forgiving about this (the glyphs are stacked based on their bounding boxes).

A new release will be uploaded soon.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-11 09:47:09"
			itemprop="datePublished"
		>
			2010-06-11 09:47:09
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I’ve tested Cambria Math in OpenOffice 3 under Windows and Linux and it appears correctly in the font menu, but when you use it as a text font, it has the same problem as XITS Math has in Word (too high):

[img:sites/default/files/old-images/cambria_math_ooo_too_high_3473.png]

Concerning PDFCreator, using the original STIX fonts do indeed produce the same problem as using XITS or XITS Math.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-11 12:38:58"
			itemprop="datePublished"
		>
			2010-06-11 12:38:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>philippe_g</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">The handling of font metrics is a complete mess on Windows, as far as my experience goes. On Linux, all applications/gui toolkit respect the typographic metrics, with OOo as the only exception.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-11 16:48:03"
			itemprop="datePublished"
		>
			2010-06-11 16:48:03
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">@philippe_g 

Thank you. I find it strange that I can't find XTIS and Asana in the default math font list, only Cambria Math and some of my test fonts. But if I change a glyph in a formula to XTIS math, I will be able to change the default to XTIS math. What a mess...</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-15 07:42:29"
			itemprop="datePublished"
		>
			2010-06-15 07:42:29
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>ahyangyi</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I'm testing the current beta (1.004) in every bit of software I can, and so far I've only found a few problems.

First, the delimiter issue Philippe mentioned is likely caused by the lack of extendable floor/ceiling brackets—I noticed that, unlike Cambria and Asana, there's no entry for them in the Vertical Construction part of the MATH table, so they max out at the .size4 variant.

In ConTeXt/LuaTeX, using \vec with Greek letters causes the arrow to be offset to the left, possibly because none of the italic Greek math letters have Top Accent values.  This isn't an issue in XeLaTeX (using unicode-math) or Word 2007.

There's also a problem with \vec and some Greek and Latin lowercase italic math letters in XeLaTeX (d,f,m,w,κ,μ,π,σ,φ (both forms),χ,ψ and ω; I haven't tested non-italic or uppercase letters yet) where adding an exponent or prime outside the \vec command causes the arrow to both drop closer to the letter and lengthen, colliding with the exponent.  This may actually be a unicode-math or XeTeX bug.

</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-26 07:51:48"
			itemprop="datePublished"
		>
			2010-06-26 07:51:48
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Lee Bruemmer</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">The delimiter issue can be easily fixed, I actually didn't get Philippe's issue until just now, for some reason I didn't see the text between the screenshots and though he was talking about something else. This is now fixed in git, no release yet.

The \vec issue is now fixed too, almost. I added top accent position to Greek, except bold upright, it is a boring job :)

The XeLaTeX issue is known, it has been reported to Jonathan Kew while ago, but I don't think it is going to be fixed any time soon. In my experience, LuaTeX has much better OpenType MATH support, but unicode-math package has incomplete LuaTeX support, so my recommondation for OpenType math in TeX is to use ConTeXt MkIV until LaTeX gets better LuaTeX support.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-26 16:53:41"
			itemprop="datePublished"
		>
			2010-06-26 16:53:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I just uploaded a new beta (1.005), in the <a href="http://github.com/khaledhosny/xits-math/downloads">downoad</a> area as usual. This fixes the accents for math serif Greek, adds composed floor and ceiling, plus few other fixes and new glyphs, check FONTLOG file for more details.

This beta is packaged as a ZIP instead of BZIP2 TAR archive as the previous one, since tar and bzip2 aren't available on all systems by default.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-08 03:05:27"
			itemprop="datePublished"
		>
			2010-07-08 03:05:27
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Since the last time, I’ve tested a little more the XITS font. The floor and ceil delimiter issue is better than in the previous version but does not seem to have been completely fixed:

[img:sites/default/files/old-images/floor_size_xits_1-005_5524.png]

Does the same happen when using XITS in ConTeXt? Using LaTeX, I’ve compared to how other fonts behave, and some have the same problems, like txfonts:

[img:sites/default/files/old-images/floor_size_txfonts_4167.png]

and some others don’t, like Computer Modern:

[img:sites/default/files/old-images/floor_size_cm_6026.png]

I suppose it’s due to relative heights of math delimiters, which are not always the same as Computer Modern, so the problem might not be fixable without redesigning the large delimiters.

Another problem, which has not changed since version 1.004 is a few italic correction and sub/supscript kerning issues. The main problem is with Blackboard bold symbols, some of which lack italic correction; the A also lacks negative kerning for the exponent:

[img:sites/default/files/old-images/xits_1-004_ic_mathbb_4617.png]

I’ve marked the L with a “?” because it might not be a good idea for this character to add negative exponent kerning (I know it’s been done with Times 569 4-line Mathematics, but it was for an italic <em>L</em>).

Most of the mathcal letters would also benefit from having italic correction:

[img:sites/default/files/old-images/xits_1-004_ic_mathcal_4227.png]

Finally, some of the upright capital letters (in all forms: roman/italic, medium/bold, serif/sans, latin/greek/nabla) would benefit from italic correction or exponent kerning:

[img:sites/default/files/old-images/xits_1-004_ic_upright_5729.png]

Finally, I've installed the unicode-math package under MikTeX 2.8 to try XITS Math in XeLaTeX and noticed that many symbols don’t come up correctly:

[img:sites/default/files/old-images/xits_1-005_xelatex_6234.png]

Do you have any idea where this is coming from? (There’s no problem with Cambria Math or Asana Math.)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-08 23:06:58"
			itemprop="datePublished"
		>
			2010-07-08 23:06:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>philippe_g</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">The remaining floor and ceiling delimiters issue is a bit trickier, I may try to give it a look later, but it is a low priority now.

Intermingled symbols with XeTeX are likely to be caused by presence of more than on version of the font accessible to XeTeX (e.g. one system wide copy and one installed in TEXMF tree), make sure you have only one version of the font (or identical copies), having different version of same font installed is known to lead to such issue in XeTeX.

The script alphabet is a bit trickier, the glyphs are spaced as italics, so the width of the glyph equals the width of the bounding box, that is why subscripts are so far. Here italic correction will not help, we instead need to use math kerning support in OpenType math, but I'm unlikely to do this for the first "stable" version (no much time for math fonts right now). The need for math kerning is also true for the upright alphabets. The double struck alphabet can benefit from some italic correction too, I think I can do that, but not the finer math kerning.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-11 01:51:52"
			itemprop="datePublished"
		>
			2010-07-11 01:51:52
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I’ve managed to solve my XeLaTeX issue. In fact, Windows Vista keeps a copy of the fonts each time you install a new version, and the last one is not necessarily the one with the right name. I had to manually delete each unnecessary copy from a console in administrator mode (after a system restart because some were locked for whatever reasons).

What I was talking about with italic correction of the script alphabet is to change the right sidebearing of the letters in question to be able to use italic correction to position the sub and supscript. I don’t know if this would have any side-effects, but I was suggesting it because that’s the standard practice for the script letters.

Now that I can use XeLaTeX to test to the fonts, I’ve done more tests and noticed a few more glitches: the fraction rule does not seem to be of the appropriate thickness, although it seems to be working in ConTeXt if I judge by your specimen.

[img:sites/default/files/old-images/xits_1-005_xelatex_fraction_rule_4251.png]

The problem happens with all opentype math fonts (Asana, Cambria, XITS) but not with normal math fonts (txfonts, mathdesign, etc.). Is this a known problem in XeTeX?

Another thing which I noticed is that the delimiter | is far too small when used in a formula like <code>$|\{x\in\mathbb{Q}\mid x^2<2\}|$</code>:

[img:sites/default/files/old-images/xits_1-005_vertical_bar_size_3713.png]

The problem does not appear with Cambria or Asana.

Also, the italic correction you added to the P does not seem to work with XeLaTeX:

[img:sites/default/files/old-images/xits_1-005_P_ic_3848.png]</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-11 20:35:58"
			itemprop="datePublished"
		>
			2010-07-11 20:35:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>philippe_g</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><cite>
I’ve managed to solve my XeLaTeX issue. In fact, Windows Vista keeps a copy of the fonts each time you install a new version, and the last one is not necessarily the one with the right name. I had to manually delete each unnecessary copy from a console in administrator mode (after a system restart because some were locked for whatever reasons).
</cite>

On Windows (I had only access to XP machines) I always delete the old version before installing the new one, else I always get the old version.

<cite>
What I was talking about with italic correction of the script alphabet is to change the right sidebearing of the letters in question to be able to use italic correction to position the sub and supscript. I don’t know if this would have any side-effects, but I was suggesting it because that’s the standard practice for the script letters.
</cite>

I thought about this too, but I tend not to change STIX glyph metrics unless there is a good reason, and here I'm not sure what the implications of changing the advance width on spacing and it would need more extensive testing. Math kerning can solve the sub/superscript issue without the need to change the advance width, and we need it anyway to fine tone the positioning of many base/*script combinations, but it has to wait.

<cite>
Now that I can use XeLaTeX to test to the fonts, I’ve done more tests and noticed a few more glitches: the fraction rule does not seem to be of the appropriate thickness, although it seems to be working in ConTeXt if I judge by your specimen.

The problem happens with all opentype math fonts (Asana, Cambria, XITS) but not with normal math fonts (txfonts, mathdesign, etc.). Is this a known problem in XeTeX?
</cite>

I didn't know about it before, but seems that XeTeX ignores FractionRuleThickness math constant, LuaTeX (either with LaTeX+unicode-math or ConTeXt works fine).

<cite>
Another thing which I noticed is that the delimiter | is far too small when used in a formula like $|\{x\in\mathbb{Q}\mid x^2<2\}|$:

The problem does not appear with Cambria or Asana.
</cite>

This is because, unlike Cambria and Asana, the default bar glyph is short (it doesn't descend below base line the same degree as the curly brackets. Adding explicit <code>\left</code> and <code>\right</code> will give the proper sizes (it is good idea to always do this anyway), <code>$\left|\{x\in\mathbb{Q}\mid x^2<2\}\right|$</code>.

<cite>
Also, the italic correction you added to the P does not seem to work with XeLaTeX:
</cite>

Looks like a XeTeX issue too, fine with LuaTeX.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-11 22:39:56"
			itemprop="datePublished"
		>
			2010-07-11 22:39:56
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><cite>On Windows (I had only access to XP machines) I always delete the old version before installing the new one, else I always get the old version.</cite>

Thanks, I’ll try to do that the in the future.

<cite>This is because, unlike Cambria and Asana, the default bar glyph is short (it doesn't descend below base line the same degree as the curly brackets. Adding explicit \left and \right will give the proper sizes (it is good idea to always do this anyway), $\left|\{x\in\mathbb{Q}\mid x^2<2\}\right|$.</cite>

When doing inline math, you often don’t want to use <code>\left</code> and <code>\right</code> as they often produce delimiters which are too high:
[img:sites/default/files/old-images/left_right_too_high_5133.png]
These too high delimiters are not very pretty and they may also disrupt inter-line spacing (it’s not the case here). Of course, you can always <code>\smash</code> the <code>^2</code>, but it’s a bit tedious. And you still have the problem when you use the vertical bar to denote a restriction:
[img:sites/default/files/old-images/xits_1-005_restriction_symbol_6073.png]
I suppose something can be done at macro level (I'll have to look up the code of unicode-math), but if in the future you decide to change some glyphs in XITS, this one would be a good candidate.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-12 22:57:04"
			itemprop="datePublished"
		>
			2010-07-12 22:57:04
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>philippe_g</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I generally agree with you, it looks odd in general, I usually assume STIX project took maximum care in designing each glyph, but the more I work on it the more I feel it might not be always the case, so I'm adding this to the list of to be considered glyphs.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-12 23:28:07"
			itemprop="datePublished"
		>
			2010-07-12 23:28:07
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I uploaded 1.006 which should fix the bar issue and the sscripts with double struck letters, more final sscript tuning in the future. I'm going to upload it to CTAN, so it goes to TeXLive 2010 before it is frozen. Let me know if there are any other issues.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-15 09:19:40"
			itemprop="datePublished"
		>
			2010-07-15 09:19:40
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I finally managed to fix the PDFCreater issue, it was caused by erroneous OS/2 code pages being set  in the original STIX fonts (code pages for which the fonts include no characters), thanks to this [[http://sourceforge.net/tracker/?func=detail&aid=3127933&group_id=328428&atid=1378225|STIX bug report]]. The files on git now print OK with PDFCreater and should be available in 1.009 (next) release.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-02-18 20:26:41"
			itemprop="datePublished"
		>
			2011-02-18 20:26:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Hi, I have a problem with XITS font. I use Microsoft word (both 2007 and 2010), and when I tried to export to pdf using its built-in add-ins, some characters in the equation are missing, such as integral, rackets, etc. The problem does not appear with Cambria or Asana font.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-01-18 09:24:39"
			itemprop="datePublished"
		>
			2013-01-18 09:24:39
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Motfis</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
