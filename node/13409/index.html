<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>creating a keyboard layout | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="creating a keyboard layout" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/13409/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2005-07-02T22:39:46+00:00" />
<meta property="article:modified_time" content="2005-07-02T22:39:46+00:00" />

<meta itemprop="name" content="creating a keyboard layout">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2005-07-02T22:39:46+00:00" />
<meta itemprop="dateModified" content="2005-07-02T22:39:46+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="creating a keyboard layout"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">creating a keyboard layout</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2005-07-02T22:39:46Z">July 2, 2005</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">levonk</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">I want to create a keyboard layout for Mac and PC. Mac OS X uses XML .keylayout files. I am not sure but I think windows also uses XML. 

I am creating the file using a tool on the web found at http://wordherd.com/keyboards/

My question is about some of the settings. I think I need a Unicode layout, it is for Armenian, but which unicode Script/Resource ID should I select? What are the differences?

Is there a better tool for creating the keyboard layout?</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">On Windows, the best thing is to use the <a href="http://www.microsoft.com/globaldev/tools/msklc.mspx">Microsoft Keyboard Layout Creator</a> tool. This produces keyboard drivers that can be directly installed in the system. I've used it for Biblical Hebrew, and have been very happy with it.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2005-07-03 00:10:48"
			itemprop="datePublished"
		>
			2005-07-03 00:10:48
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	 <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Hi John,

I started using MSKLC and found that I can only assign a single Unicode codepoint to the SGCAP + <key> value. What I'm trying to do is have a touchtype keyboard for characters with diacriticals. Do you know if this a bug with MSKLC or a limitation of Microsoft Keyboards?

Thanks,</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2006-01-14 17:32:24"
			itemprop="datePublished"
		>
			2006-01-14 17:32:24
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>fredjonze</span
			></span
		>
	</div>
	
</div>
 
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks John,

I will try that tool.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2005-07-03 18:25:18"
			itemprop="datePublished"
		>
			2005-07-03 18:25:18
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>levonk</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">On the same webpage that John mentioned you'll find a link to a paper in PDF format named "Unicode and Keyboards on Windows", that will probably answer some of your questions.

To create custom keyboard layouts under MacOSX you have <a href="http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&item_id=ukelele">Ukelele</a> available, which was updated recently.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2005-07-04 20:04:49"
			itemprop="datePublished"
		>
			2005-07-04 20:04:49
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Miguel Sousa</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks Mike.

The new version of Ukelele is good.

My main question now is about the Keyboard ID. For unicode it should be a negative number, but is there any rule to follow for the number?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2005-07-04 22:06:23"
			itemprop="datePublished"
		>
			2005-07-04 22:06:23
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>levonk</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">As long as the ID is negative, it will work.  If the ID conflicts with another layout, it'll be automatically assigned a new one at runtime (i.e. I don't think this affects the actual file).  Keep in mind, though, that a Unicode keyboard layout won't be available in non-Unicode programs.  It may be helpful in certain situations (it depends on what characters you want) to give it an ID for the MacRoman encoding.  That way, the layout will be available in any program, but the Unicode characters just may not work. Again, this depends on just how many of the characters are going to require Unicode.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2005-07-27 02:21:00"
			itemprop="datePublished"
		>
			2005-07-27 02:21:00
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>WurdBendur</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I am still looking for a keyboard creator for the PC. The MSKLC although seems a good choice proved to be impossible to get, or at least very very difficult. My PC is not connected to the internet, so I use the Mac for downloads. Microsoft does not allow you downloading this app unless you are running an authentic windows. I couldn't even download with VPC (not sure if this was due to something wrong on my VPC system). Is there any other way to get this app?

Hrant mentions ResEdit in another <a href ="http://typophile.com/node/351">post</a>. I thought ResEdit was for Mac OS 9 or older. Is there a PC version?

Is there an app that will convert a Mac .keylayout file, which is an XML file, to a windows keyboard? This would be vey good because I wouldn't need to create the keyboard twice.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2005-10-25 18:58:01"
			itemprop="datePublished"
		>
			2005-10-25 18:58:01
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>levonk</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">ResEdit is for Mac OS only. It wouldn't do any good with Windows, anyway. It edits the part of a file known as the "resource fork" (as opposed to the "data fork"), which Windows doesn't normally use.

I don't know of any way to convert Mac .keylayout files to Windows format. I suppose it's possible, but probably quite difficult.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2005-10-26 05:13:57"
			itemprop="datePublished"
		>
			2005-10-26 05:13:57
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>WurdBendur</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"> http://blogs.msdn.com/michkap/ has lots of posts on MSKLC, he even talks about the secret Tahoma font that's used in the tool. 

Si</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2006-01-14 21:05:52"
			itemprop="datePublished"
		>
			2006-01-14 21:05:52
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Si_Daniels</span
			></span
		>
	</div>
	 <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Hi Si,

Didn't see what I was looking for. However, I've found another apparent oddity. When I set multiple codepoints in MSKLC for a single key, sometimes (in Word 2003) characters with a 'dotbelowcomb' (for innstance U+004C U+0323) will not render properly on screen. The dotbelowcomb appears to the right of the 'L'.  What is interesting is that if I follow that particular composite character with another composite (say a U+0070 U+0313) the previous composite character will re-render properly. I get the same behavior in WordPad. When I type the characters in NeoOffice or TextEdit on MacOSX everything works OK. I've rechecked all the OT features and the MSKLC settings and everything looks OK. Other diacriticals, such as a caroncomb or commaabove don't exihibit this problem...just the dotbelowcomb.

Any ideas?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2006-01-15 05:31:19"
			itemprop="datePublished"
		>
			2006-01-15 05:31:19
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>fredjonze</span
			></span
		>
	</div>
	
</div>
 
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I'll ask Michael to take a look at this thread.

Cheers, Si</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2006-01-15 18:31:48"
			itemprop="datePublished"
		>
			2006-01-15 18:31:48
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Si_Daniels</span
			></span
		>
	</div>
	 <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Hi all,

I think I fixed the problems I was having by creating composite characters for the intermediate characters (such as U+004B U+0313) and assigning a Unicode codepoint (1E32). Also, I found that my combination of tools didn't like the Capital W space modifier character (1D42). When I changed the modfier for my uppercase characters to the lowercase w space modifier (02B7) that solved the problems with incorrect word wrap.
My goal is to have a keyboard where users can type Roman characters in the plain and shifted states, and type the specialized language characters in the Caps Lock and Caps Lock shifted states. I'm using MSKLC and was hoping to use the SGCaps feature to accomplish this. However, I've found that I can only enter a single Unicode codepoint in the SGCaps field. In my case, I want to type in the character, diacriticals and space modifiers so that a single keypress will enter all the characters and let OpenType composite them. When I do this in the normal and shifted states it works fine...but I lose the ability to type Roman characters.
I sent an message to the MSKLC group listed above...but it appears that responses are only generated periodically.
Any ideas on how I can do this in Windows?  I've done this same thing with Ukelele on Mac OSX and it works great. Instead of switching keyboards continually the users can just set the Caps Lock key.
On Windows I also tried Keyboard Layout Manager...but it doesn't appear to support mulitple codepoints in any state and relies upon dead keys.
Thanks for any suggestions...this forum has been great for helping me get started!
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2006-01-15 20:06:06"
			itemprop="datePublished"
		>
			2006-01-15 20:06:06
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>fredjonze</span
			></span
		>
	</div>
	
</div>
 
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Fred, have you tested this dotbelowcomb behaviour in Notepad? If something works correctly in Notepad, but consistently incorrectly in Wordpad or Word, that usually indicates a problem in the RichEdit engine.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2006-01-15 19:10:26"
			itemprop="datePublished"
		>
			2006-01-15 19:10:26
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Michael Kaplan has answered the initial question on his blog... 

http://blogs.msdn.com/michkap/archive/2006/01/16/513088.aspx 

Cheers, Si 

</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2006-01-16 14:44:48"
			itemprop="datePublished"
		>
			2006-01-16 14:44:48
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Si_Daniels</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I am a Mac novice, forgive my terminology ignorance.  I have created a custom keyboard layout for Hungarian using Ukelele.  It works great.  The question is: How to create a custom flag to show up when this keyboard layout is activated?  The reason being that I also need to make a custom Ukrainian layout and want to be able to distinguish them easily (Custom, because I just don't like and am not used to the default layouts).

</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-12-08 17:09:25"
			itemprop="datePublished"
		>
			2007-12-08 17:09:25
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>GrandpaMike</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">How on earth do I actually install Armenian fonts and be able to type in them on here or in my emails? Please, can someone tell me how?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2008-01-30 16:28:39"
			itemprop="datePublished"
		>
			2008-01-30 16:28:39
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>BaronessKvP</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Я могу писать на русском языке. Мне нужно писать на армянском языке, тоже.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2008-01-30 16:38:18"
			itemprop="datePublished"
		>
			2008-01-30 16:38:18
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>BaronessKvP</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Bitte, ich kann in russischer Sprache schreiben. Ich möchte, dass in der armenischen auch zu schreiben.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2008-01-30 16:44:30"
			itemprop="datePublished"
		>
			2008-01-30 16:44:30
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>BaronessKvP</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Regarding Armenian: if you're using Windows, you might start here:

http://www.armunicode.org/en/armkbd-win/</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2008-01-30 19:28:21"
			itemprop="datePublished"
		>
			2008-01-30 19:28:21
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>aric</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">GrandpaMike, to add a menu flag for Mac OS X, create an .icns icon file, with the same filename as the keyboard layout and the suffix .icns.  Put it in Library/Keyboard Layouts, next to your keylayout file.  

I use <a href="http://www.mscape.com/">Iconographer</a> to make icon files.  For a keyboard layout, the file only needs to contain a "small" 16×16-pixel colour layer, and 1-bit mask.

For an example, see my <a href="http://zajac.ca/dvorak-uk/">Ukrainian Dvorak keylayout</a>.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2008-02-26 20:07:18"
			itemprop="datePublished"
		>
			2008-02-26 20:07:18
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Michael Zed</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
