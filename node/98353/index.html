<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Fontlab OpenType newbie contextual alternates confusion | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Fontlab OpenType newbie contextual alternates confusion" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/98353/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2012-11-23T19:20:51+00:00" />
<meta property="article:modified_time" content="2012-11-23T19:20:51+00:00" />

<meta itemprop="name" content="Fontlab OpenType newbie contextual alternates confusion">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2012-11-23T19:20:51+00:00" />
<meta itemprop="dateModified" content="2012-11-23T19:20:51+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Fontlab OpenType newbie contextual alternates confusion"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Fontlab OpenType newbie contextual alternates confusion</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2012-11-23T19:20:51Z">November 23, 2012</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">littletimmy</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">hello...

I'm attempting to make a font with some OpenType features for the first time, using Fontlab, and, guess what - it's slightly confusing...

what I'd like OpenType to do is:
for lots of specific character pairs, substitute pairs of alternate characters

so, for example, if someone types 'AB' I'd like OpenType to substitute glyph A_2 followed by glyph B_2...

I was kind of thinking I could do this with a contextual alternate feature like

<code>sub A' B' by A_2 B_2;</code>

but that doesn't seem to compile

<code>sub A B' by B_2;</code>

compiles OK, but doesn't really do what I want...

does what I'm trying to do make any sense? is it possible?

would a better way be to make all my desired glyph combinations as ligature glyphs? (and also make all the individual alternate glyphs separately available)

any help would be great</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">OpenType doesn't support many-to-many substitutions. So you need to do this as two steps:

A -> A.2
when followed by B

then

B -> B.2
when preceded by A.2</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-11-23 20:10:08"
			itemprop="datePublished"
		>
			2012-11-23 20:10:08
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">In the AFDKO/FontLab syntax, that would translate to:
<pre>sub A' B by A.2;
sub A.2 B' by B.2;</pre>

For glyph names, underscores are customarily used to indicate ligatures between two characters, and periods to precede suffixes. Suffixes might also be more descriptive if you have different kinds of alternates– i.e. <code>.alt[x]</code> for general alternates, <code>.swsh[x]</code> for swashes, (where <code>[x]</code> is a numeric index), <code>.smcp</code> for small caps, etc.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-11-24 04:10:02"
			itemprop="datePublished"
		>
			2012-11-24 04:10:02
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>gargoyle</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><blockquote> OpenType doesn't support many-to-many substitutions.</blockquote>

Actually it seems to me that OpenType *does* permit m2m substitutions (using GSUB type 5 or 6 lookups) but none of the common tools (VOLT and AFDKO) provide a way to express these such rules.

So I've often wondered if rendering engines actually support m2m lookups or not?  
 </div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-11-25 01:32:08"
			itemprop="datePublished"
		>
			2012-11-25 01:32:08
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Bob H</span
			></span
		>
	</div>
	 <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><blockquote>I've often wondered if rendering engines actually support m2m lookups or not?</blockquote>
I should <em>really</em> double-check this, but I think InDesign does. I constructed a many-to-many translation with a TTX dump as intermediary.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-11-25 04:14:33"
			itemprop="datePublished"
		>
			2012-11-25 04:14:33
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Theunis de Jong</span
			></span
		>
	</div>
	
</div>
 
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><cite>For glyph names, underscores are customarily used to indicate ligatures between two characters</cite>

More than custom. IIRC, when generating a PDF, that's what the Adobe engine will assume & make happen. So, if you have a glyph named A_B in your font, that glyph will become the two characters A & B in a PDF text stream. (Or, I may not RC...)

A period is what you want; everything after the period is dropped. So, "A.(anything)" remains "A".</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-11-26 14:27:33"
			itemprop="datePublished"
		>
			2012-11-26 14:27:33
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>charles ellertson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks for elaborating, Charles. That's my understanding as well, but was trying to stay succinct with the naming advice. No doubt the topic has been [[http://typophile.com/node/33330#comment-200526|discussed here before at some point]].</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-11-26 15:13:19"
			itemprop="datePublished"
		>
			2012-11-26 15:13:19
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>gargoyle</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Publisher A decides to take a book out of print, and sell the rights to publisher B. They supply PDF files, without fonts, of course. Publisher B has to take the text stream & use it for the resetting. 

And you're trying to be succinct? I've been involved in a few projects where recovering the text was, shall we say (amongst other choice words), expensive. 

Or did you mean you wouldn't write the code that way, it was just for this example? Don't scare old people like me. Use a period, even in examples.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-11-27 03:35:44"
			itemprop="datePublished"
		>
			2012-11-27 03:35:44
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>charles ellertson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Charles, perhaps I was not clear. I did use a period in my example code, then <em>succinctly</em> advised the original poster to use periods instead of underscores for suffixes, without fully elaborating on the matter. You explained the technical reasons behind this practice, so I thanked you for taking the time to do so (whereas, in my succinctness, I had not) and linked to a more detailed discussion on the topic. So I'm pretty sure we're in agreement.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-11-27 06:52:27"
			itemprop="datePublished"
		>
			2012-11-27 06:52:27
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>gargoyle</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">thanks everyone for your replies and the ensuing discussion... I've realised there was some illogic in what I was trying to do and, in figuring that out, and considering your contributions, I am now somewhat wiser!</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-12-12 09:28:36"
			itemprop="datePublished"
		>
			2012-12-12 09:28:36
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>littletimmy</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
