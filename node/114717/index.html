<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Nastaleeq (ttf) subsetting missing ligature | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Nastaleeq (ttf) subsetting missing ligature" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/114717/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2014-03-04T23:56:28+00:00" />
<meta property="article:modified_time" content="2014-03-04T23:56:28+00:00" />

<meta itemprop="name" content="Nastaleeq (ttf) subsetting missing ligature">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2014-03-04T23:56:28+00:00" />
<meta itemprop="dateModified" content="2014-03-04T23:56:28+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Nastaleeq (ttf) subsetting missing ligature"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Nastaleeq (ttf) subsetting missing ligature</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2014-03-04T23:56:28Z">March 4, 2014</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">urdud</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">Hi All,

My first post, so abt me: 
I'm a programmer (c/c++/python/perl), but fonts are my hobby. So, please forgive me for any gaps in my knowledge on fonts.
I've successfully converted a free nastaleeq font to woff and am able to use it on my server and results are great.
Now, I'm trying to optimize the load time of the page, which is obnoxious given the fine nastaleeq font.
So, I got into subsetting. I'm using a script to subset based on text I'm going to send out, and the resulting font looks fine to me.
I checked it in FontForge and compared with the original to the best of my (sparse) knowledge. Things look OK to me.
However, the text that looks correct (using ligatures) with the original ttf or woff, renders with isolated forms with the subset font.
I verifed that the subset font had the ligature at the same place as the original.
My text is unicode and so is the font. I can see GSUB(ccmp,init,medi,fina,rlig,calt,single) and GPOS(curs,mark,kern,mkmk etc) in the subset font

Please help me identify why the ligatures stop working with the subset font. In other words, please let me know what is required in the font to make ligatures work, that might be getting left behind. Thanks.</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">When doing the subsetting, you also have to modify the GSUB and GPOS tables to account for the new repertoire of glyphs -- I assume you are doing that?

You might verify the font with [[http://www.microsoft.com/typography/fontvalidator.mspx|Microsoft Font Validator]] or some other integrity-checking tool.

PS: What free nastaleeq font did you start with?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2014-03-05 22:20:16"
			itemprop="datePublished"
		>
			2014-03-05 22:20:16
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Bob H</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thank you Bob,
I will try Microsoft Font Validator. 

I assume that the script(bitbucket.org/philip/font-optimizer/src) is doing the right stuff, but I don't have any basis to judge except for FontForge being able to open it and the subset being present in there. So, a validator would be the right thing to use. 

After posting here, I converted the subset font to woff using FontSquirrel and the woff is working as expected. Now, I'm curious what FS must have fixed in the subset font?

I'm experimenting with Jameel Noori Nastaleeq.ttf which is ~10MB(~6MB woff)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2014-03-05 23:24:49"
			itemprop="datePublished"
		>
			2014-03-05 23:24:49
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>urdud</span
			></span
		>
	</div>
	 <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Bob, I tried font validator. It displays a lot of warnings and errors for both the working and the problematic subset. I'm confused. It there a quick reference that clearly states what constitutes a (minimal) font with ligature and hinting/kerning functionality?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2014-03-10 20:45:54"
			itemprop="datePublished"
		>
			2014-03-10 20:45:54
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>urdud</span
			></span
		>
	</div>
	
</div>
 
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">When you say it doesn't render correctly in your subset, are you testing with a browser? Or in a desktop program?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2014-03-06 22:07:50"
			itemprop="datePublished"
		>
			2014-03-06 22:07:50
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>jasonc</span
			></span
		>
	</div>
	 <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I'm testing with a browser(Firefox). My subset has individual/isolated forms of meem, qaaf, ta & daal, as well as a replacement glyph of these combined nicely in a nastaleeq ligature. With the subset font, these letters are rendered in isolated forms, not the ligature. However, once passed through fontsquirrel, it renders properly.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2014-03-10 20:41:35"
			itemprop="datePublished"
		>
			2014-03-10 20:41:35
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>urdud</span
			></span
		>
	</div>
	
</div>
 
</div>
 
</article>

    </main>
    
  </body>
</html>
