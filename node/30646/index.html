<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Exactly what is a Lookup? | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Exactly what is a Lookup?" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/30646/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2007-01-16T18:19:46+00:00" />
<meta property="article:modified_time" content="2007-01-16T18:19:46+00:00" />

<meta itemprop="name" content="Exactly what is a Lookup?">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2007-01-16T18:19:46+00:00" />
<meta itemprop="dateModified" content="2007-01-16T18:19:46+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Exactly what is a Lookup?"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Exactly what is a Lookup?</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2007-01-16T18:19:46Z">January 16, 2007</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Goran Soderstrom</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">I’ve tried to understand fully how (and why) a [[lookup]] works, but some part of brain don‘t quite understand it.

Exactly what is is? Please write as you were writing to a child ;-)

What’s the difference between this:

feature kern {
lookup kern0 {
pos space quoteleft -40;
} kern0;
} kern;

and this:

feature kern {
pos space quoteleft -40;
} kern;

Both works fine, am I right?</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Those two hunks of code are indeed functionally identical.

There are two things about lookups:

1) Once you define a lookup, you can use it somewhere else without repeating the same code. This is more efficient for you to code as well as making the final font smaller.

2) Sometimes you need to make sure that different bits of code are executed in a specific order. Putting them in separate lookups can help with that.

Cheers,

T</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-01-16 20:14:01"
			itemprop="datePublished"
		>
			2007-01-16 20:14:01
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Thomas Phinney</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Goran, 

please read:
<a href="http://typophile.com/node/29898#comment-171706">http://typophile.com/node/29898#comment-171706</a>
and my subsequent comments in that thread. 

Adam</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-01-17 15:47:41"
			itemprop="datePublished"
		>
			2007-01-17 15:47:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>twardoch</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thomas and Adam, thanks for your help.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-01-18 09:04:44"
			itemprop="datePublished"
		>
			2007-01-18 09:04:44
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Goran Soderstrom</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I must have been missing something elementary and maybe my english skills hinder me from understanding aswell, but I still dont get it :)

In this case, where exactly is the lookup "kern0" stated? I mean, where in the font is it written?

Is it some list on the side, or are these lookup-names standardized and you just simply get a list of all the lookups available and then add them in your OT-panel?

Hmm, I don‘t understand what this "kern0" really does in this case?

feature kern {
lookup kern0 {
pos space quoteleft -40;
} kern0;
} kern;

I mean, what could be the use for this "kern0" in this above example? What does it add?


Sorry if I’m slow...</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-01-18 20:00:14"
			itemprop="datePublished"
		>
			2007-01-18 20:00:14
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Goran Soderstrom</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Goran, 

have you read my explanations in the other thread? 

Each feature is associated with at least one lookup. If a feature is associated with just one lookup, then it is not necessary to explicitly use the "lookup" keyword in the AFDKO syntax -- this will be done implicitly. In other words, both examples that you listed have the exactly same result. 

As Thomas said, defining lookups explicitly (using the "lookup" keyword) make sense mostly when you want to associate the same lookup with several features (in the AFDKO syntax, you use the "lookup" keyword to define the lookup once and the re-use it in a different feature), or if you want to associate several lookups with one feature (when you want to process the string of glyphs multiple times). 

The lookup names in the AFDKO syntax are just for development purpose -- they are not being written into the font. 

Adam</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-01-18 21:10:54"
			itemprop="datePublished"
		>
			2007-01-18 21:10:54
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>twardoch</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Adam, thanks for your patience. Yes, I did read your explanation, but still don’t get it *LOL* Well, I think I sort of understand it but not completely.

May be that I’m stupid, but it feels like I really need that someone answers my initial question, why is the "kern0" there in this specific case. I can’t see that the lookup "kern0" should be used somewhere else in the font (it’s only one kerning table, isnt it?)

So, why is that litte lookup there in this case, it’s from Adobes Caslon 540 Std-font, which I openened and took a look at.

It doesnt make sense... (banging my head against the wall...)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-01-18 21:52:33"
			itemprop="datePublished"
		>
			2007-01-18 21:52:33
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Goran Soderstrom</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Goran, 

I'll repeat the most important point: Both examples that you listed have the exactly same result. This means that when you don't explicitly define a named lookup using the "lookup" keyword, the AFDKO library (i.e. FontLab Studio or the standalone AFDKO) will define one for you implicitly during compiling. In other words, if you don’t write "lookup kern0", the library will write something like that for you, in the background. 

When you open an existing OpenType font in FontLab Studio, FLS will decompile the binary OpenType Layout tables into AFDKO syntax. It tries to do the best job it can to generate optimal AFDKO source code but sometimes it needs to be "careful". Theoretically, it should put the "lookup" keywords everywhere, in each single feature definition (because, as I said, the lookups *are there*). However, since the AFDKO syntax allows you to omit the lookup keyword if there is only one lookup defined, the decompilation process tries to remove the "unnecessary" lookup keywords. But it some cases, it leaves them in -- for different reasons. 

One important thing to remember is that the AFDKO source code decompiled by FLS5 will never match the source code written by hand. It will always be somewhat imperfect. Sometimes, it does even happen that you decompile a font and then cannot compile it again -- this has to do with the fact that the AFDKO syntax in older versions of the library was not able to express all constructs properly. In AFDKO 2, some improvements were made but FLS5 still uses AFDKO 1.6. 

Best, 
Adam</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-01-19 16:39:45"
			itemprop="datePublished"
		>
			2007-01-19 16:39:45
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>twardoch</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Hmm, I think I start to get it. Thanks again for your explanations, Adam.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2007-01-19 19:57:46"
			itemprop="datePublished"
		>
			2007-01-19 19:57:46
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Goran Soderstrom</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
