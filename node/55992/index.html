<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Accents on discretionary ligatures | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Accents on discretionary ligatures" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/55992/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2009-03-18T06:21:47+00:00" />
<meta property="article:modified_time" content="2009-03-18T06:21:47+00:00" />

<meta itemprop="name" content="Accents on discretionary ligatures">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2009-03-18T06:21:47+00:00" />
<meta itemprop="dateModified" content="2009-03-18T06:21:47+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Accents on discretionary ligatures"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Accents on discretionary ligatures</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2009-03-18T06:21:47Z">March 18, 2009</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Raphael Daudelin</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">I'm adding Opentype features to a font for the first time. I have already added two sets of alternates and a set of discretionary ligatures. Most of the ligatures I want are made and I would like to add accents on some of them using anchors. Here's an example:

[img:sites/default/files/old-images/MultiLigature1_4990.gif]

When I look at the preview, everything seems to be ok, but when I'm trying to generate composite, it doesn't work as you can see in the next picture. 

[img:sites/default/files/old-images/MultiLigature2_4729.gif]

The accents are positioned correctly but the ligature are replaced by both glyphs.

When I'm trying to positioned the accent on the second letter within the ligature. The preview is still correct:

[img:sites/default/files/old-images/MultiLigature3_5884.gif]

When I generate composite, the ligature is still replaced by both glyphs, the position of the accent is not above the right part of the ligature and is too low:

[img:sites/default/files/old-images/MultiLigature4_4634.gif]

Anyone knows what I'm doing wrong
Thanks

Raphael</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">As regards the wrongly placed accents (your last screenshot):
If you add a tilde before each accent name in your glyph composition text like
&nbsp;&nbsp;&nbsp;&nbsp;<em>C_A+~acute=C_Acute</em>
this will prevent FLS5 from performing some positioning tricks. If you click the green button with a questionmark in it (bottom right of the <em>Generate Glyphs</em> ... dialog), a dialog will show some more information.

As regards decomposition of ligature into individual glyphs:
FLS5's glyph generation mechanism has a built-in trick that, if you provide a glyph name that involves underscores like
&nbsp;&nbsp;&nbsp;&nbsp;<em>C_A+dieresis</em>
then FLS will ignore the part after the '=' and instead use the 'components' as found in the 'C_A' name, i.e. 'C' and 'A'. I have not found a way to avoid this -- except for, temporarily, replacing the underscore in the ligatures' glyph names by another character or string.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-03-18 09:54:57"
			itemprop="datePublished"
		>
			2009-03-18 09:54:57
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>k.l.</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I've tried to add the tilde before each accent name in the glyph composition text and it didn't work. But when I changed temporarily the glyph name for ’CA’ instead of ’C_A’ the composite were generated perfectly. Of course, it's not the best solution because I have to rename each composite but at least it works.

Thanks</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-03-18 23:14:33"
			itemprop="datePublished"
		>
			2009-03-18 23:14:33
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Raphael Daudelin</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">You could use a little script like:

sr = ("_","!!!")
#sr = ("!!!","_")
for g in fl.font.glyphs: g.name = str(g.name).replace(sr[0],sr[1])
fl.UpdateFont(fl.ifont)
print "done!"

Copy/paste into the Macros Panel. You'll need to replace typographic quotes by simple ones.
Before generating glyphs, run the script with the second "sr = ..." line commented out. After generating glyphs, run it again but with the first "sr = ..." line commented out. (Of course you'll need to do a search/replace in your glyph composition text too.)
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-03-18 23:37:53"
			itemprop="datePublished"
		>
			2009-03-18 23:37:53
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>k.l.</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">this is why i actually prefer visually ligating contextual alternates rather than single glyphs to solve problems such as these.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-03-18 23:43:35"
			itemprop="datePublished"
		>
			2009-03-18 23:43:35
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>paul d hunt</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Regarding the script. I'm really not sure to get it, never worked with macros before. This script is made for renaming the font before generating composite and then renaming them again when the composite have been generated???

I paste it in the macro panel, but as soon as I replace the typographic quotes by simple quotes the first line: 

sr = (“_”,”!!!”)

becomes red.

I'm not sure either of what you mean by saying to run the script with the second “sr = ...” line commented.

Well, I guess I still have a lot of reading to do about macros</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-03-19 02:34:20"
			itemprop="datePublished"
		>
			2009-03-19 02:34:20
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Raphael Daudelin</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">
This is a bug. We will need to correct it in FLS6. 

Cheers,
Adam</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-03-19 03:00:24"
			itemprop="datePublished"
		>
			2009-03-19 03:00:24
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>twardoch</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Ok Sorry about my last post. I may sounded really lost. After examining the script better I get it. It works!

Now I do understand that the first line of the script says to replace underscore in all glyph names by !!!, and that the second line is says to replace !!! by the underscore. I also get what meant first line commented out.

I'm still a bit lost when I try to understand what everything stands for in the last three lines of the script, but I'll try to sort it out.

Anyway, thanks for that scripting introduction. I understand that it can saves me a lot of time.

Raphael</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-03-19 03:38:28"
			itemprop="datePublished"
		>
			2009-03-19 03:38:28
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Raphael Daudelin</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Good you found out how to make it work!

<cite>this is why i actually prefer visually ligating contextual alternates rather than single glyphs to solve problems such as these.</cite>

I prefer (individual) contextual alternates too, but because it is the more elegant solution on the font level (as to the ligatures shown above, the one-glyph solution is fine), not because of an editor's restrictions and so have my own method for glyph composition.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-03-19 08:59:44"
			itemprop="datePublished"
		>
			2009-03-19 08:59:44
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>k.l.</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
