<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>FontLab, OpenType, Mac and AAT? | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="FontLab, OpenType, Mac and AAT?" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/2832/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2004-01-25T00:27:34+00:00" />
<meta property="article:modified_time" content="2004-01-25T00:27:34+00:00" />

<meta itemprop="name" content="FontLab, OpenType, Mac and AAT?">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2004-01-25T00:27:34+00:00" />
<meta itemprop="dateModified" content="2004-01-25T00:27:34+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="FontLab, OpenType, Mac and AAT?"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">FontLab, OpenType, Mac and AAT?</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2004-01-25T00:27:34Z">January 25, 2004</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">robertm</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">Using my brand new copy of FontLab, I've put together my first OpenType font. Unfortunately, I don't think I understand everything yet and I have a few questions for the experts. (Please forgive me if these questions sound a little stupid.) <!-- raw HTML omitted --> <!-- raw HTML omitted -->My font is a basic CFF .otf font with upper case characters and alternate figures. I use the aalt and salt OpenType features and it works in the FontLab preview on Panther. <!-- raw HTML omitted --> <!-- raw HTML omitted -->1) I was surprised to see that 1/3rd of my applications have no idea what OpenType might be at all (Word, etc.). 1/3rd work just fine and I can access the alternate characters (these are Adobe applications which seem to use their own font engine) and the last third of my applications (such as TextEdit, or Freeway) claim that there are &quot;no typographic features&quot; in the font (but I can use the character palette's glyph input to see the alternates) . It seems that Apple wants me to put AAT tables in the font, but how can I add these tables? The Apple tools apparently only like TrueType flavored OpenType fonts? Help! <!-- raw HTML omitted -->My salt feature is really simple (and accesses two FontLab classes): <!-- raw HTML omitted -->feature salt { # Stylistic Alternates <!-- raw HTML omitted -->  sub @figures by @altfigures; <!-- raw HTML omitted -->} salt; <!-- raw HTML omitted --> <!-- raw HTML omitted -->2) To make the font more usable, I want to &quot;copy&quot; the upper case glyphs to lower case. I tried adding additional Unicode indexes as per page 95 of the FontLab manual. FontLab proudly shows the little &quot;D&quot; icon at both locations and the preview seems to indicate everything is fine. Unfortunately, applications only seem to display the first index and either nothing (Adobe) or the default Font (Apple) for the lower case!? I can of course cheat and just duplicate the glyph (or use a &quot;composite&quot; with only one component). <!-- raw HTML omitted --> <!-- raw HTML omitted -->3) When I add the OpenType &quot;size&quot; feature, FontLab crashes when compiling the features. Does anyone know whether that's a known problem (or something FontLab just doesn't support), or should I report this? <!-- raw HTML omitted -->The following is the example from the Adobe web site. I removed the sizemenunames. <!-- raw HTML omitted -->feature size { <!-- raw HTML omitted -->parameters 100  # design size (decipoints) <!-- raw HTML omitted -->3  # subfamily identifier <!-- raw HTML omitted -->80  # range start (exclusive, decipoints) <!-- raw HTML omitted -->139; # range end (inclusive, decipoints) <!-- raw HTML omitted -->} size; <!-- raw HTML omitted --> <!-- raw HTML omitted --> <!-- raw HTML omitted -->Thanks for your time! <!-- raw HTML omitted -->Robert</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I've since found a very inconvenient answer to #1. But it works and it could be automated (anyone?). <!-- raw HTML omitted --> <!-- raw HTML omitted -->1) Use TTX 2.0b1 <!-- raw HTML omitted --><a href="http://sourceforge.net/projects/fonttools/">http://sourceforge.net/projects/fonttools/</a><!-- raw HTML omitted --> to dump the original OpenType font. The resulting .ttx file will have &lt;glyphorder&gt; at the top which maps GlyphIDs to names. Get the IDs for the glyphs that will be substituted. <!-- raw HTML omitted --> <!-- raw HTML omitted -->2) Create a &quot;mif&quot; file with the following contents (the list is the substitution list) <!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted -->Type          Noncontextual <!-- raw HTML omitted -->Name          Character Alternates <!-- raw HTML omitted -->Namecode      17 <!-- raw HTML omitted -->Setting       No Alternates <!-- raw HTML omitted -->Settingcode   0 <!-- raw HTML omitted -->Default       yes <!-- raw HTML omitted -->Orientation   HV <!-- raw HTML omitted -->Forward       yes <!-- raw HTML omitted -->Exclusive     yes <!-- raw HTML omitted --> <!-- raw HTML omitted -->Type          Noncontextual <!-- raw HTML omitted -->Name          Character Alternates <!-- raw HTML omitted -->Namecode      17 <!-- raw HTML omitted -->Setting       Alternates <!-- raw HTML omitted -->Settingcode   1 <!-- raw HTML omitted -->Default       no <!-- raw HTML omitted -->Orientation   HV <!-- raw HTML omitted -->Forward       yes <!-- raw HTML omitted -->Exclusive     yes <!-- raw HTML omitted --> <!-- raw HTML omitted -->        10      58 <!-- raw HTML omitted -->        11      63 <!-- raw HTML omitted -->        12      57 <!-- raw HTML omitted -->        13      66 <!-- raw HTML omitted -->        14      61 <!-- raw HTML omitted -->        15      60 <!-- raw HTML omitted -->        16      65 <!-- raw HTML omitted -->        17      64 <!-- raw HTML omitted -->        18      59 <!-- raw HTML omitted -->        19      62 <!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted -->Unfortunately, I haven't fgured out a way to use my fancy names (&quot;zero.2&quot;) instead of the GlyphIDs which might change when messing around with the font too much in FontLab. <!-- raw HTML omitted --> <!-- raw HTML omitted -->3) Run ftxenhancer -m miffile myfont.otf <!-- raw HTML omitted -->(Apple font tools, <!-- raw HTML omitted --><a href="http://developer.apple.com/fonts/">http://developer.apple.com/fonts/</a><!-- raw HTML omitted -->) <!-- raw HTML omitted --> <!-- raw HTML omitted -->The resulting CFF OpenType file will work in AAT aware applications as well as in OpenType applications.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2004-01-25 03:44:22"
			itemprop="datePublished"
		>
			2004-01-25 03:44:22
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>robertm</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Apple's font tool DumpPOST creates a text file with the Postscript names for all the characters in the font. The PS names can be changed in a text editor and appended to the font with the AAT Font Tool. These are 'classic', pre-OSX applications. In OSX, ftxdumperfuser may do the same job (I've not used it).</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2004-01-25 14:06:44"
			itemprop="datePublished"
		>
			2004-01-25 14:06:44
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>blairyo</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">The post resource version 3 doesn't have glyph names; I think I'll stick with ttx (I'm using the latest from CVS). <!-- raw HTML omitted --> <!-- raw HTML omitted -->There was one additional hurdle: Panther ignores the OpenType kerning information when AAT information is present. <!-- raw HTML omitted --> <!-- raw HTML omitted -->To fix this, I simply add a 'kern' table to the font which FontLab conveniently generates when it saves a PC TrueType font. <!-- raw HTML omitted --> <!-- raw HTML omitted -->1) In FontLab, save font as PC ttf AND CFF-otf <!-- raw HTML omitted --> <!-- raw HTML omitted -->2) Run magic script: <!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted -->#!/bin/sh <!-- raw HTML omitted -->NAME=MyFont <!-- raw HTML omitted --> <!-- raw HTML omitted -->ttx -t kern $NAME.ttf <!-- raw HTML omitted -->sed -e 's/ttFont sfntVersion=\&quot;\x00\x01\x00\x00\&quot;/ttFont sfntVersion=\&quot;OTTO\&quot;/'  &lt;$name.ttx&gt; $NAME.kern <!-- raw HTML omitted -->rm $NAME.ttx <!-- raw HTML omitted --> <!-- raw HTML omitted -->mv $NAME.otf $NAME.otf.fl <!-- raw HTML omitted -->ttx -m $NAME.otf.fl $NAME.kern <!-- raw HTML omitted -->rm $NAME.kern <!-- raw HTML omitted --> <!-- raw HTML omitted -->echo &quot;Adding 'morx'  table&hellip;&quot; <!-- raw HTML omitted -->ftxenhancer -m $NAME.mif $NAME.otf <!-- raw HTML omitted --> <!-- raw HTML omitted -->echo &quot;*** BUILD COMPLETE ***&quot; <!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted -->3) Trash the PC ttf. <!-- raw HTML omitted --> <!-- raw HTML omitted -->Robert</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2004-01-26 01:31:36"
			itemprop="datePublished"
		>
			2004-01-26 01:31:36
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>robertm</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Robert, how are you making fonts with version 3 post tables? Just interested to know what your procedure is.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2004-01-26 01:35:22"
			itemprop="datePublished"
		>
			2004-01-26 01:35:22
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">FontLab (4.6, Mac) just did it, it didn't ask (I've only used the program for a couple of hours and I'm still somewhat mystified by its functionality). <!-- raw HTML omitted --> <!-- raw HTML omitted -->I use File-&gt;Generate Font-&gt;OpenType-CFF. The display next to the Options box says: &quot;Type 1 options: make PFM, make AFM; Unicode encoding; TT/OTF options: hinted (keep, autohint, visual); export Unicode; <!-- raw HTML omitted -->I think that these options aren't relevant when writing OT/CFF. <!-- raw HTML omitted --> <!-- raw HTML omitted -->See picture for the FontLab OpenType preferences dialog. <!-- raw HTML omitted --> <!-- raw HTML omitted -->Robert <!-- raw HTML omitted --> <!-- raw HTML omitted --><!-- raw HTML omitted --></div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2004-01-26 02:48:03"
			itemprop="datePublished"
		>
			2004-01-26 02:48:03
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>robertm</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><!-- raw HTML omitted -->FontLab (4.6, Mac) just did it, it didn't ask&hellip;<!-- raw HTML omitted --> <!-- raw HTML omitted --> <!-- raw HTML omitted -->It may be that, if making a PS OTF, FontLab writes the glyph names to the CFF table (I believe there is a place to store them there) and so writes a version 3 post table. That actually makes sense. I mainly work with TrueType fonts, for which FontLab writes a version 2 post table. I recently had to make a TT font with a version 3 table, and ended up needing another tool to do this.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2004-01-26 06:53:17"
			itemprop="datePublished"
		>
			2004-01-26 06:53:17
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
