<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Can&#39;t compile OT features | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Can&#39;t compile OT features" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/70713/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2010-05-25T00:06:00+00:00" />
<meta property="article:modified_time" content="2010-05-25T00:06:00+00:00" />

<meta itemprop="name" content="Can&#39;t compile OT features">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2010-05-25T00:06:00+00:00" />
<meta itemprop="dateModified" content="2010-05-25T00:06:00+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Can&#39;t compile OT features"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Can't compile OT features</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2010-05-25T00:06:00Z">May 25, 2010</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">clauses</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>I can&rsquo;t compile my OT features after some code cleaning. I get a new error about every time I try to compile from within Fontlab. E.g.</p>
<p><code>[FATAL] <Markant-Neue> aborting because of errors:
syntax error at &ldquo;feature&rdquo;
[/Users/claus/Library/Application Support/FontLab/Studio 5/Features/fontlab.fea 2650]</code></p>
<p>and</p>
<p><code>[FATAL] <Markant-Neue> aborting because of errors:
syntax error at &ldquo;@lat&rdquo;
[/Users/claus/Library/Application Support/FontLab/Studio 5/Features/fontlab.fea 1]</code></p>
<p>are the most common. Am I missing something here?</p>
</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">can you export your OT features and do a search for @lat check any lines that give you a result. it may be anything from simply not including a semicolon.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-05-25 00:29:48"
			itemprop="datePublished"
		>
			2010-05-25 00:29:48
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>paul d hunt</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">There is nothing called <code>@lat</code> in the features. Only some groups called something with <code>@latin<code>&hellip;</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-05-25 01:16:55"
			itemprop="datePublished"
		>
			2010-05-25 01:16:55
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>clauses</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Karsten was so kind to have a look and found the error - a missing semi-colon after the kern feature. Sigh. I wish there was some better error reporting in Fontlab and MakeOTF.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-05-25 16:50:00"
			itemprop="datePublished"
		>
			2010-05-25 16:50:00
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>clauses</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><code>syntax error</code> is pretty specific: it indicates that there is a formal—or formative—error in the code. Debugging requires a modicum of attention to detail, wherein the devils reside&hellip;</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-05-25 23:24:15"
			itemprop="datePublished"
		>
			2010-05-25 23:24:15
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>oldnick</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Oh come on! Syntax error - when is an error in the features not a syntax error? If the software in question would only call out the line where it chokes I would be happy. Alas.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-05-26 13:01:03"
			itemprop="datePublished"
		>
			2010-05-26 13:01:03
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>clauses</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><em>when is an error in the features not a syntax error?</em></p>
<p>Misspellings or inadvertent transpositions aren&rsquo;t syntax errors: they are calls for elements which don&rsquo;t exist because of improper naming&hellip;</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-05-26 16:47:11"
			itemprop="datePublished"
		>
			2010-05-26 16:47:11
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>oldnick</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">It&rsquo;d be nice if it just told you that you&rsquo;re missing a semicolon, but how does it know you meant to put one there? Instead, it keeps going past that point until it runs into something it doesn&rsquo;t understand, i.e., a syntax error. The missing semicolon was not the syntax error, but its absence led to one.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-05-26 17:28:06"
			itemprop="datePublished"
		>
			2010-05-26 17:28:06
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Mark Simonson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><img src="/images/old-images/scrndmp_5216.jpg" alt="">
 
Simply because I can’t resist mentioning this: in case of a syntax error in an OpenType layout features file, FM modules like DataMaster (‘auto’ features generation / latest build AFDKO 2.5) will indicate and locate (by line number)  the error:
 
<em>syntax error at &ldquo;lookup&rdquo; missing &ldquo;;&rdquo; [:features.txt 618]
HOT [FATAL] &lt;D_19_13T&gt; aborting because of errors</p>
<ul>
<li>end of HOT messages</em>
 
FEB</li>
</ul>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-05-26 18:50:39"
			itemprop="datePublished"
		>
			2010-05-26 18:50:39
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>blokland</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>@ Claus</p>
<p>I just checked, how informative the error messages of Makeotf (belonging to the AFDKO 2.5 21898) are. You wrote, that you wish a better error reporting. But in my test I was contented with the error reports of makeotf:</p>
<p><strong><code>syntax error at &ldquo;feature&rdquo; missing &ldquo;;&rdquo; [TestFont.fea 1469]
makeotfexe [FATAL] &lt;TestFont&gt; aborting because of errors
makeotf [Error] Failed to build output font file  TestFont.otf.</code></strong></p>
<p><strong><code>Drücken Sie eine beliebige Taste . . . (Press any key)</code></strong></p>
<p>1469 is the line number, in which the semicolon is missing. In this example it was the last semicolon of the kern feature.</p>
<p>And in the following example I have removed the last semicolon of a substitution rule:</p>
<p><strong><code>syntax error at &ldquo;sub&rdquo; missing &ldquo;;&rdquo; [TestFont.fea 189]
makeotfexe [FATAL] &lt;TestFont&gt; aborting because of errors
makeotf [Error] Failed to build output font file  TestFont.otf.</code></strong></p>
<p><strong><code>Drücken Sie eine beliebige Taste . . . (Press any key)</code></strong></p>
<p>What was your problem with the report of makeotf? I am contended with the error report. It makes out the missing semicolon as problem.</p>
<p>In the following example I removed the word sub from the rule &ldquo;ignore sub a' @all_without_space;&rdquo;. And the error message is:</p>
<p><strong><code>syntax error at &ldquo;a&rdquo; missing { substitute reverse position } [TestFont.fea 188
]
makeotfexe [FATAL] &lt;TestFont&gt; aborting because of errors
makeotf [Error] Failed to build output font file  TestFont.</code></strong></p>
<p><strong><code>Drücken Sie eine beliebige Taste . . . (Press any key)</code></strong></p>
<p>In all three examples makeotf has posted the correct line number. And in all three examples it had been easy to make out the problem.</p>
<hr>
<p>I started makeotf with the help of a batch file:</p>
<p><strong><code>@echo off
if exist TestFont.otf del TestFont.otf
if exist current.fpr del current.fpr
call makeotf -f TestFont.pfa -ff TestFont.fea -gf TestFont_GlyphOrderAndAliasDB -ga
del current.fpr
pause</code></strong></p>
<hr>
<p>Just a secret (Not anymore now!) tip for the case, that you find the AFDKO too uncomfortable:</p>
<p>I am using it for the generation of the GPOS and the GSUB table only. When I have generated the OTF with makeotf I decompile the GPOS- and the GSUB-table (the GSUB-table as hexdata) with TTX, because TTX can damage the GSUB-table in certain cases. This requires, that you temporarily delete G_S_U_B_.pyc and G_S_U_B_.py (I have written a batch file for this, a switcher. Search for G_S_U_B_.pyc and G_S_U_B_.py in your AFDKO directory). And then I merge the two decompiled tables into the font, that I have generated with FontLab. It is absolute necessary, that the order of the glyphs in the glyph-order-file is matching with the glyph-index in FontLab, if you decompile the GSUB-table as hexdata.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-05-26 20:25:09"
			itemprop="datePublished"
		>
			2010-05-26 20:25:09
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Arno Enslin</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>The FM modules have a modified version of the AFDKO under the hood, hence the similarities between the <em>syntax error</em> messages.</p>
<p>As an alternative for compiling, decomposing and merging tables using FL, TTX and the AFDKO, there is the option in OTM to compile binary OT Layout tables using for instance an ‘all covering standardized’ GSUB features file, like <a href="http://www.typefaces.nl/Temporary/ClientDownloads/27052010/Typophile/features_OTM.txt">this one</a> (my most recent file [I added some comments]; change the ‘txt’ suffix in ‘fea’ for OTM) and a font specific (of course) GPOS file. One can test this with the <a href="http://www.fontmaster.nl/english/demo.html">Light versions</a> of OTM (saving is disabled though).</p>
<p>An option for FL users is to compile the GPOS in FL and to add the GSUB with OTM. The character set does not have to correspond with the GSUB features listed; all obsolete features will be removed after compiling, just like in the FM modules. Of course, the naming conventions in the font and the features file should match.</p>
<p>If everything goes well, one of the coming versions of OTM will support this functionality on batch level via a command line.</p>
<p>Admitted, both TTX and the AFDKO are costs-free and OTM isn’t, but when it comes to convenience, time saving, reproducibility and standardization, OTM clearly wins, I reckon.</p>
<p>FEB</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-05-27 16:06:47"
			itemprop="datePublished"
		>
			2010-05-27 16:06:47
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>blokland</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>@ Frank</p>
<p>If you merge in the GSUB table with TTX, the character set (the index!) likewise has not to correspond in the very most cases – except you make use of my trick. My trick with the hexdata is helpful in rare cases – if the GSUB table contains names for the stylistic features for example. TTX does actually not support that, but the latest makeotf does.</p>
<p>And with regard to OTM, it is unfortunately out of my budget as amateur. (And the money, that you wanted to have for the last update – no, that would be too much for me.) In relation to the time one needs for designing a font, compiling the features with the AFDKO is almost nothing. You only have to understand it one time. With a strategy the AFDKO is not really uncomfortable.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-05-27 18:49:05"
			itemprop="datePublished"
		>
			2010-05-27 18:49:05
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Arno Enslin</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I just have seen, that the AFDKO contains a program called <em>sfntedit</em>, with the help of which you can extract and insert tables. So there is no need to change anything in TTX.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-01 08:31:41"
			itemprop="datePublished"
		>
			2010-06-01 08:31:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Arno Enslin</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">[Have a look at Claus' initial post. Error message 1 points to line 2650 which is close to where the actual error occurs, so as Paul Hunt wrote, saving the features and inspecting the according line(s) in a text editor helps. No need for any roundtrip except if you like making things more complicated than necessary.]</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-01 12:06:47"
			itemprop="datePublished"
		>
			2010-06-01 12:06:47
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>k.l.</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>@ Karsten</p>
<p>I would not call it making things more complicated, because generating the features with the AFDKO has more advantages.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-01 14:46:00"
			itemprop="datePublished"
		>
			2010-06-01 14:46:00
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Arno Enslin</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">[Depends on the feature file. With most fonts, including those in question: No advantage.]</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-01 16:18:57"
			itemprop="datePublished"
		>
			2010-06-01 16:18:57
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>k.l.</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>@ Karsten</p>
<p>I don’t directly contradict to you, but I would like to complement:</p>
<ol>
<li>
<p>In my opinion it is better to program the features in a text editor. I comment my features. If I import them in FontLab, it depends on the position of comments (before or after a feature), where they are displayed on the feature panel. Sometimes a comment is regarding to a group of features. But in FontLab it looks like the comment is regarding to one feature only.</p>
</li>
<li>
<p>The languagesystem statement &ldquo;DFLT dflt&rdquo;. FontLab is not able to compile it, isn’t it?</p>
</li>
<li>
<p>Stylistic set features and names for stylistic set (&lsquo;ss01 - ss20&rsquo;) features are cool, but not supported by FontLab.</p>
</li>
<li>
<p>If you use the AFDKO only, if FontLab does not support a special thing, you need more time to make use of the AFDKO, when you need it. So why not directly use it? (The training aspect.) Doing anything from the command line is wrongly scaring for many people, because it is not difficult, but just a bit unwonted. It is not a loss, but a win of comfort, if you learn how to use the command line and how to program batch files.</p>
</li>
<li>
<p>The AFDKO is free software and partly OpenSource. If you have not FontLab, but TypeTool or another font editor only, that is unable to compile features, you have to use the AFDKO, if you want to put OT features into your font. I would say, that the syntax, as it is expected by the AFDKO should be the standard, when code snippets are posted here. As more people use the AFDKO, as more people explore its possibilities. When others wait for a new version of FontLab with a later version of an OT compiler, you and me always have the latest. The AFDKO furthers the competition between the developers of software.</p>
</li>
</ol>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-01 18:05:32"
			itemprop="datePublished"
		>
			2010-06-01 18:05:32
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Arno Enslin</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Compiling fractions feature:
[FATAL] <TimesExtended> aborting because of errors:
syntax error at &ldquo;}&rdquo;
[E:/문서/FontLab/Studio5/fontlab.fea 270]</p>
<p>Notice the backslashes are now slashes. Typophile doesn&rsquo;t work with any other name than the button for Post. It should be fixed however Arial and TNR includes no support for IPA added to Version 5.0.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-05-08 12:05:30"
			itemprop="datePublished"
		>
			2011-05-08 12:05:30
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>386sky</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
