<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Color palettes in the scalable color technologies – feedback please | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="Color palettes in the scalable color technologies – feedback please" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/105914/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2013-08-30T03:10:35+00:00" />
<meta property="article:modified_time" content="2013-08-30T03:10:35+00:00" />

<meta itemprop="name" content="Color palettes in the scalable color technologies – feedback please">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2013-08-30T03:10:35+00:00" />
<meta itemprop="dateModified" content="2013-08-30T03:10:35+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Color palettes in the scalable color technologies – feedback please"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Color palettes in the scalable color technologies – feedback please</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2013-08-30T03:10:35Z">August 30, 2013</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Sairus&#43;Patel">
            Sairus Patel
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>As part of what seems to be a growing consensus around the co-existence of both scalable color font proposals (SVG and COLR) within the OFF/OT specs and possibly in some fonts as well, we’re looking into having both technologies share the same color palettes (i.e. literally use the same color palette table – CPAL – in the font).</p>
<p>This way, CSS markup (for example) can simply refer to the palette-index to be used for the text, instead of separate COLR-palette-index and SVG-palette-index values.</p>
<p>This kind of abstraction of course is what OT is very good at, with the cmap and GSUB for example being shared across glyph technologies and the text engine dispatching the positioned glyph IDs at the very last moment, as it were, to either a CFF or TT (or SVG) renderer.</p>
<p>And the CPAL could be extended to include name IDs that function as user-facing labels for color palette entries (e.g. “floral fill”, “leaf fill”, “outline”), as in the SVG table’s current spec for color palettes.</p>
<p>However, would font designers indeed want the same set of color palettes if they had both SVG and CPAL in their fonts? (Why both in the same font? For instance, a website could use a font with SVG descriptions including gradients and animation, but also include COLR versions of the glyphs (rendered static in flat colors in well-defined edges) in order to render in browsers that don&rsquo;t yet support SVG OT.)</p>
<ol>
<li>
<p>For example, a static SVG description of a floriated initial cap may include gradients for the flowers (e.g going from maroon to red to pink, with each of those colors with a color palette entry), whereas the &ldquo;fallback&rdquo; COLR description might simply have one or two of those colors as color palette entries.</p>
</li>
<li>
<p>Or an animated SVG glyph may have more colors not in its COLR version, e.g. the dot on top of the &ldquo;i&rdquo; would change colors with time, each color being a palette entry, whereas the COLR version of the glyph would only choose one (or none) of those colors.</p>
</li>
<li>
<p>Also, at the color meeting at TypeCon, John Hudson mentioned he could imagine a client wanting both COLR and SVG in a font, each for <em>different</em> ranges of characters. This might mean that entirely different sets of palettes are needed for different ranges/subsets of glyphs in the font, much like the hints in CID CFF&rsquo;s multiple dictionaries (e.g. Cyrillic vs kanji hinting). However, this complexity may not be worth it at this point in time.</p>
</li>
</ol>
<p>My feeling is that both technologies should simply share the color palettes if possible, and that fonts having both SVG and &ldquo;fallback&rdquo; COLR glyphs is at most a transitional necessity.</p>
<p>Thoughts?</p>
<p>Sairus</p>
</div>

  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">PS: if we go the sharing route we&rsquo;ll simply rename the SVG table&rsquo;s offsetToColorPalettes ULONG to be &lsquo;reserved ­ set to 0&rsquo; in order not to break current tools/impls.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-30 03:17:35"
			itemprop="datePublished"
		>
			2013-08-30 03:17:35
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Sairus&#43;Patel">
            Sairus Patel
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>I think the more relevant question might be Why Not? Is there any good reason (technical or otherwise) that the two should have separate palette tables if they coexist in the same font/spec?</p>
<p>I can only think of advantages to a single shared table, many of which you already touched on, including simplicity, file size, and end-user interaction. From the development side, I imagine a single shared table would be <em>much</em> easier to manage in source data.</p>
<p>Are there really any potential disadvantages to a single CPAL table? Are there any real advantages to separate color palette tables?</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-30 14:09:41"
			itemprop="datePublished"
		>
			2013-08-30 14:09:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:kentlew">
            kentlew
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">In talking to other stakeholders here at Microsoft they generally agree that extending CPAL to make it more useful for general purpose color palette specification is a very good idea.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-09-06 04:53:20"
			itemprop="datePublished"
		>
			2013-09-06 04:53:20
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Si_Daniels">
            Si_Daniels
	    </a>
			</span></span>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
