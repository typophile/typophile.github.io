<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Scaling UPM | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Scaling UPM" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/65679/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2009-12-25T23:50:09+00:00" />
<meta property="article:modified_time" content="2009-12-25T23:50:09+00:00" />

<meta itemprop="name" content="Scaling UPM">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2009-12-25T23:50:09+00:00" />
<meta itemprop="dateModified" content="2009-12-25T23:50:09+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Scaling UPM"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Scaling UPM</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2009-12-25T23:50:09Z">December 25, 2009</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Quincunx</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">I'm working on a typeface which was first a personal project, but I'm now adapting it for a client. I originally designed it on a UPM of 2000. However, the client needs a Type 1 font for their system. I'm having difficulties with the vertical metrics when I test the Type 1, especially in InDesign. 

It's prefectly fine when I export it as OpenType, but with the Type 1 it's as if the whole baseline shifts up (or the baseline stays put but the letters shift up, however you look at it). This makes all ascenders and caps to extend outside of the text-frame (which doesn't happen with the OTF). The cursor and selection box is of the right size, but the type is shifted up, so to speak.

I'm aware that Type 1 originally doesn't allow any nodes to extend outside the 2000 and -2000 boundaries, but also read on typophile somewhere that the real boundaries are more in the range of 4000. As far as I know I've set the vertical metrics correctly, with the help of the how-to on typophile and the pdf that is floating around made by Karsten Lücke.

It's possible that a 2000 UPM doesn't work, and that I need to scale it. Is there a good way to do this without too much nodes rounding of very crudely? Scaling to 1000 with the 'scale all glyphs...' option checked does cause quite a bit of rounding off changes.

Or maybe there are other tips you guys can give me?</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">This is possibly a dumb question, but why did you make your font in 2000 UPM in the first place?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-12-26 00:45:48"
			itemprop="datePublished"
		>
			2009-12-26 00:45:48
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Tomi from Suomi</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">No particular reason, and with TT and OTF it doesn't really matter that much. I was not planning on exporting it as Type 1, but now I am forced to.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-12-26 00:53:02"
			itemprop="datePublished"
		>
			2009-12-26 00:53:02
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Quincunx</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I've always worked with the lowest common denomerator, just in case.

Like yours. Sorry about that.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-12-26 01:10:52"
			itemprop="datePublished"
		>
			2009-12-26 01:10:52
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Tomi from Suomi</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Strangely enough, when exporting the Type 1, the Font BBox gets scaled down automatically to some random numbers, even when 'Use WinAscent and WinDescent as font vertical size' is ticked on in the PostScript-specific Settings. 

I tried exporting with the Type 1 Export Terminal this time, and manually changed the BBox numbers to the ones that are shown in Key Dimensions (on the bottom). Tested the font in InDesign, and the glyphs are now back onto the baseline and nothing extends outside of the bounding box (apart from characters like Â, but that is obvious).

I have no idea why it changes the BBox size to something completely wrong on itself...</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-12-26 02:32:49"
			itemprop="datePublished"
		>
			2009-12-26 02:32:49
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Quincunx</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Well, apparently exporting Type 1 automatically assumes the typeface is on a UPM of 1000. As a consequence, everything in my typeface gets halved. Font metrics, but also kerning.

Is there anyone that knows how I can prevent FontLab from doing this? Or perhaps knows about another way that I can generate a Type 1 without everything getting halved?

Or if that is not possible, how I can scale down the UPM to 1000, without getting too much rounding errors?

On a sidenote: strangely enough the font does display correctly in InDesign. For example, it says kerning between L en Y is -90, but it displays it as -180. If I reopen the exported font in FontLab, it says -180 again (while the afm clearly says -90). I have no idea how exactly this works. It seems weird.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-12-29 16:06:30"
			itemprop="datePublished"
		>
			2009-12-29 16:06:30
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Quincunx</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">AFAIK it's not FontLab that's scaling anything down (except maybe in the
kerning?), it's the renderer in a given SW. That would be why InDesign
does it right while other apps don't.

I'm not sure because I've always stuck with 1000 (for PS) to be safe...  :-/
It's probably worth going to the trouble fixing everything by hand.

hhp
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-12-29 16:46:13"
			itemprop="datePublished"
		>
			2009-12-29 16:46:13
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>hrant</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Well, everything in the .afm file is scaled down to 50%. I don't know if FontLab does this, but <em>something</em> does. It scales all values to 50%, but the glyph shapes themselves are larger than this, so I could see how this is problematic. I.e. The cap A is 1450 high and 1512 wide. But the afm shows it as 741 or something like that.

The font will be used in CCI (newspaper software), which is rather deprecated and weird software, so I'm trying to get it right so CCI will display everything correctly. They told me that the font prints properly, but that the screen display is showing squashed glyphs (the glyphs are compressed so that it almost looks like a condensed font). I thought this was caused by the scaled down BBox, but after that I noticed <em>everything</em> is scaled down, not only the BBox but also the metrics, kerning and the glyhs themselves.

And yes, I will also be sticking with UPM of 1000 from now on. But as I said, I was only planning for it to be for my own use, so OT or TTF only, and for those a UPM of 2000 is fine. But then someone decided to use the typeface, to which I obviously wouldn't object but for which did not plan, and they need Type 1 for CCI. ;)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-12-29 17:46:04"
			itemprop="datePublished"
		>
			2009-12-29 17:46:04
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Quincunx</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Correction, I noticed <em>everything</em> is scaled down, not only the BBox but also the metrics, kerning but <strong>not</strong> the glyphs themselves. I typed that the glyphs were also scaled down, but this is not the case.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-12-29 18:13:27"
			itemprop="datePublished"
		>
			2009-12-29 18:13:27
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Quincunx</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><cite>and with TT and OTF it doesn’t really matter that much</cite>

Perhaps it matters more than you think!</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-12-29 21:26:41"
			itemprop="datePublished"
		>
			2009-12-29 21:26:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>.00</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><code>Type 1 fonts <em>must</em> have a UPM of 1000 by definition. FontLab's auto scaling is obviously buggy, so make a copy of the font on 1000 UPM and check everything by hand.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-12-30 14:49:54"
			itemprop="datePublished"
		>
			2009-12-30 14:49:54
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>CurveDoctor</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><code>See page 25 and 26 in this magnificent curve stuff: [[http://partners.adobe.com/public/developer/en/font/T1_SPEC.PDF]]
Unfortunately FontLab does not do <strong>div</strong> for you.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-12-30 16:23:55"
			itemprop="datePublished"
		>
			2009-12-30 16:23:55
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>CurveDoctor</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">> <em>Perhaps it matters more than you think!</em>

Wel, I don't think so. :)

As far as I know the UPM standard of TTF is 2048. As for OTF; I think the official recommendation is 1000 (as it uses postscript outlines), but not a requirement, as OTF fonts work perfectly fine at 2000. And at seemingly random sizes as well, if I'm not mistaken.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-01-08 22:19:37"
			itemprop="datePublished"
		>
			2010-01-08 22:19:37
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Quincunx</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks CurveDoctor. I knew about the 1000 UPM requirement, but not that FontLab <em>will</em> automatically scale all vertical metrics to 50% when you export Type 1, but just leaves everything else at the original size. This will obviously cause problems, as the original size glyphs won't fit into the halved vertical metrics / BBox. It would be more workable if FontLab tells you a UPM of 2000 isn't supported when you export Type 1, and that it will auto scale everything when you proceed. Now it tells you nothing, and just scale down the vertical metrics but leave the UPM at 2000.

Now that I know all this, it isn't longer a problem and I just check everything by hand.

This thread is basically me completely not understanding at all. I should have done some more research before starting it. But perhaps it can be of use to someone else having the same lack of understanding in the future. :)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-01-08 22:23:40"
			itemprop="datePublished"
		>
			2010-01-08 22:23:40
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Quincunx</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><cite>Scaling to 1000 with the 'scale all glyphs...' option checked does cause quite a bit of rounding off changes.</cite>

What happens when you do that?
What were some of the problems you got when you did it?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-01-13 03:41:21"
			itemprop="datePublished"
		>
			2010-01-13 03:41:21
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>johnnydib</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">@johnnydib: To answer your question, scaling with 'scale all glyphs...' causes rounding off issues. In other words, it simply causes some anchor points to move a little bit because the grid on which they have to line up is more coarse. But I've noticed the changes are tiny, so in my case I accepted it and moved on. :)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-01-26 05:31:59"
			itemprop="datePublished"
		>
			2010-01-26 05:31:59
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Quincunx</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Okay good to know. At least it's not buggy or anything.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-01-28 16:28:40"
			itemprop="datePublished"
		>
			2010-01-28 16:28:40
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>johnnydib</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">In the most recent Adobe FDK for OpenType, a commandline tool named IS is included. It performs "intelligent scaling". It uses Type 1 hinting information attempting to keep the hinted stems and other elements the same width after the downscaling. 

We plan to integrate Adobe's intelligent scaling into the upcoming versions of our applications. 

Best,
Adam</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-01-29 18:32:21"
			itemprop="datePublished"
		>
			2010-01-29 18:32:21
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>twardoch</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
