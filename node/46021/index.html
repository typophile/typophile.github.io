<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Copy to Composites Macro - RoboFab ? | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Copy to Composites Macro - RoboFab ?" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/46021/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2008-06-03T18:01:47+00:00" />
<meta property="article:modified_time" content="2008-06-03T18:01:47+00:00" />

<meta itemprop="name" content="Copy to Composites Macro - RoboFab ?">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2008-06-03T18:01:47+00:00" />
<meta itemprop="dateModified" content="2008-06-03T18:01:47+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Copy to Composites Macro - RoboFab ?"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Copy to Composites Macro - RoboFab ?</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2008-06-03T18:01:47Z">June 3, 2008</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">ReginaldV</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">Hi all,

I trying to write a macro with RoboFab that works in the same way as FL copy to composites from the metrcis window, so I can quickly copy the metrics from glyphs like "H" to the Hbar. 

I was trying something like this :

<code>

#CopyToComposites
#
from robofab.world import CurrentFont
f = CurrentFont()
#
f['Hbar'].leftMargin = f['H'].leftMargin
f['Hbar'].rightMargin = f['H'].rightMargin
#
f.update()

</code>

The problem with this is it copies the actual sidebearing, so in cases like the Hbar the sidebearing is measured from the bar which overhangs the stem of the 'H', but I want it to be measured form the stem like you can do with the measuring line in the metrics window.



 [img:sites/default/files/old-images/Untitled-1_5264.gif]</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">A [[http://code.robofab.com/changeset/86|pen to calculate the horizontal margins of a glyph at any given height by intersecting the shape with a horizontal line]] was recently added to Robofab, which seems to be what you need.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2008-06-03 19:25:28"
			itemprop="datePublished"
		>
			2008-06-03 19:25:28
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Miguel Sousa</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">So I need to copy this script into Robofab ?  - where would I put the script ?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2008-06-03 20:55:38"
			itemprop="datePublished"
		>
			2008-06-03 20:55:38
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>ReginaldV</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
