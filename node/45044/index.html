<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>order of diacriticals in Unicode? | Typophile Archive</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content>
<meta name=generator content="Hugo 0.91.2">
<meta name=robots content="noindex, nofollow">
<link href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3 crossorigin=anonymous>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js integrity=sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p crossorigin=anonymous></script>
<meta property="og:title" content="order of diacriticals in Unicode?">
<meta property="og:description" content>
<meta property="og:type" content="article">
<meta property="og:url" content="http://typophile.github.io/node/45044/"><meta property="article:section" content="node">
<meta property="article:published_time" content="2008-05-06T22:36:38+00:00">
<meta property="article:modified_time" content="2008-05-06T22:36:38+00:00">
<meta itemprop=name content="order of diacriticals in Unicode?">
<meta itemprop=description content><meta itemprop=datePublished content="2008-05-06T22:36:38+00:00">
<meta itemprop=dateModified content="2008-05-06T22:36:38+00:00">
<meta itemprop=wordCount content="0">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="order of diacriticals in Unicode?">
<meta name=twitter:description content>
</head>
<body class="ma0 avenir bg-near-white">
<header>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
<div class=container>
<a class=navbar-brand href=/>Typophile Archive</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
</div>
</nav>
</header>
<main class=pb7 role=main>
<article class=container>
<header class="post-header py-3">
<h1 class="post-title p-name" itemprop="name headline">order of diacriticals in Unicode?</h1>
<p class=text-muted>
<time class="f6 mv4 dib tracked" datetime=2008-05-06T22:36:38Z>May 6, 2008</time>
• <span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>charles ellertson</span></span>
</p>
</header>
<div class="post-content e-content" itemprop=articleBody>I'm having to build a few "ccmp" glyphs for setting Kiowa. I seem to remember that the order of specifying diacriticals in Unicode is "inside out", starting with the top.
OK, no problem, the name for an "oh" with a macron & and acute above is, for example,
uni006F03040301 (or shorter, uni01010301)
But when you add the macron below as well, is it preferable to work "inside out" regardless of position, so the glyph name would be
uni010103310301 (omacron, macronbelow combining, acute combining),
or take care of the top first, e.g.
uni010103010331 (omacron, acute combining, macronbelow combining)
I suppose at some level it doesn't mater, but if there is a convention I'd like to follow it, because for all I know, either the text file or the PDf may be repurposed.
TIA
Charles</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>I'm not sure how relevant it is to what you are doing, but you might want to have a look at p. 111-113 of:
http://www.unicode.org/versions/Unicode5.0.0/ch03.pdf</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-05-08 15:07:44" itemprop=datePublished>
2008-05-08 15:07:44
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Tom Gewecke</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>The ā̱́ character can be expressed in a two main canonical Unicode forms. The Normalization Form D (NFD), which is achieved by the complete canonical decomposition of the string:
<code>U+0061 U+0331 U+0304 U+0301</code>
and the Normalization Form C (NFC), which is achieved by the complete canonical decomposition and a subsequent canonical composition of the string:
<code>U+0101 U+0331 U+0301</code>
When creating glyphnames for characters such as ā̱́ glyph, I recommend converting the Unicode sequence to the NFC form (on the Mac, you can use Unicode Checker for that), so a sensible glyphname would be <code>uni010103310301</code>.
Your <code>ccmp</code> code would be then:
<code>sub amacron uni0331 acutecomb by uni010103310301;</code>
However, since many application don't perform Unicode normalization of the string, your ccmp code could also add code for other situations:
<code>sub amacron acutecomb uni0331 by uni010103310301;
sub aacute uni0304 uni0331 by uni010103310301;
sub aacute uni0331 uni0304 by uni010103310301;
sub a acutecomb uni0304 uni0331 by uni010103310301;
sub a acutecomb uni0331 uni0304 by uni010103310301;
sub a uni0331 uni0304 acutecomb by uni010103310301;
sub a uni0331 acutecomb uni0304 by uni010103310301;
sub a uni0304 uni0331 acutecomb by uni010103310301;
sub a uni0304 acutecomb uni0331 by uni010103310301;</code>
More on this:
http://groups.msn.com/FontLab/tipsandtricks.msnw?action=get_message&mview=0&ID_Message=3403

More on NFC:
http://unicode.org/reports/tr15/
Regards,
Adam
</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-05-09 03:35:03" itemprop=datePublished>
2008-05-09 03:35:03
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>twardoch</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>They are not critical at all, so let them be diacritics only. ;-) ((or diacritical marks in the full form)).</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-05-09 08:24:18" itemprop=datePublished>
2008-05-09 08:24:18
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>aszszelp</span></span>
</div>
</div>
</article>
</main>
</body>
</html>