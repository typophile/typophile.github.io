---
author:
  name: paul d hunt
  picture: 109422
body: If i remember correctly, someone recently refered to the Mac as being a "marginally
  Unicode compliant environment" or something to that effect. Why is Apple taking
  so long to adopt the standard and what is the best way to get around this apparent
  obstacle? I'm assuming (correct me if i'm wrong) that Apple is still adhering to
  some glyph naming standard to access glyphs, but which standard is that?
comments:
- author:
    name: j.hadley
    picture: 112720
  body: "Hm, that is a questionably vague assertion.\r\n\r\nCould you elaborate? What
    do you think needs getting around? Font creation? Font usage? Something else?\r\n"
  created: '2007-09-14 21:06:11'
- author:
    name: paul d hunt
    picture: 109422
  body: "<em>What do you think needs getting around?</em>\r\n\r\nmac not finding characters
    when they're properly encoded in Unicode."
  created: '2007-09-16 02:13:23'
- author:
    name: j.hadley
    picture: 112720
  body: "'mac' or 'an application that runs under Mac OS'?\r\n\r\nAre there specific
    characters that are problematic?\r\n\r\n\r\n\r\nIn general to the original question:
    Unicode, as a text encoding at least, is very well-supported under Mac OS (X),
    at the system level. The OS font-handling mechanism can make use of the same cmaps
    that Windows does. I do remember some talk of Apple implementing a glyphname-to-Unicode
    mapping scheme, but not as its first line of defense...that technique is only
    used if it cannot find a suitable cmap, and it can make use of several.\r\n\r\nBut
    of course, it's always possible for an application to ignore or override what
    the OS is doing, especially older applications that may have started life pre-OS
    X; using legacy font manager routines...this could certainly give the appearance
    of characters not working (probably reading from the Mac Roman cmap). But this
    is no fault of OS X. Windows suffered similar problems when there was a push to
    move to the NT line (as opposed to the 9x line)...a lot of apps from the 9x line
    did not fully support Unicode under NT even though the NT OS was quite capable
    of doing so.\r\n"
  created: '2007-09-17 04:08:30'
- author:
    name: paul d hunt
    picture: 109422
  body: "well maybe i should use this thread as a case in point:\r\n\r\nhttp://www.typophile.com/node/37077\r\n\r\nwhy
    should something like this be such a big headache? why, if the characters are
    encoded correctly, shouldn't they \"just work\" in all applications on the Mac?
    maybe i just don't understand the relationship between the OS and the application
    in handling text..."
  created: '2007-09-17 04:17:28'
- author:
    name: j.hadley
    picture: 112720
  body: "Okay, specifics always help :-)\r\n\r\nThere does seem to be something strange
    going on. I just tried creating a .OTF where the name of the glyph 'A' was changed
    to some other name (my favorite \"foo\" substitute, \"butthead\"). The glyph is
    still present in the font, and the included Unicode cmap subtables encode that
    glyph as U+0041. But the shape does not appear in Font Book nor in other mapping
    utilities.\r\n\r\nHowever, I'm not sure I'd classify this as an 'Apple and Unicode'
    deal; rather, it would appear to be an 'Apple and OpenType (CFF)' deal. Specifically,
    it appears that the OS does not to use cmap subtables of a CFF font to obtain
    character-to-glyph mapping. But I would not call it a Unicode problem at all;
    the problem (or maybe \"feature\") happens before Unicode enters the picture.
    [Edit: as an aside, I can do the same thing with a TrueType font and it works
    just fine].\r\n\r\n\r\n\r\nAs to the relationship between OS and app: there's
    no requirement for an application to use what the OS provides; I can (and do)
    have a Mac OS X application that *will* properly render my example \"butthead\"
    font properly...but, I'm supplanting the OS's font-handling (even rendering) routines
    with my own. The point is, just because an OS supports something doesn't mean
    that all applications running under that OS will; and just because an OS doesn't
    support something, doesn't mean that you can't write an app that will.\r\n"
  created: '2007-09-17 16:38:49'
- author:
    name: dezcom
    picture: 109959
  body: "How about Greek/math characters? I mean mu pi Delta, etc., the glyphs that
    are used both as math and as Greek. I am a Mac user and longtime fan but as a
    type designer, I find the Mac's lack of Unicode compliance frustrating. The Mac
    uses glyph names to select what comes up instead of the unicode id. This means
    that a type designer has to do a workaround to get Greek to show up properly.
    This happens on Mac apps other than Adobe suite apps because Adobe does it the
    right way and ignores what Apple does. Apples own apps, Text Edit, Pages, et al,
    and other Mac-compliant aps like MS Office Mac follow Apples lead and cause a
    royal pain in the Kolo (Greek word for butt).\r\nFIX IT, APPLE! This all works
    perfectly on Windows (I hate to admit but it is true)!\r\n\r\n ChrisL"
  created: '2007-09-17 16:51:21'
- author:
    name: Tim Ahrens
    picture: 109692
  body: 'Another example: If the glyph order in an OTF is not the standard one everything
    gets totally scrambled on the Mac even though the Unicode values are correct.
    In CS everything works fine, however. It almost seems that the Mac ignores Unicode
    values and just refers to the glyph order?'
  created: '2007-09-17 17:15:58'
- author:
    name: j.hadley
    picture: 112720
  body: "Based on what I'm seeing, I would summarize what's going on as, \"<strong>for
    CFF-based OpenType Fonts</strong>, Mac OS X derives character mapping using something
    other than the contents of the character-to-glyph mapping table (cmap).\"\r\n\r\n\r\nI
    would add the following:\r\n- this does not appear to be a problem with TrueType-based
    OpenType fonts (it's possible to create TrueType based fonts that do not use glyphnames
    at all and whose glyphs all appear as expected).\r\n\r\n- this does not appear
    to be a problem with the OS's <em>Unicode</em> support; it's a problem with <em>font-handling</em>,
    and very specifically with CFF.\r\n\r\n"
  created: '2007-09-17 17:34:50'
- author:
    name: canderson
    picture: 111096
  body: "So, does Apple have a list of their name-to-Unicode mapping? Are they using
    the same mapping as Adobe? If the latter is true, then they are effectively saying
    that the Adobe naming convention is a requirement if you want your CFF fonts to
    work properly. This could be a problem if your codepoint isn't on the list. What
    if you use your own, it works, but then Adobe adds it's own later? Am I misunderstanding
    the situation?\r\n\r\nhttp://www.adobe.com/devnet/opentype/archives/glyphlist.txt"
  created: '2007-09-17 18:37:51'
- author:
    name: j.hadley
    picture: 112720
  body: "I can't answer as to what Apple is using; I'm only going by my own observations.
    Glyphnname-to-code mapping might be part of the picture, but it may also depend
    on other attributes (the CFF 'charset' setting, for example...viz. Tim's issue
    with glyph ordering). It would be nice to have some official word from Apple as
    to how code assignments are derived from CFF-based fonts, but I would not hold
    your breath for that.\r\n\r\nI did do a bit more experimenting, naming the 'A'
    glyph as 'uni0041', and that seemed to work. So that may be a workaround and answer
    for glyphs that are \"not on the list\" (whatever list that may be...).\r\n"
  created: '2007-09-17 19:18:56'
- author:
    name: dezcom
    picture: 109959
  body: "Joshua,\r\nThat was exactly the workaround I was referiing to for Greek/math.
    Adobe uses the unicode for glyph name in the problematic glyphs and I follow their
    lead because there is no other option. Apple has to own up and fix it if they
    are to remain the platform of choice for design and publishing.\r\n\r\nChrisL"
  created: '2007-09-17 19:40:40'
- author:
    name: dezcom
    picture: 109959
  body: "Herte is an example:\r\n\r\n[img:sites/default/files/old-images/uniDeltaOmega_mu-Arno_3578.png]\r\n\r\nAlso,
    look at the screengrab from FontLab to see the use of uni in both slots:\r\n\r\n[img:sites/default/files/old-images/uni03A9_number_Arno_4629.png]\r\n\r\nChrisL"
  created: '2007-09-17 19:52:30'
- author:
    name: j.hadley
    picture: 112720
  body: OK, so I think it's clear that this is a font-handling issue, not a Unicode
    issue (it involves Unicode, as the destination mapping, but the problem is further
    upstream), has anyone been in contact with Apple about it? I'm not sure their
    font engineers read Typophile; they might miss this.
  created: '2007-09-17 20:00:17'
- author:
    name: twardoch
    picture: 110427
  body: "One may add to the above that while Apple does currently support complex
    scripts through AAT (their own technology for which very few fonts exist), their
    OpenType Layout support is currently limited to non-complex scripts. However,
    OpenType Layout is these days the most popular technology for rendering ortographically
    correct text in most languages. Mac OS X cannot use the popular OpenType fonts
    to render Arabic or Devanagari. \r\n\r\nI think that supporting Unicode without
    supporting OpenType Layout is a moot point, so I do very much hope that Mac OS
    X 10.5 Leopard will have more extensive OTL support for complex scripts. \r\n\r\nA.\r\n"
  created: '2007-09-18 02:01:15'
- author:
    name: SuperUltraFabulous
    picture: 111522
  body: "Adam, this lack of opentype layout support- does this have implications for
    western fonts too? Like for example an opentype pro package with a many (complex)
    contextual alternates and I can access only a few features (by keyboard) within
    TextEdit or Pages or any other app that uses Apple's ATT system?\r\n\r\nMikey
    :-)"
  created: '2007-09-18 11:37:39'
- author:
    name: twardoch
    picture: 110427
  body: "Yes, contextual substitutions don't work in the Mac OS X system text engine,
    nor does language-specific shaping or complex positioning. Only simple substitutions
    and positioning work. I hope that this will be improved in 10.5. \r\n\r\nA."
  created: '2007-09-19 02:24:01'
- author:
    name: Henyk
    picture: 111038
  body: "Twardoch> Yes, contextual substitutions don\u2019t work in the Mac OS X system
    text engine, \r\n\r\nI tested it with Indesign CS3. Contextual substitutions (calt,
    and clig too) really don\u2019t work in ppc-based Mac OS but WORK(!!!) in intel-based
    Mac OS 10.4. It seems as very strange situation, isn\u2019t it?\r\n\r\nPS\r\nFeature
    locl still not implemented :("
  created: '2007-09-19 08:38:11'
- author:
    name: k.l.
    picture: 110875
  body: "-- j.hadley -- <cite>I did do a bit more experimenting, naming the 'A' glyph
    as 'uni0041'</cite>\r\n\r\nStill didn't do much testing with this, but as regards
    'tcedilla' & 'tcommaaccent' named in uniXXXX fashion, it seems that these names
    work fine in OS 10.4 but not always in 10.3 which is still around. [In apps that
    use OSX's text engine.]\r\n\r\n-- Henyk -- <cite>I tested it with Indesign CS3.</cite>\r\n\r\nAdobe
    uses it's own text engine which does support contextual substitution and positioning.
    Adam was referring to Apple's own applications like TextEdit and Pages, or other
    third-party apps that use OSX's text engine.\r\n\r\n-- Henyk -- <cite>Feature
    locl still not implemented :(</cite>\r\n\r\nAre you sure? AFAIK it is applied
    when you select a dictionary for a text string. You can try e.g. with Arno Pro:
    type a text with 'fi' in the string; apply the Ligatures feature which turns 'f'
    'i' into 'fi'-ligature; then apply Turkish language to the string, and the ligature
    will be decomposed into individual letters. This is 'locl' at work."
  created: '2007-09-19 12:47:48'
- author:
    name: j.hadley
    picture: 112720
  body: "Regarding 10.3, I guess that's no surprise. Things seem to be evolving, slowly.\r\n\r\nI
    do agree with Adam that it would be good to see more robust support for OpenType
    (.otl/CFF format as well as OpenType Layout features) in 10.5. Guess we'll find
    out soon enough."
  created: '2007-09-19 16:26:03'
- author:
    name: paul d hunt
    picture: 109422
  body: i edited the title of this thread to reflect the true nature of the problems
    i'm currently experiencing with Mac.
  created: '2007-09-19 19:21:58'
- author:
    name: SuperUltraFabulous
    picture: 111522
  body: "Hello all:\r\n\r\nThank you Adam for your comment. So I guess Zapfino Extra
    Pro (you worked on this correct?) will only work correctly in Adobe apps for now.\r\n\r\nI
    wholeheartedly agree Apple needs to improve their font technology. As it is right
    now, there are lots of inconsistencies. \r\n\r\nAdobe Poetica is a prime example
    of a font I cannot use to the full. This font comes with small cap alternates
    that are quite beautiful. However I cannot access them though the typography panel
    nor through the Character Palette. At least when using the Pages app.\r\n\r\nBut
    I just discovered I can access these characters in TextEdit. But only if you use
    a \"special trick\". Pull up the Character Palette. Find your glyph. Instead of
    dragging it into your document- double click on it. Then you can use it in TextEdit.
    Spell check will not recognize the character you just popped in but it works otherwise
    (Poetica's funky kerning aside though). \r\n\r\n[img:sites/default/files/old-images/Picture24_6319.png]\r\n[img:sites/default/files/old-images/Picture22_3892.png]\r\n[img:sites/default/files/old-images/Picture23_5998.png]\r\n\r\nWhy
    does TextExit have this itty-bitty capability over Pages- I have no idea. Unfortunately,
    TextEdit is not a full fledged design program. So this is not really of any importance
    to me until there is a global fix for the OS. And there does seem to be one on
    the horizon.\r\n\r\nhttp://www.apple.com/macosx/leopard/technology/unix.html\r\n\r\nCoreText
    is the replacement for ATSUI (Apple Type Services for Unicode Imaging). I can't
    seem to find anything useful on the Apple site. Except for an allusion to improved
    access with the Terminal app. For the little navigation I did on the Apple  Dev
    Connection, its actually present in Tiger but private.\r\n\r\nI wonder if Apple
    is in communication with type designers/developers? If they polled users- we'd
    sure give them an ear-full.\r\n\r\nMike Diaz :-)"
  created: '2007-09-20 04:10:51'
- author:
    name: SuperUltraFabulous
    picture: 111522
  body: Chris Lozos> perhaps my little trick might help you with your greek characters...
    :-)
  created: '2007-09-20 04:12:31'
- author:
    name: Thomas Phinney
    picture: 128358
  body: "I have taken the CFF/glyph-names/encoding issue up with Apple again, btw.
    We'll see if it gets \"fixed\" at some point.\r\n\r\nRegards,\r\n\r\nT"
  created: '2007-09-20 17:38:53'
- author:
    name: paul d hunt
    picture: 109422
  body: "Thanks Thom.\r\nIn the meantime, what should be the \"best practices\" to
    try to work around some of these issues? Or is it best just to sit back and wait
    for Apple to fix these bugs in their system?\r\n"
  created: '2007-09-20 18:29:39'
- author:
    name: Typography.Guru
    picture: 110253
  body: "Haven't had time to test it all, but the \"feature panel\" in the Apple apps
    has some major changes in 10.5:\r\nhttp://www.typografie.info/temp/textedit.jpg\r\n"
  created: '2007-11-02 18:18:40'
- author:
    name: canderson
    picture: 111096
  body: 'Ralf, this should be it''s own thread. There was some interesting discussion
    recently about how OpenType features should appear in InDesign. I can''t find
    the thread at the moment. However, the way in which the Typography panel functions
    seems to be basically how Nick Shinn wanted things to work. TextEdit != InDesign,
    but it''s interesting nonetheless. '
  created: '2007-11-02 18:34:05'
- author:
    name: k.l.
    picture: 110875
  body: <a href="http://typophile.com/node/38181">http://typophile.com/node/38181</a>
  created: '2007-11-02 18:46:25'
- author:
    name: Nick Shinn
    picture: 110193
  body: "Nice.\r\nI like the way the sub-menus may be expanded by rotating the triangle
    -- it's succinct, and keeping things flat is a better way of expanding options
    than having a new 3-D layered submenu palette appear, or a pop-up menu. "
  created: '2007-11-02 18:50:08'
- author:
    name: k.l.
    picture: 110875
  body: "Re http://www.typografie.info/temp/textedit.jpg -- The sorting of Arno styles
    does not look right.&nbsp;&nbsp;;-)\r\n\r\nRe Apple and the triangles -- It was
    already there in earlier versions. Looks clean but has disadvantages too:\r\n--
    You have to open the sub-menu before getting at, or seeing, the options.\r\n--
    If you open all of them, the menu gets pretty long.\r\nIf at all, then I'd favor
    something which would fly-out on mouse-over: touch the headline word and a sub-menu
    pops up right where the mouse is, make your settings or not, and if the mouse
    leaves the popup's area it will close and accept the changed settings. Yet even
    this way the settings are hidden by default.\r\n\r\nWhat InDesign would badly
    need is a cleaned-up style/OT menu, and I feel tempted to say that anything would
    be better than the current one. Either removing the OT/non-OT distinction entirely,
    or emphasizing it as in your example on the other thread. (Currently I'd prefer
    removing the distinction. If, for example, the currently selected font features
    small caps, then the option is preceded by an OpenType icon, if not, then there's
    no such icon and it would return fake small caps. Maybe another option could forbid
    faking anything.)\r\nOnly today a designer collegue remarked that he'd prefer
    separate small caps styles over using the OT option ..."
  created: '2007-11-02 19:17:06'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>Only today a designer collegue remarked that he\u2019d prefer separate
    small caps styles over using the OT option ...</em>\r\n\r\nYes, seeing the name
    Small Caps in the \"Typeface Style\" field of the Character palette, right under
    the typeface name, really does give the impression that Small Caps is a complete
    font, a semantic whole encompassing all characters--which it is, unlike any other
    OT feature. And on a par with Bold and Italic as a typographic modality."
  created: '2007-11-02 19:50:32'
- author:
    name: Miguel Sousa
    picture: 110242
  body: "> <em>the \u201Cfeature panel\u201D in the Apple apps has some major changes
    in 10.5</em>\r\n\r\nThere are some changes alright, but to me they don't see to
    be that big. Here's the Typography panel on 10.4.10, when selecting the same font:\r\n\r\n[img:sites/default/files/old-images/ArnoPro_OSX10_4_10_6630.png]"
  created: '2007-11-02 21:07:22'
- author:
    name: Tim Ahrens
    picture: 109692
  body: "Strange things happen when I switch on liga and smcp the same time:\r\n\r\nIn
    Arno it gets messed up, in Garamond Premier liga work but the dlig mess up the
    smallcaps.\r\n\r\nAre they not processing the lookups in the right order?"
  created: '2007-11-02 21:12:00'
- author:
    name: Mark Simonson
    picture: 110448
  body: "I've played with this a bit and was excited to see \"Contextual Alternate\"
    at the bottom of the palette. Unfortunately, it doesn't work properly. It substitutes
    the first alternate glyph available regardless of context. This is almost worse
    than no support for contextual alternates. I'm very disappointed by this.\r\n\r\nI
    have also noticed that the \"Typography\" palette seems to be broken in Pages
    '08 under Leopard. It works with some fonts (usually the \"regular\" weight),
    but not others. The palette goes blank as if no features are present. Keynote
    '08 seems fine (except for the <code>calt</code> problem mentioned above)."
  created: '2007-11-02 21:42:06'
- author:
    name: Tim Ahrens
    picture: 109692
  body: "Really? The contextual alternates work fine with me.\r\nThis new engine seems
    to be a bit erratic?"
  created: '2007-11-02 22:23:16'
- author:
    name: Miguel Sousa
    picture: 110242
  body: "> <em>Strange things happen when I switch on liga and smcp the same time</em>\r\n\r\nHi
    Tim, can you provide a couple examples? I'd like to get a better picture of what
    you're experiencing. Thanks."
  created: '2007-11-03 00:26:39'
- author:
    name: Mark Simonson
    picture: 110448
  body: "><em>Really? The contextual alternates work fine with me.</em>\r\n\r\nI tested
    it on two different (Intel) Macs running Leopard. The applications I tried were
    TextEdit, Pages '08, and Keynote '08. The fonts I tried were Kinescope (one of
    mine), Caflish Script Pro, and Bickham Script Pro."
  created: '2007-11-03 18:23:51'
- author:
    name: Tim Ahrens
    picture: 109692
  body: "Miguel, I am having trouble inserting images at the moment. Will try to sort
    that out. If I write \"finest\" and activate small caps, common and rare ligatures
    then the fi and st do not get converted to small caps. In Garamond Premier, the
    fi correctly becomes small caps but not the st.\r\n\r\nMark, I had the same experience
    as you with Caflisch Script Pro but with my own fonts the contextual alternates
    work fine. No idea why.\r\n\r\n\r\n"
  created: '2007-11-03 21:20:27'
- author:
    name: Miguel Sousa
    picture: 110242
  body: "That's interesting. On my end (using 10.4.10), everything is working as expected
    for both Arno (top) and Garamond Premier (bottom).\r\n[img:sites/default/files/old-images/TextEdit_Arno_GP_6332.png]\r\n\r\nI
    don't want to jump into conclusions, but I won't be surprised if it turns out
    that an OS X's font-related functionality, which used to work, got broken in a
    later version."
  created: '2007-11-04 05:02:47'
- author:
    name: canderson
    picture: 111096
  body: "I have both Tiger and Leopard running and it does appear that the behavior
    changed. For example, on Leopard if you have \"Common Ligatures\" and \"Rare Ligatures\"
    enabled in the panel, and then switch to  Small Capitals, the fi and ct remain
    lower case lowercase ligatures. \r\n\r\n(Screenshots don't seem to be working
    at the moment. Didn't someone else mention this?)"
  created: '2007-11-04 22:39:24'
- author:
    name: dannomon
  body: "Well, I know the behavior changed since I changed it.  Basically, all the
    lookups and glyph coverage specifics were implemented and/or fixed.  What is missing
    are complex script shaping engines (for ATSUI, CoreText at least has Arabic) -
    I simply ran out of time but fully intend to knock them off this coming year.
    \ Also what's missing is a decent UI for the features.  I cleaned this up in the
    existing framework the best I could but the OT alternates are way more involved
    than AAT which necessitates a major revision to the Typography Palette (actually,
    it would be easier to just scrap the current one and rewrite it).  Not having
    the alternates also closes off other features that rely on the presence those
    glyphs (such as specified in the Estilo font I've come to recently understand).
    \ Suffice to say, I have many action items on my plate.\r\n\r\nAs far as the Capitals
    feature interacting with 'liga' for instance, I'll check that out for possibly
    getting into an update - it might be a simple issue of the order in which these
    features are carried out.  I'll write up bugs from the comments listed here and
    investigate.\r\nDan Fenwick"
  created: '2007-11-07 01:52:51'
- author:
    name: Mark Simonson
    picture: 110448
  body: "Thanks for the info, Dan. \r\n\r\nOne thing I would suggest is that support
    for Stylistic Sets be implemented more like what Adobe has done, so that they
    can be applied cumulatively, not mutually exclusive of each other. In other words:
    check boxes, not radio buttons, from the user's point of view.\r\n\r\nProper support
    for <code>calt</code> in Cocoa apps would be a huge help for those of us making,
    marketing and supporting sophisticated OT fonts. It's so lame having to tell users
    that some of my fonts aren't fully functional in Pages or Keynote. They should
    \"just work.\""
  created: '2007-11-07 19:26:20'
- author:
    name: Nick Shinn
    picture: 110193
  body: "I second that, Mark.\r\nIt's particularly important for script fonts where
    <code>calt</code> is their<em> raison d'\xEAtre.</em>"
  created: '2007-11-07 20:43:55'
- author:
    name: j.hadley
    picture: 112720
  body: "So...we've strayed pretty far from the opener of this thread. \r\n\r\nI wonder
    if Dan or anyone else from Apple could comment on Paul's original concern (which
    I now share)? I would summarize that as \"OS X 10.4 appears to synthesize Unicode
    mappings in CFF-based OpenType fonts from glyphnames rather than from 'cmap' subtables,
    possibly resulting in unexpected behavior for some glyphnames/Unicode values.\"\r\n\r\nThe
    thread that Paul pointed out at http://www.typophile.com/node/37077 gets to the
    issue somewhat. My testing suggests that this behavior is limited to CFF-based
    fonts, not TrueType (where OS X seems to make direct use of 'cmap' subtables,
    ignoring glyphnames altogether).\r\n\r\nWhat I'm specifically interested in, relative
    to that issue is:\r\n- is there a detailed spec discussing the method(s) used
    in OS X to derive Unicode mappings from CFF-based OpenType fonts?\r\n- has anything
    changed in that mechanism from 10.4 -> 10.5?\r\n- does Apple have any guideline,
    standard, \"best practices\", etc. for glyph naming in CFF-based OpenType fonts?\r\n"
  created: '2007-11-08 19:33:17'
- author:
    name: dannomon
  body: "I asked our scaler expert about this issue and pasted his response below.
    \ To proceed, it would be good to get specific cases that we can examine here
    at Apple.\r\nDan Fenwick\r\n\r\n\"CFF based OpenType fonts are data fork fonts
    that has OTTO sfnt tag, thus we call these OTF font as the ones shipped from adobe
    bare such extension. For these, we only synthesize a unicode cmap if it does not
    have one (rare the case) or it require morx table synthesis. In the process of
    that, we do use the existing unicode cmap subtable to generate basis table for
    the new cmap. Only case for using the glyph names are type 1 fonts (non CFF).\r\n\r\nSo
    I don't what this rumor is from or how we can proceed with the following questions.\"\r\n"
  created: '2007-11-09 00:05:29'
- author:
    name: twardoch
    picture: 110427
  body: "Another smaller problem I noticed is that the AppleTypeServices RTF code
    for small caps was changed. While in 10.4, it was F196611, in 10.5 it is F196620
    -- which means that documents saved in Tiger that had the small caps feature applied
    lose this formatting in 10.5 (at least in TextEdit). I guess this may have something
    to do with the fact that in 10.4, the OT Letter Case selector was a set of radio
    buttons while in 10.5 it is a set of checkboxes. \r\n\r\nOther codes such as F1376256
    for oldstyle numerals seem to have stayed the same. Is there a reference list
    of those constants available somewhere? \r\n\r\nA.\r\n"
  created: '2007-11-09 10:09:48'
- author:
    name: dezcom
    picture: 109959
  body: "That is a great post, Adam! Would you sens a copy of the rest to me as well?\r\n\r\nChrisL"
  created: '2007-11-09 15:02:13'
- author:
    name: j.hadley
    picture: 112720
  body: "Dan: I think Adam has it covered, but I'm happy to supply additional cases
    if need be. Our experience matches Adam's, i.e. 10.4 does indeed use glyph names
    to map CFF fonts, even when there is a suitable cmap subtable present \u2013 contrary
    to your scaler expert's reply. But it sounds like this is moot with the release
    of 10.5. Thanks for looking into it.\r\n\r\nAlso, thanks to Adam for investigating
    the 10.5 behaviors...probably fodder for many more threads :-)"
  created: '2007-11-09 16:01:49'
- author:
    name: Miguel Sousa
    picture: 110242
  body: "Nice detective work Adam!\r\n\r\n> <em>But it sounds like this is moot with
    the release of 10.5.</em>\r\n\r\nNonetheless, I'd encourage all font developers
    to test their fonts, just to make sure that the correct use of the 'cmap' table
    for OT CFF fonts is not restricted to fonts developed by Adobe."
  created: '2007-11-09 20:15:46'
- author:
    name: twardoch
    picture: 110427
  body: "Dan, \r\n\r\nit's not a rumor, it's true. Or at least, it used to be true.
    \r\nNow it seems like it ain't true anymore. Some things were fixed in 10.5 as
    opposed to 10.4.10, but some got broken. Please take a look at the screenshots
    attached. \r\n\r\nThey show three fonts: Cambria (OpenType TT by Microsoft, version
    5.02), Garamond Premier Pro (OpenType PS by Adobe, version 2.000) and Arno Pro
    (OpenType PS by Adobe, version 1.011), in TextEdit on Mac OS X 10.4.10 Tiger and
    10.5.0 Leopard respectively. \r\n\r\n[img:sites/default/files/old-images/TextEditOT104_5599.png]\r\n[img:sites/default/files/old-images/TextEditOT105_5020.png]\r\n\r\nNote:
    \r\n\r\n1. In Tiger, all OpenType PS fonts have their cmap table synthesized.
    You can see this with the U+0163 character -- in Garamond Premier Pro, the respective
    glyph is named \"tcommaaccent\", and is of course mapped to U+0163, but Tiger
    ignors the cmap mapping, looks at the glyph name, does NOT recognize it, so the
    glyph is not shown. In Arno Pro, the glyph name is \"uni0163\", which Tiger does
    recognize and synthesizes an appropriate Unicode. In Leopard, this automatic Unicode
    synthesis based on glyph name was apparently done away with. I just tested it:
    I assigned a fully fictitious glyph name to the U+0163 and generated an OpenType
    PS (.otf) font, and according to my expectation, Tiger failed to show the glyph
    but Leopard did show it. \r\n\r\n2. While the support for different OpenType Layout
    lookup types in Leopard has been improved, Leopard seems to have introduced some
    serious problems in the interaction of different OpenType lookups. You can see
    on my screenshots that I activated both \"Common Ligatures\" and \"Small Capitals\"
    for the third word in each row. If we disregard the U+0163 problem mentioned above,
    we see that Tiger correctly interprets the order of the OT lookups that is stored
    in the font -- the \"smcp\" feature lookups precede the \"liga\" lookups and therefore,
    with both applied, only \"smcp\" gets processed and \"liga\" is disregarded. In
    Leopard, we see that this is no longer the case. In Garamond Premier Pro, the
    \"smcp\" lookups get processed first, and \"liga\" get ignored (correctly), while
    in Arno, the \"liga\" lookups get processed first, and the \"smcp\" lookups later
    (which is not correct). Cambria is a particularly good test case because it implements
    the \"liga\" feature in an innovative way -- by contextually inserting a different
    variant of the \"f\" glyph before \"i\" or \"l\". And you can clearly see that
    that \"liga\" lookup also gets processed before the \"smcp\" lookups, which contradicts
    the lookup order stored in the font. \r\n\r\n3. A fully new problem also was introduced
    in Leopard -- some GPOS kerning in OpenType TT (.ttf) fonts gets disregarded,
    though it worked in Tiger. Look at the Cambria example -- Cambria only has GPOS
    kerning, without classes but implemented in several lookups. We can see that both
    Tiger and Leopard processed the standard TA kerning pair correctly. However, Tiger
    also processed the small-cap LT, TA, A\u0162 and \u0162A pairs correctly while
    Leopard failed to process those pairs. \r\n\r\nI will send you a fully-documented
    case per e-mail. \r\n\r\nBest, \r\nAdam"
  created: '2007-11-10 01:44:11'
- author:
    name: Thomas Phinney
    picture: 128358
  body: "We're very happy that Apple fixed the OpenType CFF encoding issue by trusting
    the cmap table rather than relying on glyph names, in Leopard.\r\n\r\nThe new
    problems are most unfortunate, but we can hope they get fixed in a dot release.
    10.5.x anyone?\r\n\r\nRegards,\r\n\r\nT"
  created: '2007-11-12 06:00:31'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>I\u2019d encourage all font developers to test their fonts, just to make
    sure that the correct use of the \u2019cmap\u2019 table for OT CFF fonts is not
    restricted to fonts developed by Adobe.</em>\r\n\r\nDoes this mean that the FontLab
    default, which assigns a character name of, for instance, \"tcommaaccent\", and
    gives it the Unicode 0163, is incorrect?\r\n\r\nDo I have to change ALL character
    names to alphanumeric code, e.g. \"uni0163\"?"
  created: '2007-11-12 07:01:44'
- author:
    name: dezcom
    picture: 109959
  body: "The things that seem so simple can be so frustrating.\r\n\r\nChrisL"
  created: '2007-11-12 13:36:08'
- author:
    name: twardoch
    picture: 110427
  body: "> Does this mean that the FontLab default, which assigns a character name
    of, \r\n> for instance, \u201Ctcommaaccent\u201D, and gives it the Unicode 0163,
    is incorrect?\r\n\r\nIt depends on what you mean by \"incorrect\". The \"registered\"
    glyphnames are not an official part of the OpenType standard, they're a recommendation
    by Adobe. Mac OS X recognizes most of the mnemonic glyphnames listed by Adobe
    in the AGLFN (such as aogonek, cacute, ntilde etc.) but in case of U+0163, Adobe
    recognizes both the glyphnames \"tcommaaccent\" and \"uni0163\" while Mac OS X
    10.4 only recognizes \"uni0163\". \r\n\r\nA."
  created: '2007-11-12 13:47:27'
- author:
    name: dannomon
  body: "Thanks all-\r\n\r\nI already addressed the lookup ordering issue - simple
    fix works like a charm and I'm hoping to get this and some other changes in an
    SU though I feel a little uneasy about relying upon the order of the lookups in
    the fonts themselves; I've seen fonts that were not ordered.  I guess worst case
    would be to have a huge precedence list of features to follow.  For the capitals
    features, I changed them to checkboxes from radio buttons (just for OT fonts though)
    based on feedback though I've seen a few comments stating that this was not preferred.
    \ At least, it's up to the user to check a single or multiple capitals features.\r\n\r\nI
    wasn't aware of the kerning problem you noted which I'll investigate but I did
    indeed just find and address a vertical kerning issue: values were definitely
    confused.  Also note, fonts that don't have a 'morx' or 'mort' but have a 'GSUB'
    go through OT processing but if the font has also has a 'kern' table, MacOS X
    positioning for ATSUI and CoreText will use that instead of the 'GPOS' (this is
    specified by the OT spec).\r\n\r\nSo the gist the 'cmap' issue then is it's been
    fixed correctly in Leopard.  Unfortunately, we're past the last SU for Tiger so
    there's no going back.  I'll post back after investigating the kern issue.  Cheers,\r\n\r\nDan"
  created: '2007-11-12 17:18:12'
- author:
    name: Miguel Sousa
    picture: 110242
  body: "> <em>though I feel a little uneasy about relying upon the order of the lookups
    in the fonts themselves</em>\r\n\r\nRecently there was a thread on the OpenType
    list entitled \"Feature apply order\", which discussed what some text engines
    are doing."
  created: '2007-11-12 18:27:40'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>It depends on what you mean by \u201Cincorrect\u201D.</em>\r\n\r\nSorry
    Adam, no diss of FontLab intended, just perplexity on my part.\r\nOK, the way
    it appears:\r\nAdobe recommends glyph names, FontLab incorporates them into its
    code pages, but Apple doesn't recognize all the glyph names.\r\nIs this a misunderstanding,
    an oversight, or Apple's recalcitrance to Adobe's fiat, given that \"registered\"
    glyph names are not part of the OT standard?\r\n\r\n\r\n"
  created: '2007-11-12 19:08:55'
- author:
    name: Miguel Sousa
    picture: 110242
  body: "Dan, while you're at it, can you fix style-linking and how the styles of
    a same family are listed? Here's a test case: Arno Pro, a family of 32 faces.
    (Let me know if you can't get a hold of the fonts)\r\n\r\nThe problems I find
    when using the OS's (10.4.10) 'Font' window are:\r\n1. When selecting Arno Pro
    from the 'Family' list, the style 'Bold Display' is the one selected by default
    on the 'Typeface' list, instead of 'Regular'.\r\n\r\n2. On the 'Typeface' list,
    some styles are disordered (see image below). 'Bold Display' and 'Bold Italic
    Display' should appear near the bottom, and 'Light Display' and 'Light Italic
    Display' near the top, for example.\r\n[img:sites/default/files/old-images/Arno_styles_6699.png]\r\n\r\n3.
    Style-linking is not working correctly. For example, selecting 'Regular' and pressing
    Command+B, 'Semibold' gets selected instead of 'Bold'. Pressing Command+B again
    and 'Bold Display' gets selected, instead of going back to 'Regular'.\r\n\r\nArno
    Pro's faces that should style-link are the following:\r\na. Caption / Caption
    Italic / Bold Caption/ Bold Italic Caption\r\nb. SmText / SmText Italic / Bold
    SmText/ Bold Italic SmText\r\nc. Regular / Italic / Bold / Bold Italic\r\nd. Subhead
    / Subhead Italic / Bold Subhead/ Bold Italic Subhead\r\ne. Display / Display Italic
    / Bold Display/ Bold Italic Display\r\nf. Semibold Caption / Semibold Italic Caption\r\ng.
    Semibold SmText / Semibold Italic SmText\r\nh. Semibold / Semibold Italic\r\ni.
    Semibold Subhead / Semibold Italic Subhead\r\nj. Semibold Display / Semibold Italic
    Display\r\nk. Light Display / Light Italic Display"
  created: '2007-11-12 19:59:00'
- author:
    name: dannomon
  body: "I haven't delved into this part of the Font Panel before but yes, I agree
    having the \"regular\" or \"plain\" style should be the default.  Typeface names
    do seem to be getting more interesting these days; having a smarter order would
    be nice and I'll file the appropriate request bugs.  Thanks for the feedback.
    \ Cheers,\r\n\r\nDan"
  created: '2007-11-12 21:07:05'
- author:
    name: dezcom
    picture: 109959
  body: "Dan,\r\nThanks for listening to us here! We really appreciate it.\r\n\r\nChrisL"
  created: '2007-11-12 21:18:57'
- author:
    name: k.l.
    picture: 110875
  body: "Since Miguel mentions style-linking in Arno Pro, the question is, what is
    Command+B supposed to do in Apple applications?\r\nDoes it rely on 4-style subfamilies
    defined by name table IDs 1+2 and OS/2 fsSelection? Or does it rely on the OS/2
    weight value and allow toggling through weights, as in Adobe applications? (Needs
    to treat optical weights as separate families.)\r\n[Edit] To put the question
    differently: Does Apple want to imitate style-linking behavior as in Microsoft
    applications, or in Adobe applications? The former may make sense if the goal
    is to match (Word) users' expectations. But Apple applications' font menus show
    large families rather than the 4-style families into which large families are
    teared in Windows, so there is no need to pay tribute to 4-style families when
    it comes to style shortcuts.\r\n\r\nDan -- <cite>I've seen fonts that were not
    ordered.</cite>\r\n\r\nI think this then is a problem of fonts. At least in Latin
    script fonts, considering the OpenType List discussion to which Miguel refers.\r\n\r\nDan
    -- <cite>For the capitals features, I changed them to checkboxes from radio buttons
    (just for OT fonts though) based on feedback though I've seen a few comments stating
    that this was not preferred. At least, it's up to the user to check a single or
    multiple capitals features.</cite>\r\n\r\nHm. Does it mean to get smallcaps from
    both upper and lowercase one needs to activate two options? I have not seen OS
    10.5 yet ...\r\n(Seems I am one of those who would have preferred mutually exclusive
    options \"Upper & Lower Case\", \"Upper Case\", \"Upper Case & Small Caps\", \"Small
    Caps\". Still wondering why a user would want to select uppercase and smallcaps
    at the same time.)\r\n\r\nI have a question:\r\nDoes/will OS 10.5 also interpret
    GPOS features (e.g. 'kern') with multiple lookups and contextual positioning?\r\n\r\nKarsten"
  created: '2007-11-12 23:41:31'
- author:
    name: dannomon
  body: "Man, we diverged from the original topic quite a bit (should have started
    a new thread \"Type issues in MacOS Leopard\").  But no matter, I'll try answering
    the best I can.\r\n<cite>\r\nwhat is Command+B supposed to do in Apple applications?\r\n<dt>\r\nWell,
    it's supposed to do the most sensible, logical thing and switch to a weighted
    style that also is associated with the style that was previously selected.  So
    if say \"Oblique\" is selected, doing a Command+B will change the style to \"Bold
    Oblique\".  But sometimes it's not entirely obvious what to change the style to
    based on the original style.  We can do better though and will try.\r\n<cite>\r\nDoes/will
    OS 10.5 also interpret GPOS features (e.g. \u2019kern\u2019) with multiple lookups
    and contextual positioning?\r\n<dt>\r\nI'm not sure what you mean but if you're
    asking if Leopard has full 'GPOS' processing, the answer is yes.  There was an
    omission in Leopard for my default 'GPOS' feature list though: it's missing the
    'mkmk' and 'mark' for general layout (of course, it's there for CoreText Arabic
    if the font has a 'GPOS').  Also, I mentioned it earlier but I should reiterate
    that we now always use the 'kern' table if present in a font in lieu of its 'GPOS'.\r\n<cite>\r\nHm.
    Does it mean to get smallcaps from both upper and lowercase one needs to activate
    two options? I have not seen OS 10.5 yet ...\r\n(Seems I am one of those who would
    have preferred mutually exclusive options \u201CUpper & Lower Case\u201D, \u201CUpper
    Case\u201D, \u201CUpper Case & Small Caps\u201D, \u201CSmall Caps\u201D. Still
    wondering why a user would want to select uppercase and smallcaps at the same
    time.)\r\n<dt>\r\nActually, it is written (in the OT spec) that these feature
    shall be permitted to interact with any other 'GSUB' substitution feature (just
    need to apply them in the correct order, doh!).  Cheers,\r\n\r\nDan\r\n"
  created: '2007-11-13 00:33:21'
- author:
    name: k.l.
    picture: 110875
  body: "This is a chaos thread anyway ...&nbsp;&nbsp;;-)\r\n\r\nKarsten -- <cite>would
    have preferred mutually exclusive options \"Upper & Lower Case\", \"Upper Case\",
    \"Upper Case & Small Caps\", \"Small Caps\"</cite>\r\nDan -- <cite>Actually, it
    is written (in the OT spec) that these feature shall be permitted to interact
    with any other 'GSUB' substitution feature (just need to apply them in the correct
    order, doh!).</cite>\r\n\r\nWhat I refer to is UI options, not features themselves.
    Mutually exclusive means: among casing options. Of course case-related features
    should interact with other GSUB features like 'calt', 'liga', 'ss01' etc.\r\n\r\nDan
    -- <cite>but if you're asking if Leopard has full \u2019GPOS\u2019 processing,
    the answer is yes.</cite>\r\n\r\nYes, this is what I wanted to know. Great!\r\n\r\nMany
    thanks. Karsten"
  created: '2007-11-13 01:06:46'
- author:
    name: twardoch
    picture: 110427
  body: "> it\u2019s missing the \u2019mkmk\u2019 and \u2019mark\u2019 for general
    layout \r\n\r\nThat is very unfortunate. \r\n\r\nIs language-dependent processing
    (the \"locl\" feature) supported anyhow?\r\n\r\nA."
  created: '2007-11-13 01:58:19'
- author:
    name: dannomon
  body: "<cite>\r\nWhat I refer to is UI options, not features themselves. \r\n<dt>\r\nWell,
    those case related features are 'GSUB' substitution features so they are also
    allowed to interact with themselves.  That's why the UI does not make them mutually
    exclusive.  So 'c2sc' and 'smcp' are allowed to be on at the same time though
    their sum effect might be zero depending on the font design.\r\n<cite>\r\n it\u2019s
    missing the \u2019mkmk\u2019 and \u2019mark\u2019 for general layout - That is
    very unfortunate.\r\n<dt>\r\nI'm advocating getting that fix in an SU but I could
    really use a Latin font that relies upon those features to add to my support.
    \ Any well known candidates you can suggest?\r\n\r\nDan"
  created: '2007-11-13 20:50:27'
- author:
    name: dannomon
  body: "<cite>\r\nIs language-dependent processing (the \u201Clocl\u201D feature)
    supported anyhow?\r\n<dt>\r\nEr, no.  And this is because Leopard OT layout isn't
    looking at the languages and the UI doesn't really allow for it.  Though, there
    are now discussions about expanding general language specifying support.  Can't
    say much more about that since it's still in planning but we are very much aware
    of the need and want to address it.\r\n\r\nDan"
  created: '2007-11-13 21:07:32'
- author:
    name: Miguel Sousa
    picture: 110242
  body: "> <em>I could really use a Latin font that relies upon those features to
    add to my support. Any well known candidates you can suggest?</em>\r\n\r\nVista
    ships with enhanced versions of Arial and Times New Roman that contain 'mkmk'
    and 'mark'."
  created: '2007-11-13 21:32:07'
- author:
    name: dberlow
  body: "\"Why is Apple taking so long to adopt the standard and what is the best
    way to get around this apparent obstacle? \"\r\n\r\nI don't know the answer to
    the first question, but we added a dial tone to all our fonts and everything seems
    to work fine on the Mac now. \r\n\r\nCheers!"
  created: '2007-11-14 12:35:07'
- author:
    name: Thomas Phinney
    picture: 128358
  body: "</cite></i></em></cite></i></em></cite></i></em>Hey, Dan (F), nice to see
    you here. Note that Adobe Arabic is an OpenType CFF font family that has the 'mark'
    and I think the 'mkmk' feature as well. You should have it already for testing,
    and if not I can certainly send it to you.\r\n\r\nKarsten asked: <cite>Does it
    rely on 4-style subfamilies defined by name table IDs 1+2 and OS/2 fsSelection?
    Or does it rely on the OS/2 weight value and allow toggling through weights, as
    in Adobe applications?</cite>\r\n\r\nInDesign does the first behavior, not the
    second, to the best of my knowledge. I consider that first one the \"expected\"
    behavior. Is there some particular Adobe app in which you've observed the second
    behavior?\r\n\r\n(Say, I tried to close any open tags that might have been causing
    the ongoing italics, but it didn't work, so it wasn't 'cite' or 'em' or 'i' doing
    it. Sigh.)\r\n\r\nCheers,\r\n\r\nT"
  created: '2007-11-15 00:31:11'
- author:
    name: twardoch
    picture: 110427
  body: "Dan, \r\n\r\nplease contact me offlist at adam at twardoch dot com. \r\n\r\nA.\r\n"
  created: '2007-11-15 00:51:08'
- author:
    name: k.l.
    picture: 110875
  body: "Thomas -- <cite>InDesign does the first behavior, not the second, to the
    best of my knowledge. I consider that first one the \u201Cexpected\u201D behavior.</cite>\r\n\r\nOuch,
    right!\r\n(Don't remember how I got at that idea but obviously liked it much ...)\r\n\r\nKarsten"
  created: '2007-11-15 08:53:48'
- author:
    name: kikujiro
    picture: 113680
  body: "Miguel -- the OT style-linking bugs you mention (which I posted <a href=\"http://www.adobeforums.com/webx/.3bc4737d?@63.pNushOJD21b@\">here</a>,
    not realising how much livelier the Typophile forums were) have been fixed in
    Leopard (as of 10.5.1; I never checked in 10.5). At least, the default font when
    selecting Arno Pro is now Regular, and command-B/command-I do sensible things
    at last. The list order looks much the same but with a better default at the top.\r\n\r\nMore
    generally -- I realise this is dragging the thread way off topic, but as it seems
    to be a productive place to discuss Leopard font bugs, may I point out with some
    frustration that a very old bug has returned from 10.3.5, viz broken support for
    old PS1 fonts with alternative glyph sets -- most notably 'Expert' fonts, which
    have been working fine since 10.3.6, and now don't display any more? Dan, if you're
    reading, I did file this on Bug Reporter, but any help in getting it fixed in
    the next SU would be much appreciated. I've had to go back to fake small caps
    and lining figures, and they're horrible."
  created: '2007-11-28 14:49:44'
- author:
    name: dezcom
    picture: 109959
  body: ">>>\"Is language-dependent processing (the \u201Clocl\u201D feature) supported
    anyhow?\r\nEr, no. And this is because Leopard OT layout isn\u2019t looking at
    the languages and the UI doesn\u2019t really allow for it. Though, there are now
    discussions about expanding general language specifying support. Can\u2019t say
    much more about that since it\u2019s still in planning but we are very much aware
    of the need and want to address it.\r\nDan\"<<<\r\n\r\nDan,\r\nAny more progress
    on this? Language support is a pretty major thing and is bound to open up more
    userbase for Apple if handled well. I hope that THEY let you proceed with full
    support on this right away.\r\n\r\n\r\nChrisL"
  created: '2007-12-06 19:13:30'
- author:
    name: twardoch
    picture: 110427
  body: "Chris, \r\n\r\nI guess if Apple says \"expanding general language specifying
    support [is] still in planning\", then it won't happen before Mac OS X 10.6 in
    two years or so. Let's not hold our breath \u2014 but let's hope that the obvious
    bugs in Leopard's OT feature handling get fixed sometime soon. \r\n\r\nBest,\r\nAdam"
  created: '2007-12-06 23:42:13'
- author:
    name: dezcom
    picture: 109959
  body: "I hope so too, Adam. I don't know if Dan or anyone else at Apple is still
    paying attention. I hope so.\r\n\r\nChrisL"
  created: '2007-12-07 01:43:57'
- author:
    name: Thomas Phinney
    picture: 128358
  body: "OS X may have had a lot of font-handling bugs, but you have to give Dan F
    and Apple kudos for working so hard to fix them - especially lately.\r\n\r\nCheers,\r\n\r\nT"
  created: '2007-12-07 04:32:27'
date: '2007-09-14 20:07:31'
title: 'Apple and CFF: what''s the deal?'

---
