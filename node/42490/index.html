<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Ascent/Descent Python Script? | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="Ascent/Descent Python Script?" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/42490/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2008-02-25T21:41:49+00:00" />
<meta property="article:modified_time" content="2008-02-25T21:41:49+00:00" />

<meta itemprop="name" content="Ascent/Descent Python Script?">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2008-02-25T21:41:49+00:00" />
<meta itemprop="dateModified" content="2008-02-25T21:41:49+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Ascent/Descent Python Script?"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <div class="float-right">
 
    <a class="text-decoration-none share facebook" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2ftypophile.github.io%2fnode%2f42490%2f"><i class="bi bi-facebook"></i></a> 
    
    <a class="text-decoration-none share twitter" href="https://twitter.com/intent/tweet?text=title&amp;url=http%3a%2f%2ftypophile.github.io%2fnode%2f42490%2f&amp;"><i class="bi bi-twitter"></i></a> 
    
    <a class="text-decoration-none share linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2ftypophile.github.io%2fnode%2f42490%2f&amp;source=http%3a%2f%2ftypophile.github.io%2fnode%2f42490%2f/"><i class="bi bi-linkedin"></i></a>
 </a>
</div>

    <h1 class="post-title p-name" itemprop="name headline">Ascent/Descent Python Script?</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2008-02-25T21:41:49Z">February 25, 2008</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Diner">
            Diner
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>Lately I&rsquo;ve been troubled with the lousy job FontLab Studio 5 does with calculating its automatic ascent and descent values in addition to the worse job it does plugging in the additional values for OS2 and HHEA values . . .</p>
<p>To add insult to injury I continue to get the Ascent/Descent output error that John Hudson wrote about extensively . . .</p>
<p>So, the question remains, is this a FLAB5 problem that they will resolve in future builds or has somebody create a sweet sweet Python Script that can do a competent job of this work?</p>
<p>Kindly advise fellow builders . . .
Stuart :D</p>
</div>

  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>It should be fairly easy to script this. But one might actually want a couple of different scripts depending on the approach one intended to take to the linespacing issue:</p>
<p>METHOD 1 (in which all vertical metrics sum to equivalent values)</p>
<p>The WinAscent value and WinDescent values can be set to the actual vertical bounding box height and depth (this is, by the way, Adobe' recommendation). I have a script that Adam wrote for me that finds the tallest and deepest glyphs in a font, and it strikes me that it would be easy to then write these values to the relevant metrics fields.</p>
<p>For the additional OS/2 and hhea values, you would first want to set the Ascender and Descender values in the Key Dimensions font info dialogue correctly. For a Latin font, these can be calculated from the ascent of the d and descent of the p. In a non-Latin font without Latin codepage support, these values would need to be manually set.</p>
<p>The TypoAscender and TypoDescender values can be calculated by first summing the key dimension ascender and descender values&ndash;<em>treating all values as positive</em>&ndash;and subtracting this value from the UPM value. The difference should then be equally split and added to the key dimension Ascender and Descender values to come up with the OS/2 TypoAscender and TypoDescender values, i.e. the latter should sum to the UPM.</p>
<p>The TypeLineGap value can then be calculated by summing the WinAscent and WinDescent values and subtracting the UPM value.</p>
<p>The hhea values can me set in one of two ways, and it would probably be best to have an option dialogue or a separate script. They can either match the OS/2 Typo values, or the hhea Ascender and Descender settings can match the OS/2 WinAscent and WinDescent with the hhea LineGap value set to 0 (zero).</p>
<p>METHOD 2 (presuming setting of OS/2 version 4 fsSelection bit7, i.e. with idependent Typo and Win values)</p>
<p>OS/2 WinAscent and WinDescent values and the OS/2 TypoAscender and TypoDescender values are determined in the same way as in Method 1. The OS/2 TypoLineGap value is then set to a discretionary value to determine desirable linespacing in apps that respect the fsSelection bit 7 setting. As a default value, a script could set this value to 20% of the UPM, thereby implying 2pts of leading for 10pt text.</p>
<p>In Method 2 it would be typical for the hhea values to mirror the OS/2 Typo values.</p>
<p>Since FontLab is not currently able to set any of the OS/2 version 4 bits, requiring post production table hacking with e.g. TTX, a Method 1 script would probably serve the majority of FontLab users for the time being.</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2008-02-26 02:21:32"
			itemprop="datePublished"
		>
			2008-02-26 02:21:32
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:John&#43;Hudson">
            John Hudson
	    </a>
			</span></span>
	</div>
	
</div>
 
  <p class="text-end"><a class="text-secondary" href="https://github.com/typophile/typophile.github.io/edit/main/content/node/42490.md">Suggest an edit</a></p>

</article>

    </main>
    
  </body>
</html>
