<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>mysterious inflation in OTF file size | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="mysterious inflation in OTF file size" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/122614/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2015-01-16T23:03:59+00:00" />
<meta property="article:modified_time" content="2015-01-16T23:03:59+00:00" />

<meta itemprop="name" content="mysterious inflation in OTF file size">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2015-01-16T23:03:59+00:00" />
<meta itemprop="dateModified" content="2015-01-16T23:03:59+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="mysterious inflation in OTF file size"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">mysterious inflation in OTF file size</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2015-01-16T23:03:59Z">January 16, 2015</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:raseone">
            raseone
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>I have an old font that I created a decade or so ago. It&rsquo;s an insane font created with paths that were created by an auto-trace. The glyphs have relatively insane numbers of the paths.</p>
<p>Over the years I have cleaned it up a little here &amp; there resulting in a slowly shrinking file size and smoother performance. I&rsquo;ve finally taken the tie to do a more thorough clean up of the font on on exporting the otf &amp; ttf files from FontLab 5.1.4 for mac I noticed that the resulting files are significantly bigger that the last revision.</p>
<p>The newer version has 20% or so less paths &amp; no other intentional changes, no new glyphs etc…. so this should not be the case.
I&rsquo;ve gone through the font glyph by glyph to verify that it truly does have far fewer paths.</p>
<p>Does anyone have any ideas how I might further investigate this issue? It is a free font &amp; people like it. The clean up barely changes it&rsquo;s appearance at all &amp; is definitely a good thing but my goal is to make the font less computationally demanding, not more.</p>
<p>Thanks</p>
</div>

  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><ul>
<li>I downloaded your font</li>
<li>made .pfa Type1 font</li>
<li>in command line mode:
makeOTF -f c:...\font.pfa -S
( <a href="http://www.adobe.com/devnet/opentype/afdko.html">http://www.adobe.com/devnet/opentype/afdko.html</a> )</li>
</ul>
<p>I get otf font 88 kB, your original font is 110 kB. The key is option -S.
BTW open/generate font in FontForge and FontLab makes much bigger files.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-17 14:18:59"
			itemprop="datePublished"
		>
			2015-01-17 14:18:59
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:JanekZ">
            JanekZ
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Thank you so much JanekZ!</p>
<p>I am updating my copy of the Adobe FDK right now. I am fairly lame in command line &amp; only a novice user of the adobe fdk. Your instructions seem simple enough &amp; I think I can pull it off. Can you fill me in on the nature of option -S ? is that just a request to display the file size?</p>
<p>I&rsquo;ve been cut off from font forge for a while due to operating system upgrades and the lack of an installable binary for the newer versions. Are you aware of any fontforge binary out there on the net anywhere that will run under mac os 10.8 or higher?</p>
<p>I suppose I&rsquo;ve got nothing to hide here so here are some links to the exact font files in question.</p>
<p><a href="http://www.graffitifonts.com/downloads/paintcans_old.otf">http://www.graffitifonts.com/downloads/paintcans_old.otf</a>
<a href="http://www.graffitifonts.com/downloads/paintcans_new.otf">http://www.graffitifonts.com/downloads/paintcans_new.otf</a></p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-17 18:29:40"
			itemprop="datePublished"
		>
			2015-01-17 18:29:40
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:raseone">
            raseone
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>oops, sorry about that. The directory is password protected.</p>
<p>user: guest
pass:welcome</p>
<p>Thank you for the info on options -s &amp; -r</p>
<p>Not entirely sure if font forge is of any particular use to me anymore but I am partial to open source software so I&rsquo;ll take a fresh look. I enjoyed having it in my arsenal. It has nice error reporting.</p>
<p>Thanks!</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-17 19:25:37"
			itemprop="datePublished"
		>
			2015-01-17 19:25:37
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:raseone">
            raseone
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">&ldquo;the nature of option -S ?&rdquo;
<img src="/images/old-images/1_6279.jpg" alt="">
It looks option -r is good, but I don&rsquo;t have GlyphOrderAndAliasDB file at hand.
&ldquo;Are you aware of any fontforge binary&rdquo;
I know nothing, but you may find this useful <a href="http://fontforge.github.io/en-US/downloads/mac/">http://fontforge.github.io/en-US/downloads/mac/</a></div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-17 20:57:58"
			itemprop="datePublished"
		>
			2015-01-17 20:57:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:JanekZ">
            JanekZ
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><ol>
<li>Open font and generate Type1 font - .pfa file</li>
<li>(in FontLab) generate GlyphOrderAndAliasDB
use this script <a href="http://typophile.com/node/75834">http://typophile.com/node/75834</a>
remove font name in generated file name</li>
<li>Save this as FontMenuNameDB file:
<code>[PaintCans]
f=PaintCans
s=Regular
c=PaintCans
c=1,PaintCans&lt;code&gt;</li>
</ol>
<p>All your files are in one folder with font.pfa</p>
<ol start="4">
<li>
<p>Finally:
<code>makeOTF -f c:...\font.pfa -r&lt;code&gt;</p>
</li>
<li>
<p>Your new font:</p>
</li>
</ol>
<p><img src="/images/old-images/PaintCans_4217.jpg" alt=""></p>
<p>Job done!</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-17 20:58:57"
			itemprop="datePublished"
		>
			2015-01-17 20:58:57
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:JanekZ">
            JanekZ
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>holy smokes! Thanks for the run through. I&rsquo;ll give it a try right now &amp; report back on the results for the benefit of any future readers.</p>
<p>It&rsquo;s funny I can see the massive number of glitched out paths right in your screen shot. The new version has a lot less of that. In my own defense I have newer fonts made by the same method that don&rsquo;t have these problems but this horrifying old font gets around a lot. It will be great to make it less embarrassing.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-17 21:08:04"
			itemprop="datePublished"
		>
			2015-01-17 21:08:04
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:raseone">
            raseone
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Ok that seems to have worked well. I think I messed up the first step but I bumbled through it easy enough.</p>
<p>Here&rsquo;s the process in more detailed terms that might be easier to digest.</p>
<p>1.) I used FontLab to create a Postscript version of the font (ASCII/UNIX Type1 ). This creates 4 files: .pfa, .pfm, .inf, .afm</p>
<p>2.) I downloaded the scripts created by Arno Enslin here: <a href="http://typophile.com/node/75834">http://typophile.com/node/75834</a></p>
<p>3.) I removed the .txt extention from the end of the downloaded file so my mac would recognize it as a zip file then uncompressed the file &amp; moved into FontLabs standard location for macros &amp; scripts located at <code> Library/Application Support/FontLab/Studio 5/Macros </code></p>
<p>4.) In FontLab I went to WINDOW&gt;PANELS&gt;EDIT MACROS to open the EDIT MACROS window. I dragged the &ldquo;Generate_GlyphOrderAndAliasDB_file.py&rdquo; file into the EDIT MACROS window. The contents of the file appeared in the window.</p>
<p>5.) I hit the RUN MACRO button at the top of the window that looks like a &ldquo;play&rdquo; button. This generated the <code> GlyphOrderAndAliasDB </code> file in the folder along with the rest of the type1 font files.</p>
<p>6.) The font in this example was called &ldquo;PaintCans&rdquo; so I created a plain-text file named <code> FontMenuNameDB </code> (no file extension) with the following contents and saved it to the folder with the other font files.
<code>[PaintCans]
f=PaintCans
s=Regular
c=PaintCans
c=1,PaintCans</code></p>
<p>7.) Having the latest Adobe Font Dev Kit for OpenType installed ( [[http://www.adobe.com/devnet/opentype/afdko.html|Adobe FDKO]] ) I ran the &ldquo;makeOTF&rdquo; script by opening a terminal window and entering: 
<code> makeOTF -f c:...\font.pfa -r </code></p>
<p>This all worked like a charm and the Adobe makeOTF script spit out an OTF file into the directory with the other files.</p>
<p>This shaved about 7kb off of the file size which is great. I&rsquo;m not sure why but it&rsquo;s still good.</p>
<p>I had an original font at 166kb. I removed thousands of paths and somehow wound up with a font that was 253kb (bigger when I expected smaller). This method did produce a smaller file but only by a little bit. I was hoping to understand where all this extra file size had come from &amp; to wind up with a new file under 166kb.</p>
<p>Did I screw it up by using FontLab to create the initial Type1 file?</p>
<p>Any thought on where I might go next?</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-17 22:49:29"
			itemprop="datePublished"
		>
			2015-01-17 22:49:29
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:raseone">
            raseone
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>I don&rsquo;t know, it could be FontForge writes down something differently (hinting?). I generated .pfa file as &ldquo;Type1 (Ascii)&rdquo; in FontForge, ca 1,5 MB. The rest of this process looks the same. New font file PaintCans_GW.otf is 198 040 bytes (your original paintcans_new.otf is 252 948 bytes).<img src="/images/old-images/GW_6491.jpg" alt="">
I created another file - with all hints removed. New file is 167 540 bytes.
That&rsquo;s all for today. Good night!</p>
<p>Edit: your old font has no hints at all - it justify this big difference in size.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-18 12:20:03"
			itemprop="datePublished"
		>
			2015-01-18 12:20:03
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:JanekZ">
            JanekZ
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>That&rsquo;s it!</p>
<p>I had some indication that it was hinting data early in the process but I mistakenly thought the old one had hinting as well. In fact I accidentally auto hinted my FontLab file for the old version some time in the past… so I was totally unable to to reproduce the smaller version from the original source file. The hinting carried over into the new revision &amp; confusion ensued.</p>
<p>I see now that the OTF  files for the old version have no hinting but the FontLab file does. I was looking right past this as I thought I had eliminated this possibility. I&rsquo;m very glad to see it&rsquo;s a simple solution.</p>
<p>I will add that you are still able to get a significantly smaller file through the process above than I am. I will investigate that on my own but in any case you are arriving at right about the expected file size by removing the hinting &amp; this makes me very happy.</p>
<p>I really appreciate you taking the time to help out with this. You have just spared the entire future of the digital world untold millions of useless bits. I will do my best to pass the favor on to some other unfortunate soul… or back to you if there is anything you need.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-18 18:53:01"
			itemprop="datePublished"
		>
			2015-01-18 18:53:01
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:raseone">
            raseone
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>If you remove contours that fit in a 4x4 (resp. 5x5) rectangle, you can reduce the size to 115K (resp. 86K). For a limited time only  <a href="http://www.iro.umontreal.ca/~boyer/typophile/nodots/">no 4x4 and no 5x5 speckle in PaintCans</a>.</p>
<p>Michel</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-19 02:09:07"
			itemprop="datePublished"
		>
			2015-01-19 02:09:07
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Michel&#43;Boyer">
            Michel Boyer
	    </a>
			</span></span>
	</div>
	 <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>I can see what you did there &amp; the speed with which you can accomplish that with your method is great. I&rsquo;m working manually to treat &amp; reduce those little speckles but this process you&rsquo;ve showed me could certainly come in very handy. The reduction is size is significant but the visual effect is a bit random. A great trick to learn in any case. Thank you!</p>
<p>If you look at the newer version you will see there are a lot less of those &amp; many of them have been enlarged to a more reasonable size &amp; moved so they do not overlap.</p>
<p>This font also has a pretty bad problem with nodes that have fallen in exactly the same place so there are many nodes directly on top of each other. I have fixed tons of them manually but a script based solution could go a long way here with little or no visual impact. Do you have any magic for that?</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-19 03:09:49"
			itemprop="datePublished"
		>
			2015-01-19 03:09:49
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:raseone">
            raseone
	    </a>
			</span></span>
	</div>
	
</div>
 
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Wow, cool. Thanks both of you!</p>
<p>I&rsquo;ve downloaded the files from both of you &amp; I&rsquo;m working on compiling a new copy of font forge tonight. I should be able to reproduce everything you have done in these examples soon. My working copy of paintcans_new.otf is now on course to be somewhere between 150k &amp; 168k. Now I see I may be able to get it even smaller. Good stuff.</p>
<p>This font has escaped my control &amp; gets around the internet under it&rsquo;s own power. I&rsquo;ve spent far more time messing with it over the last several days than I spent making it all those years ago. It is an inadvisable way to make a font to say the least but it has lead to this great learning experience.</p>
<p>I made a number of path adjustments, kerning adjustments &amp; transformations that make the font a lot better from a design perspective so I&rsquo;m glad I got into this. I&rsquo;ll come back and post a final version after I run it through fontforge from step 1 to shave off those extra bits.</p>
<p>I figure you would have to be nuts to use this font at any size that would benefit from hinting</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-19 02:50:24"
			itemprop="datePublished"
		>
			2015-01-19 02:50:24
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:raseone">
            raseone
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">&ldquo;you are still able to get a significantly smaller file&rdquo;
That&rsquo;s strange.
[edited]</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-19 09:36:18"
			itemprop="datePublished"
		>
			2015-01-19 09:36:18
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:JanekZ">
            JanekZ
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>The file size depends  on the number of points. Identifying contours that fit in a 5x5 square is a basic exercise with Python and removing them (or rather drawing a new glyph without them) is only a few lines. Here <code>nf</code> is the new font where I draw the glyphs for some selection I made in FontForge</p>
<PRE>
   for g in font.selection.byGlyphs:
     if g.foreground and len(list(g.foreground)) != 0:
       pen=nf[g.glyphname].glyphPen()
       for c in g.foreground:
         if largeside(c)>5:
           c.draw(pen)
       pen = None
</PRE>
<p>where <code>largeside</code> is length of the large side of the rectangle that circumscribes the contour.</p>
<p>Something else that could be tried* is removing only tiny contours that create holes because, once printed, they should disappear due to flowing ink, unless the character is printed very large.</p>
<p>*Something still easier to do: when <code>largeside(c)</code> is not larger than 5, decide with some probabilty  <em>p</em>  to draw the contour <code>c</code> too. That might help keeping the appearance and, starting with 86K, there is room to add contours. Those contours could also be enlarged (with matrix transformations instead of doing it by hand).</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-19 17:31:49"
			itemprop="datePublished"
		>
			2015-01-19 17:31:49
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Michel&#43;Boyer">
            Michel Boyer
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">That is fantastic tool, but unluckily doesn&rsquo;t work on my computer (winXP SP3, FF 31 DEC 2014,  python 2.7 2012)
&ldquo;Execution of script c:...\1.py failed&rdquo;
or new message:
&ldquo;NameError: name &lsquo;font&rsquo; is not defined&rdquo;</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-19 20:44:33"
			itemprop="datePublished"
		>
			2015-01-19 20:44:33
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:JanekZ">
            JanekZ
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Works like a charm!
I suppose it can be ignored:
<code>line 12, in <module>
f.copy()
AttributeError: &lsquo;NoneType&rsquo; object has no attribute &lsquo;copy&rsquo; </code></p>
<p>Many thanks for such a great tool.
edit: I generated again the PaintCans_GW.otf, this time 98 304 B, and from .pfb - 93 415 B.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-19 22:48:51"
			itemprop="datePublished"
		>
			2015-01-19 22:48:51
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:JanekZ">
            JanekZ
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Sorry, that is just a stub. It is not the full script. The tool is something that can be clicked in the tools menu and requires a file in a special format (on unix, in the <code>~/.fontforge/Python</code> directory).</p>
<p>Here is a full script usable as a script. The advantage in copying in a new font and copying back is that the operation can be undone and redone (copy can be undone). I could not get that behaviour otherwise.</p>
<PRE>
import fontforge;
ff=fontforge

cwidth = {}                        # **
def largeside(c):
  (xmin,ymin,xmax,ymax) = c.boundingBox()
  width = xmax-xmin
  height = ymax - ymin
  if width > height: return width
  else: return height

f = ff.activeFont()
# f.copy()                         # **
nf= ff.font()
fsel = f.selection.byGlyphs;
for g in fsel:
  nf.createChar(g.unicode,g.glyphname)
  nf.selection.select(("more",None), g)
# nf.paste()                       # **
for g in fsel:
  cwidth[g.glyphname] = g.width    # **
  if g.foreground and len(list(g.foreground)) != 0:
    pen=nf[g.glyphname].glyphPen()
    for c in g.foreground:
      if largeside(c)>5:
        c.draw(pen)
    pen = None
nf.copy()
f.paste()
for g in fsel:                     # **
  g.width = cwidth[g.glyphname]    # **
nf.close()
</PRE>
<h1 id="-modifications-according-to-post-below">** Modifications according to post below</h1>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-20 01:15:14"
			itemprop="datePublished"
		>
			2015-01-20 01:15:14
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Michel&#43;Boyer">
            Michel Boyer
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>I see that for some reason the character widths were not preserved by my code. The lines</p>
<pre>
f.copy()
nf.paste()
</pre>
<p>can indeed be removed and are now commented out. I also modified the code so as to keep a dictionary of the glyph widths before the clean up so as to restore those widths in the end.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-01-20 01:59:38"
			itemprop="datePublished"
		>
			2015-01-20 01:59:38
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Michel&#43;Boyer">
            Michel Boyer
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Hello again Michel &amp; JanekZ &amp; anyone else.</p>
<p>I wound up adding a bunch of characters to that paintcans font so final processing &amp; reduction have been delayed a bit. All of your info was quite helpful though.</p>
<p>I still think I am failing to strip away all the hinting data from not just this font but a few others as well. I have mysterious file inflation of 20-60k on a few fonts &amp; hinting data is my best guess. I have a fairly good handle on the basics of hinting controls in fontlab &amp; fontforge but there must be something I&rsquo;m missing. I&rsquo;ve been through the manual &amp; all over the net looking for ideas.</p>
<p>Can anyone suggest one sure method to know for sure if any hinting data is present and/or one sure method to remove all hinting data if any is present?</p>
<p>I may be on a wild goose chase but I&rsquo;d like to know once &amp; for all.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2015-02-20 20:13:23"
			itemprop="datePublished"
		>
			2015-02-20 20:13:23
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:raseone">
            raseone
	    </a>
			</span></span>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
