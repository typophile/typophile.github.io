---
author:
  name: Frode Bo Helland
  picture: 112295
body: "Suffice to say, the documentation of TT hinting is either too shallow (not
  explaining enough, as in the case of the Fontlab manual) or highly advanced (The
  Raster Tragedy). I have some questions that I'll just get right to:\r\n\r\n1: What
  is the difference between single and double links?\r\n2: The Raster Tragedy seems
  to say that with the correct hinting, very few deltas are needed, but doesn't describe
  a method (or I just couldn't decode the advanced language) to do so. Take for example
  an \"o\": with simple links, the stems are easily controllable, but the northeast/northwest/southwest/southeast
  areas will still have stray pixels or odd widths. How do you deal with those without
  deltas?\r\n3: How far can the interpolation links move a point?\r\n4: How do you
  approach diagonals?\r\n5: How do you approach intersections, like in an \"x\"?\r\n6:
  Is there a way to move an alignment zone one pixel for the whole font at a given
  ppm, or do I have to do this manually for each glyph?\r\n7: How do you hint an \"s\"?\r\n8:
  How do you hint diagonal terminals?\r\n\r\nI realize this is a lot, but I've read
  all documentation I've been able to find in and out +10 times now and this baby
  ain't giving up her tricks."
comments:
- author:
    name: Frode Bo Helland
    picture: 112295
  body: Posting nighttime and summertime can bury stuff pretty fast, so I'm bumping
    this into attention again. I know there are a many trying to understand this.
  created: '2011-07-11 09:53:04'
- author:
    name: twardoch
    picture: 110427
  body: "> 1: What is the difference between single and double links?\r\n\r\nWith
    a single link, the origin point of the link needs to be \"touched\" by a different
    instruction (align, another single link, interpolation instruction). So a single
    link cannot exist \"by itself\", it needs to exist within a chain of instructions.
    If you add a new single link to an untouched point, FLS will automatically first
    add an alignment instruction. But if the point from which you start a single link
    already is touched by a different instruction, then FLS won't add the attachment.
    \r\n\r\nWith a double link, you can specify a distance between two points but
    none of those points needs to be previously \"touched\". \r\n\r\nExample of double
    link (in the middle stem): \r\n[img:sites/default/files/old-images/tth-doublelink_3506.png]\r\n\r\nExample
    of interpolation + single link (in the middle stem):\r\n[img:sites/default/files/old-images/tth-interpolsinglelink_5326.png]\r\n\r\nAs
    far as hinting strategies for diagonals, intersections or \"s\", there are many.
    I hope that some more experienced hinters tune in here. \r\n\r\nBest,\r\nAdam\r\n"
  created: '2011-07-11 17:28:42'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "Thanks Adam. I didn\u2019t really understand when I should use those instead
    of the single links. Maybe in the crossbar of \"e\", as I can\u2019t connect the
    single links to the bottom (or) top anchor in a row like horizontally. If I do
    use double links, how can I still control it\u2019s (the crossbar\u2019s) position?"
  created: '2011-07-11 19:20:46'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "I\u2019m beginning to realize how much design decision there is in hinting.
    Stray pixels is one thing, sure, but questions like when circular characters should
    go from square sides to rounded, when to supress design features and when not
    to, spacing etc. are much more important IMO."
  created: '2011-07-11 21:11:24'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "Answering my own question:\r\n<em>6: Is there a way to move an alignment
    zone one pixel for the whole font at a given ppm, or do I have to do this manually
    for each glyph?</em>\r\n\r\nYes, you can use the yellow arrow on each alignment
    zone to adjust it for the current ppm. The Fontlab manual mislead me here because
    it talked about using this trick to fix single letters that were off on the x-height."
  created: '2011-07-11 21:15:23'
- author:
    name: twardoch
    picture: 110427
  body: "Here's an idea how an extra \"stem\" can be used to do some basic control
    of the diagonals. \r\n\r\nI've started hinting this glyph from the center outwards
    (in the x-direction). First, I've created a double link on the bottom \"terminal\",
    and interpolated the cusp point on it. \r\n\r\nI've created a new stem and made
    single links to the outside glyph boundaries and to the sidebearing points, plus
    single links inwards on the top terminals. \r\n\r\nNow, in the TrueType hinting
    options dialog, I can control the ppm3 value to decide how steep the diagonal
    should be at a given ppm. (Scroll the images to the right to see the TT hinting
    option dialogs. Observe the ppm3 value for the \"X: v 393\" stem, which is the
    \"stem\" that controls the width of the diagonals.)\r\n\r\n[img:sites/default/files/old-images/tth-diagonalstem1a_5730.png]\r\n[img:sites/default/files/old-images/tth-diagonalstem2a_6142.png]\r\n\r\nIn
    a \"v\" shaped like this, starting from the middle with a double link and going
    outwards seems the most effective way to ensure the symmetry of the glyph while
    also maintaining control over the width of the flat terminals. "
  created: '2011-07-12 07:08:32'
- author:
    name: twardoch
    picture: 110427
  body: "Similar technique for \"w\": starting off with a double link for the top
    middle terminal, and working outwards: \r\n[img:sites/default/files/old-images/tth-w_5436.png]\r\n\r\nSince
    I've created this additional \"stem\" (X: w 330), in very small sizes (8-10 ppem)
    I can make the \"w\" really wide so it doesn't \"collapse\" and remains readable. "
  created: '2011-07-12 07:40:41'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: Wow, Adam, this is extremely valueable!
  created: '2011-07-12 08:34:22'
- author:
    name: dberlow
  body: "FF >I realize this is a lot, but I've read all documentation I've been able
    to find in and out +10 times now and this baby ain't giving up her tricks.\r\n\r\nAnything
    find valuable might be good or it could lose your path to greater knowledge based
    on the limits of the teacher.. But you never get her to give up her tricks UNLESS
    it begins with a Specification, as I've said before.\r\n\r\nNo one should even
    try to answer unless they know, are you aliased hinting only? Is the goal good
    lookin glyphs or readable text? Can you load up on deltas? Do you want to learn
    to hint, or learn to hint simple sans? How much time do you have? What do you
    want to spend?\r\n\r\nAnd also, are you trying  to do it all in FL where the right
    result  for some specifications is impossible, or is the best you can do in FL
    as far as you ever want to go?\r\n\r\n"
  created: '2011-07-12 15:19:52'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "Dave, I want to learn how to hint. I take into consideration both the various
    rendering engines with and without hinting, meaning I\u2019m also adjusting outlines
    and experimenting with various techniques to aid rendering regardless of hinting.
    In this case, the fonts are workhorse text faces (a serif w/italics and two sans
    serifs) for a typical PC user. The goal is readable text, yes. I\u2019d like to
    avoid deltas as much as I can. I can\u2019t spend on additional software, but
    I\u2019d love to spend money on some lessons, and I have enough time (given this
    (digital type design) is what I want to do for a living)."
  created: '2011-07-12 15:32:11'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "And don\u2019t think I didn\u2019t know this was a steep hill to climb."
  created: '2011-07-12 15:34:14'
- author:
    name: jasonc
    picture: 111045
  body: "<cite>I\u2019m beginning to realize how much design decision there is in
    hinting.</cite>\r\n\r\nI'm going to get that on a poster in my office. Or maybe
    a t-shirt. ;)\r\n\r\nDavid's question about software (and related to it, time)
    is important. Visual TrueType is a free (Windows based) tool, which (IMHO) can
    give you a lot more control, and better results, than FontLab. But the learning
    curve is very steep. \r\n\r\nJason C"
  created: '2011-07-12 17:01:15'
- author:
    name: dberlow
  body: "FF >... typical PC user\r\n\r\nBeing XP with GDI CT, 96dpi, 9-12 pt.?\r\n\r\nGet
    VTT, and let me know. If already got  Make sure your unhinted TT fonts install
    And function on windows , if you are FontValidator error message aware, validate
    them there instead. If you tell me you only use the Mac and can't afford a PC,
    then you are not going anywhere, ever, in the knid of tt hinting you've specified.\r\n\r\nFor
    any meeting the above criteria and wanting to pursue, open your font in VTT, select
    \"Prepare Font\" from whichever menu has it, agree to whatever it asks you to
    do, and save as something else. Then having the glyph window and  \"control value
    table\" (cvt) open, follow the documentation in the cvt, concentrating exclusively
    on alignments, and using the simple measuring tool measure the appropriate glyphs
    and fill those values into the cvt.\r\n\r\nOnce complete let me know and I'll
    tell you the six kinds of TT  hints you need to write, where, why and how.\r\n\r\n"
  created: '2011-07-13 12:43:18'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: 'I purchased a Win PC yesterday, David. '
  created: '2011-07-13 13:38:13'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "Unrelated to VTT, but here are my serif results so far, with no deltas what-so-ever.\r\n\r\nCleartype\r\n[img:sites/default/files/old-images/ct_4928.png]\r\n\r\nGreyscale\r\n[img:sites/default/files/old-images/greyscale_5808.png]"
  created: '2011-07-14 12:31:33'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "Re: spacing. For Cleartype +, you\u2019d want as little horizontal hinting
    as possible, right?"
  created: '2011-07-14 16:09:36'
- author:
    name: dberlow
  body: "0 x hints work as well as some since none are used by the CT rasterizers.\r\n\r\nLooks
    like there are spacing issues to resolve before hinting.\r\n\r\nControlling the
    diagonals is not working in the gs specimen and should be ignored\r\n\r\nLooks
    like problems with x ht serifs being inconsistent and always different from the
    ascenders serifs"
  created: '2011-07-14 22:34:20'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "Yep, many problems. I\u2019m learning as I go. "
  created: '2011-07-14 23:16:16'
- author:
    name: Beat Stamm
    picture: 111300
  body: "Quoting David: &ldquo;0 x hints work as well as some since none are used
    by the CT rasterizers.&rdquo;\r\n\r\nThis is <em><strong>NOT TRUE!</strong></em>
    The basics behind the CT path of the Windows TrueType rasterizer are described
    in [[http://www.beatstamm.com/typography/RTRCh4.htm#Sec1|\xA74.1 ClearType &amp;
    &ldquo;Legacy Fonts&rdquo;]] and [[http://www.beatstamm.com/typography/RTRCh4.htm#Sec2|\xA74.2
    ClearType &amp; &ldquo;Legacy Applications,&rdquo;]] and I&rsquo;ll repeat what
    I highlighted in [[http://www.beatstamm.com/typography/RTRCh4.htm#Sec12|\xA74.1.2
    Deltas &ldquo;Galore:&rdquo;]]\r\n\r\n<strong>ClearType rendering does <em>not</em>
    generally ignore TrueType instructions in x-direction. It merely rounds them differently,
    and it bypasses distorting deltas.</em>\r\n\r\nGreg has included some of my internal
    notes at the time in his post  [[http://www.microsoft.com/typography/cleartype/truetypecleartype.aspx|Backwards
    Compatibility of TrueType Instructions with Microsoft ClearType]]. Some of these
    are gory details from a tight-rope walk between broken &ldquo;hinting&rdquo; code
    and making the result &ldquo;look nice&rdquo; anyway. But most of these &ldquo;jury
    rigs&rdquo; can be switched off as described in Greg&rsquo;s post and in [[http://www.beatstamm.com/typography/RTRCh4.htm#Sec12|\xA74.1.2
    Deltas &ldquo;Galore;&rdquo;]] the latter should be safe to use on any version
    number of the TT rasterizer.\r\n\r\nThe exception to said switch is rounding to
    sample grid, and in tandem the CVT cut-in to samples. This is needed to implement
    [[http://www.beatstamm.com/typography/RasterTragedy/RTRCh3.htm#Sec10|Fractional
    Stroke Weights]] and [[http://www.beatstamm.com/typography/RasterTragedy/RTRCh3.htm#Sec11|Fractional
    Stroke Positions]], which none of the existing fonts did, and at the time this
    was the preferred implementation. It also was my understanding that subsequently
    core fonts would undergo extensive &ldquo;delta tweaks&rdquo; to ensure sufficient
    [[http://www.beatstamm.com/typography/RasterTragedy/RTRCh3.htm#Sec12|Stroke Rendering
    Contrast]]. Some core fonts did get these &ldquo;tweaks&rdquo;(e.g. Arial, Verdana),
    at least at some sizes and for RGB [[http://www.beatstamm.com/typography/RTRCh5.htm#Sec6|LCD
    Sub-Pixel Structures]], while more recent fonts didn&rsquo;t (e.g. Calibri, Corbel)&mdash;font-makers&rsquo;
    artistic preferences vs end-users&rsquo; preferences (cf. [[http://www.beatstamm.com/typography/RTRCh6.htm#Sec37|\xA76.3.7
    &ldquo;Hinting&rdquo; Respects End-Users]])."
  created: '2011-07-17 21:14:46'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "Thanks for chiming in, Beat. A little word from monsieur Conarre now and
    I've had the whole TT royality stop by. \r\n\r\nI'm doing some experiments with
    smoothed Greyscale rendering at the moment. It has a tendency to turn out too
    light, but locking stems to the grid and adding a little weight to the rounds
    (with middle deltas) looks real nice to me. In fact, I find this more readable
    than binary rendering. Take for example italics: binary rendering is a disaster
    even with great hinting. Any opinions on that?"
  created: '2011-07-17 22:32:46'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: Btw, for those of you that like me start from scratch I recommend [[http://cg.scs.carleton.ca/~luc/tt_hinting_tutorial.pdf|this]]
    PDF. Once I learned the basic tools, it was real helpful explaining the basics.
  created: '2011-07-17 22:35:55'
- author:
    name: jasonc
    picture: 111045
  body: ">>Take for example italics: binary rendering is a disaster even with great
    hinting. Any opinions on that?<<\r\n\r\nHinting for binary rendering of italics
    can only be described as making the best of a bad situation. And if that was your
    target, you'd have to concern yourself with phase control to get the best stepping
    patterns, which is just really complex. \r\n\r\nJason C "
  created: '2011-07-18 02:35:08'
- author:
    name: Beat Stamm
    picture: 111300
  body: "Seconded. For fonts with a substantially uniform italic angle, you can make
    the overall appearance of text more consistent by replicating the same stepping
    pattern, conceptually speaking, across the entire font. Once you have found a
    set of criteria that yields the &ldquo;best&rdquo; (least offensive) stepping
    pattern (phase control, number theory problem, etc), you&rsquo;ll find that not
    every italic stroke extends from the baseline to the x-height or capheight&mdash;not
    to mention ascenders, descrenders, and serifs. Mathematically, this can be extrapolated
    as appropriate, while numerically this faces the &ldquo;multiple rounding jeopardy&rdquo;
    (cf. [[http://www.beatstamm.com/typography/RTRCh4.htm#Sec02|\xA74.0.2]]) of the
    TT rasterizer, and to be consistent, this <em>must be exact</em> (cf. [[http://www.beatstamm.com/typography/RTRCh1.htm#Sec33|\xA71.3.3
    Precise vs Exact]])."
  created: '2011-07-18 04:39:32'
- author:
    name: Beat Stamm
    picture: 111300
  body: "@Frode, about gray-scaling: This sounds like a reasonable start. I&rsquo;d
    suggest to have a look at the seminal paper by  [[http://infoscience.epfl.ch/record/99793/files/ptggf.pdf|Roger
    D. Hersch, Claude B&eacute;trisey, Justin Bur, and Andr&eacute; G&uuml;rtler,
    <em>Perceptually Tuned Generation of Grayscale Fonts</em>, IEEE Computer Graphics
    and Applications (Nov 1995)]] for inspiration. Roger was the co-referee of my
    PhD dissertation and Claude (another of Roger&rsquo;s PhDs) the colleague who
    brought me on board with Microsoft Typography at the time. Guided by Andr&eacute;
    G&uuml;rtler from the School of Design in Basel (my hometown), they devised a
    set of guidelines on, informally and very loosely put, where to &ldquo;put the
    gray.&rdquo; In summary, they recommend\r\n<ol>\r\n<li>to sufficiently reinforce
    thin strokes (cf [[http://www.beatstamm.com/typography/RTRCh1.htm#Sec1|\xA71.1]]),</li>\r\n<li>to
    allocate the gray on the trailing edge of vertical strokes, leaving the leading
    edge as sharp as possible,</li>\r\n<li>to allow for sufficient black pixels on
    diagonal strokes (cf. \u201Cblack core\u201D in [[http://www.beatstamm.com/typography/RTRCh3.htm#Sec20|\xA73.2.0]]),</li>\r\n<li>to
    allocate the gray on the outside of round strokes,</li>\r\n<li>not to overemphasize
    serifs (cf [[http://www.beatstamm.com/typography/RTRCh3.htm#Sec22|\xA73.2.2]]),
    and last but not least,</li>\r\n<li>to use a consistent pattern of contrast profile
    across the entire font (cf [[http://www.beatstamm.com/typography/RTRCh3.htm#Sec3|\xA73.3]]).</li>\r\n</ol>\r\nIn
    other words, you don&rsquo;t necessarily have to put both the left and right edges
    of a stem on the grid (cf [[http://www.beatstamm.com/typography/RTRCh3.htm#Sec10|Fractional
    Stroke Weights]]), but if you decide not to do so, their recommendations are e.g.
    to &ldquo;put the gray&rdquo; on the right of vertical straight stems (in a left-to-right
    script, #2 above) and on the outside of (vertical) round strokes (#4 above). "
  created: '2011-07-18 09:58:21'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "Ah, yes, dberlow\u2019s \"someone elses theory of sharp left edges\" I suppose.
    I\u2019ve been aiming for most of these uncounsiously: that\u2019s just what gave
    me the best results. I\u2019ll read your comments carefully, Beat. \r\n\r\nEnglish
    is not my mother tounge, but until I came across your article I\u2019ve rarely
    had to use a dictionary :)\r\n"
  created: '2011-07-18 10:27:42'
- author:
    name: dberlow
  body: "\"This is NOT TRUE!\"\r\n\r\nProve it! And prove the worth of rounding and
    trying to carry typographic information to the user on a grid other than the one
    they are trying to read on.\r\n\r\n\"The Raster Tragedy...\"\r\n\r\nIs Cleartype
    specific.\r\n\r\n\u201CHinting\u201D Respects End-Users).\"\r\n\r\nBut not when
    that hinting rounds to a fairy grid they know nothing about.\r\n\r\nBeat! Since
    all previous discussions, most foundries seeking to solve the windows rendering
    problem have learned to lightly y hint and be on with it. You can claim anything
    you wish, it's a free forum. But facts is facts and no one has proven x hints
    or a Kabillion deltas to be effective against the windows rendering tragedy.\r\n\r\nI
    wish crude media quality was you first language;)\r\n"
  created: '2011-07-19 07:06:12'
- author:
    name: Beat Stamm
    picture: 111300
  body: "Not sure what you&rsquo;re trying to challenge?\r\n\r\nThe validity of the
    [[http://en.wikipedia.org/wiki/Nyquist-Shannon_sampling_theorem|Sampling Theorem]]?
    This has been around for a while and is the foundation behind all things digital.\r\n\r\nMy
    insight into the TT rasterizer? I know for a fact that it executes instructions
    when the projection vector is in x (perpendicular to the long side of the LCD
    sub-pixels), because I wrote that part of the CT code path. \r\n\r\nThe option
    to round to pixel grid? I have illustrated that in [[http://www.beatstamm.com/Typography/RTRCh6.htm#Sec10|\xA76.1.0
    &ldquo;Trueness&rdquo; to the Outlines]], in [[http://www.beatstamm.com/Typography/RTRCh6.htm#Strategy1|Strategy
    1]], and I will repeat some of the illustrations here, enlarged, and showing the
    outlines:\r\n\r\n<img src=\"http://www.beatstamm.com/temp/zen1spp6ppem.png\">\r\n<img
    src=\"http://www.beatstamm.com/temp/zen1spp7ppem.png\">\r\n<img src=\"http://www.beatstamm.com/temp/zen1spp8ppem.png\">\r\n<img
    src=\"http://www.beatstamm.com/temp/zen1spp9ppem.png\">\r\n<img src=\"http://www.beatstamm.com/temp/zen1spp10ppem.png\">\r\n<img
    src=\"http://www.beatstamm.com/temp/zen1spp11ppem.png\">\r\n<img src=\"http://www.beatstamm.com/temp/zen1spp12ppem.png\">\r\n<img
    src=\"http://www.beatstamm.com/temp/zen1spp13ppem.png\">\r\n<img src=\"http://www.beatstamm.com/temp/zen1spp14ppem.png\">\r\n<img
    src=\"http://www.beatstamm.com/temp/zen1spp15ppem.png\">\r\n<img src=\"http://www.beatstamm.com/temp/zen1spp16ppem.png\">\r\n<img
    src=\"http://www.beatstamm.com/temp/zen1spp17ppem.png\">\r\n<img src=\"http://www.beatstamm.com/temp/zen1spp18ppem.png\">\r\n<img
    src=\"http://www.beatstamm.com/temp/zen1spp19ppem.png\">\r\n<img src=\"http://www.beatstamm.com/temp/zen1spp20ppem.png\">\r\n<img
    src=\"http://www.beatstamm.com/temp/zen1spp21ppem.png\">\r\n\r\n<em>Calibri, 6
    to 21 ppem (&gamma; = 1.0)</em>\r\n\r\nNone of the above illustrations required
    any deltas. Not a single one."
  created: '2011-07-19 22:58:38'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "Whoever said Greyscale rendering wasn't readable was telling a big fat lie.\r\n[img:sites/default/files/old-images/greyscale_roman_6607.png.png]\r\n[img:sites/default/files/old-images/greyscale_italic_5783.png.png]"
  created: '2011-07-19 23:49:25'
- author:
    name: Beat Stamm
    picture: 111300
  body: "Seconded. In plain gray-scaling, there are no color fringes to deal with,
    no issues with rendering color-on-color, no issues with rotating your screen into
    portrait orientation, and last but not least, downsampling with a box filter can
    get you the sharpest strokes with maximum contrast due to absence of &ldquo;bleeding.&rdquo;
    All of the above with a mere 4 bits/pixel (Windows implementation).\r\n\r\nIt&rsquo;s
    a lateral shift of compromises: I think ClearType and related sub-pixel anti-aliasing
    methods get you smoother italics, but at the expense of the color issues and 32
    bits/pixel when including y-anti-aliasing (hybrid sub-pixel anti-aliasing).\r\n\r\nWhat
    works for one end-user may not work equally well for another one.\r\n\r\nPersonally,
    during my last two years or so at Microsoft, I used &ldquo;Standard Font-Smoothing&rdquo;
    and an auto-hinted version of Corbel as my UI font. Such a nice and clean font,
    but on my 96 dpi desktop I couldn&rsquo;t handle the blur incurred by the unoptimized
    stems even in full-pixel positioning (cf [[http://www.beatstamm.com/Typography/RTRCh3.htm#Sec1|\xA73.1
    Anti-Aliasing &ldquo;Exclusion Principle&rdquo;]]). It was pronounced enough that
    I was questioned if I hadn&rsquo;t inadvertently left my CT tuner in BGR mode!
    On my 144 dpi laptop, plain gray-scaling got me smooth characters in both x- and
    y-direction, notably before DirectWrite. Looked sooo nice&hellip;\r\n\r\nBut like
    I said, what works for one end-user may not work for another one."
  created: '2011-07-20 03:01:26'
- author:
    name: dberlow
  body: "BEAT:Not sure what you\u2019re trying to challenge?\r\n\r\nThe contention
    of unproven amateur type developers with dry feet and wet tongues.\r\n\r\nBEAT:
    \"On my 144 dpi laptop, plain gray-scaling got me smooth characters in both x-
    and y-direction, notably before DirectWrite. Looked sooo nice\u2026\"\r\n\r\nLol,
    and make sure to match 144 dpi up with the use of a yellow background, just like
    Mr. Hudson finally admitted three years into this same old  argument from 2004!\r\n\r\nBEAT:
    \"But like I said, what works for one end-user may not work for another one.\"\r\n\r\nOui,
    zo le problem eternal de Vindows WEB FONTS ist el gappo twixt el fontos cheapo
    por les useros de la desktop ivorie et la fonts expensivo! por la cheapo desktop
    ebonie..\r\n\r\nIn your zenorie, e.g. You just spent the entire budget on a few
    sizes of 3/450th of the font. You have proven nothing until you have made an ENTIRE
    FONT FAMILY, and SERVED it UP DuDe for cross browser web use!"
  created: '2011-07-21 09:04:39'
- author:
    name: Beat Stamm
    picture: 111300
  body: "&ldquo;0 x hints work as well as some since none are used by the CT rasterizers.&rdquo;\r\n\r\nFirst,
    let me make sure I understand you:\r\n\r\nDo you finally acknowledge that the
    CT rasterizer executes x &ldquo;hints&rdquo; (instructions)?\r\n\r\nYes, or no?"
  created: '2011-07-21 17:57:34'
- author:
    name: dberlow
  body: "First no, I have seen no indication that CT executes size independent x instructions,
    mirps and mdrps, the same way B&W or GS does. Second no, I have seen no indication
    that CT executes size independent x instructions, mirps and mdrps, along with
    rounding variables the same way B&W or GS does. Third no, I have seen no indication
    that CT executes size independent x instructions, mirps and mdrps, along with
    minimum distances, the same way B&W or GS does. And I've seen no indication CT
    does all these things that form the perfect Berlow hinting environment from the
    reader's perspective.\r\n\r\nWhy is all that zen trying to fall on whole pixels
    with stray light blue and light yellow fringing?"
  created: '2011-07-22 03:40:25'
- author:
    name: dberlow
  body: "Beat's predecessors \"allocate the gray on the trailing edge of vertical
    strokes, leaving the leading edge as sharp as possible,\"\r\n\r\nFrode's assumption
    from a previous statement of mine \"yes, dberlow\u2019s \"someone elses theory
    of sharp left edges\" I suppose.\"\r\n\r\nWhich came from a guy named Adrian Frutiger
    long before anyone else in this conversation."
  created: '2011-07-22 08:26:50'
- author:
    name: Beat Stamm
    picture: 111300
  body: "You&rsquo;re dodging my question.\r\n\r\nMy question was not whether you
    approve, disapprove, like, dislike, understand, don&rsquo;t understand, or don&rsquo;t
    want to understand how the CT path in the MS TT rasterizer was implemented&mdash;whether
    in the part that executes the instructions, nor in the part that does the downsampling
    (CT filter).\r\n\r\nMy question is simply:\r\n\r\nDo you acknowledge that the
    CT rasterizer executes x &ldquo;hints&rdquo; (instructions) at all?\r\n\r\nYes,
    or no?\r\n\r\nOnce I understand you on this point, we can take it from there.\r\n\r\n(<em>Hint:</em>
    In the preceding illustration, I chose size independent x and y instructions to
    deliberately tie the outline to whole pixels&mdash;for demonstration purposes)"
  created: '2011-07-22 21:58:36'
- author:
    name: dberlow
  body: 'Yes'
  created: '2011-07-23 05:39:39'
- author:
    name: Beat Stamm
    picture: 111300
  body: "Thanks!\r\n\r\nFirst, let me address the rounding in the presence of anti-aliasing
    methods like plain gray-scaling (I&rsquo;ll bring back the colors for ClearType
    and related sub-pixel anti-aliasing methods in the following post).\r\n\r\nTo
    render intermediate stroke weights, one can add a commensurate amount of gray
    e.g. to the trailing edge of stems, or as I&rsquo;ve observed in your <a href=\"http://typophile.com/files/FrankyShow4_4380.png\">example</a>,
    on the inside of crossbars:\r\n\r\n<img src=\"http://www.beatstamm.com/temp/FranklinGothicBerlow.png\">\r\n\r\nTo
    do so requires to put the respective edge on intermediate or fractional pixel
    positions, like so:\r\n\r\n<img src=\"http://www.beatstamm.com/temp/FractionalStrokeWeights.png\">\r\n\r\nHow
    to do this with size independent x and y instructions (i.e. without a bazillion
    of deltas)?\r\n\r\n<ol>\r\n<li>Use &ldquo;super-round&rdquo; (<code>SROUND[]</code>)?
    This will only go as far as &ldquo;double-grid&rdquo; (<code>RTDG[]</code>), for
    a precision of 1/2 pixel. But the above example illustrates it could use 1/4 pixel
    (this is Windows gray-scaling specific, ClearType requires different fractions).</li>\r\n<li>Leave
    the trailing edge unrounded? This is not unlike unhinted bi-level, except that
    in unfortunate cases this will give you another shade of gray on the trailing
    edge, instead of an extra row or column of pixels. The width of the stems below
    differs by a mere 1/64 of a pixel:\r\n\r\n<img src=\"http://www.beatstamm.com/temp/FractionalStrokeWeightsRasterTragedy.png\">\r\n\r\nNot
    very good if you want to render like strokes with like grays or colors (Hersch
    &amp; al&rsquo;s &ldquo;consistent pattern of contrast profile&rdquo;), plus few
    (if any) of the existing fonts did something to the effect of <code>&ldquo;if
    bi-level then round else don&rsquo;t.&rdquo;</code></li>\r\n<li>Rasterize with
    a DPI commensurate with the required pixel fraction and subsequently turn multiple
    pixels into gray (or color)? If all the fonts were hinted correctly, this might
    have worked. But many fonts had (too many) glyphs that didn&rsquo;t work under
    these conditions. Following is an example:\r\n\r\n<img src=\"http://www.beatstamm.com/temp/PalatinoItalicExplosion.png\">\r\n\r\nThere
    are several causes for these &ldquo;explosions&rdquo; (typically on italics or
    diagonals):\r\n<ul>\r\n<li>numerical failure (with the freedom vector almost perpendicular
    to the projection vector)</li>\r\n<li>bogus TrueType code (e.g. setting the dual
    projection vector perpendicular to a pair of points that have not been both touched
    in both x and y)</li>\r\n<li>the <code>IP[]</code> instruction (with the [dual]
    projection vector neither in x nor in y doesn&rsquo;t work correctly with non-square
    aspect ratios, cf. [[http://www.beatstamm.com/typography/RTRCh4.htm#Sec31|\xA74.3.1
    Italic <code>IP[]</code> &amp; Overscaling]])</li>\r\n</ul>\r\n</li>\r\n</ol>\r\n\r\nWhat
    to do? Fix all (!) faulty fonts, painstakingly agonizing over pixel-by-pixel backwards
    compatibility in black &amp; white rendering? I don&rsquo;t recall we ever seriously
    talked about this route in the ClearType team. Rasterize with a square aspect
    ratio, leaving all outlines to fall on whole pixels, like the above &ldquo;zen?&rdquo;
    We called it some name that may be too politically incorrect for publication.
    Hence I proposed that, for ClearType, with the projection vector not parallel
    to the long side of the LCD sub-pixels, any rounding instruction shall round to
    the required pixel fraction.\r\n\r\nThis fixed the &ldquo;explosions&rdquo; and
    it dodged the need to add code like <code>&ldquo;if bi-level then round to entire
    pixel else round to fractional pixel&rdquo;</code> all over existing fonts; the
    latter assuming there was a simple way to round to fractional pixels in the first
    place. What I didn&rsquo;t like about this solution is that it made some strokes
    blurrier than others, and at the time I was not the only one to notice. Deltas
    were added to &ldquo;sharpen&rdquo; the strokes, lots of deltas, at least to the
    core fonts, and at least at some sizes. The motto was &ldquo;Hinting puts the
    &lsquo;Clear&rsquo; into ClearType.&rdquo; Fair enough with me, at least at the
    time.\r\n\r\nI gather you don&rsquo;t like this solution, and by now I&rsquo;m
    not particularly happy about it, either, particularly since meanwhile stroke &ldquo;sharpening&rdquo;
    seems to have fallen out of favor. In 20/20 hindsight, I could have added another
    <code>SCANTYPE[]</code> switch to revert rounding to pixel fraction to rounding
    to pixel, along with a new &ldquo;super-duper super-round instruction,&rdquo;
    to make it easier for TT experts like you to implement their preferred rounding
    strategy and hinting environment. At the time, this engineer had to compromise
    for the masses."
  created: '2011-07-24 11:03:25'
- author:
    name: Beat Stamm
    picture: 111300
  body: "In this second post, I&rsquo;ll address the anti-aliasing filters. A disclaimer
    upfront: I&rsquo;m not an expert in the field of signal processing (that&rsquo;s
    the name for the part of computing that deals with anti-aliasing and its filtering
    methods), but so far I managed to understand it well enough to get my job done.
    Accordingly, I&rsquo;ll limit the discussion to describing the phenomena.\r\n\r\nThere
    are two main aspects: &ldquo;bleeding&rdquo; vs &ldquo;non-bleeding&rdquo; filters,
    and muting the color fringes.\r\n\r\nConceptually, for plain gray-scaling in Windows,
    characters are rasterized as if for black &amp; white rendering, but at 4 times
    the DPI in both x and y direction. Subsequently, these large characters are &ldquo;tiled&rdquo;
    into 4&times;4 squares. The anti-aliasing filter operates on these squares. For
    each square, it counts the number of pixels that are &ldquo;on.&rdquo; This yields
    a number in range 0 through 16. Finally, these numbers are associated with gray
    values: 0 gets white, 16 gets black, and 1 through 15 get intermediate shades
    of gray, with 1 a very light gray (almost white) and progressively darker through
    15, a very dark gray (almost black). See the Raster Tragedy, [[http://www.beatstamm.com/typography/RTRCh2.htm#Sec1|\xA72.1
    Full-Pixel Anti-Aliasing]] for illustrations.\r\n\r\nThis simple anti-aliasing
    filter is called a <em>box filter</em>. For the purpose of this discussion, what&rsquo;s
    important about the box filter is that it does not appear to &ldquo;leak&rdquo;
    or &ldquo;bleed&rdquo; ink or color outside the boundaries of each &ldquo;tile.&rdquo;
    A 1 px wide stem or a crossbar that has its outlines aligned with the pixel boundaries
    will be black:\r\n\r\n<img src=\"http://www.beatstamm.com/temp/CrossbarBoxFilter.png\">\r\n\r\nThat
    same crossbar, anti-aliased with a <em>sinc filter</em>, instead of a box filter,
    appears to &ldquo;leak&rdquo; ink outside its boundaries, and its core is a dark
    gray, but not quite a solid black:\r\n\r\n<img src=\"http://www.beatstamm.com/temp/CrossbarSincFilter.png\">\r\n\r\nI&rsquo;m
    not expert enough to explain the theory behind this in simple terms, but this
    is the kind of filter that the [[http://en.wikipedia.org/wiki/Nyquist-Shannon_sampling_theorem|Sampling
    Theorem]] (which is the foundation behind all things digital) requires. What I
    see is that the sinc filter appears to &ldquo;leak&rdquo; while the box filter
    doesn&rsquo;t. Compared to a box filter, the overall appearance of text rasterized
    and filtered with a sinc filter may be smoother, but slightly blurrier and with
    less rendering contrast: The core of the crossbar is less than black. I won&rsquo;t
    argue for one filter over the other, because to me this comes down to personal
    preference.\r\n\r\nEnter the colors of ClearType and related sub-pixel anti-aliasing
    methods. The claimed benefit of sub-pixel rendering is that one can position e.g.
    a 1 px wide stem at fractional positions relative to the actual pixel boundaries.
    I&rsquo;ll start with 3 such stems, positioned at offsets &minus;1/3, 0, and +1/3
    of a pixel, relative to the pixel boundary (left to right). In other words, they
    are positioned on the sub-pixel boundaries. The following illustration shows these
    3 stems completely unfiltered and without gamma correction (see the Raster Tragedy,
    [[http://www.beatstamm.com/typography/RTRCh2.htm#Sec2|\xA72.2 Asymmetric Sub-Pixel
    Anti-Aliasing]] for more illustrations):\r\n\r\n<img src=\"http://www.beatstamm.com/temp/3StemsUnfiltered.png\">\r\n\r\nThe
    complete absence of filtering causes strong color fringing for the 2 stems offset
    by &plusmn;1/3 of a pixel, yet all 3 of them are made up of 3 adjacent black sub-pixels!\r\n\r\nTo
    make this into a workable solution, it is necessary to mute these color fringes
    down to a level that makes them hard to notice. To do so, informally put, the
    filter needs to &ldquo;smudge the line&rdquo; between adjacent unlit (black) sub-pixels
    and lit (colored) sub-pixels. In the process, the colors get muted, but so does
    the black. For the erstwhile black stem this means that it will become off-black,
    with the difference seemingly &ldquo;leaking&rdquo; out to adjacent pixels. Following
    is how ClearType does the filtering:\r\n\r\n<img src=\"http://www.beatstamm.com/temp/3StemsCTFilter.png\">\r\n\r\nThis
    is blurrier than the unfiltered stems but with color fringing that is muted. Notice
    that all 3 stems are now made up of only 1 black sub-pixel; the remaining two
    are dark but in colors. That&rsquo;s one part of &ldquo;smudging the line&rdquo;&mdash;the
    other part is the &ldquo;leaking&rdquo; or &ldquo;bleeding.&rdquo;\r\n\r\nIs this
    enough muting? According to the theory elaborated by MS Research, it should be,
    at least for most people at typical viewing distances. But I&rsquo;ve come across
    individuals who noticed color fringes at 144 DPI and a viewing distance of what
    I remember as about 2 feet (0.6 m). Accordingly, for these individuals the color
    fringing has to be muted down even further. Following is another filter that tends
    in the direction of more muting:\r\n\r\n<img src=\"http://www.beatstamm.com/temp/3Stems3rdFilter.png\">\r\n\r\nThis
    may be perceived as even blurrier than ClearType but with color fringing muted
    to an even lower level. Notice that all of the 3 stems now contain no black sub-pixels
    whatsoever, and more color appears to have &ldquo;leaked&rdquo; on the left and
    right stems.\r\n\r\nI&rsquo;ll repeat the above 3 illustrations at their original
    size, in hopes that this illustrates a trend (to be viewed on an RGB screen in
    native resolution, &ldquo;landscape&rdquo; orientation, and at 100% zoom):\r\n\r\n<img
    src=\"http://www.beatstamm.com/temp/3Stems3FiltersRGB.png\">\r\n\r\nTop to bottom
    decreases color fringing but increases blurring. Also, the middle stems appear
    sharper to me, relative to the left ones, and trailed by the right ones. If all
    of the above looks more or less blurry, try the BGR version below:\r\n\r\n<img
    src=\"http://www.beatstamm.com/temp/3Stems3FiltersBGR.png\">\r\n\r\nI don&rsquo;t
    know the exact filters that were implemented in DirectWrite or Quartz. There are
    a few &ldquo;tricks&rdquo; that experts at signal processing can use to improve
    rendering contrast (the &ldquo;black core&rdquo;) or &ldquo;sharpness&rdquo; of
    stems. As far as I understand, all these &ldquo;tricks&rdquo; affect intermediate
    shades of gray or color, in a way not entirely unlike gamma correction (hence
    I&rsquo;d encourage anybody reading this post to try the various gamma buttons
    at the end of [[http://www.beatstamm.com/typography/RTRCh5.htm#Sec3|\xA75.3 Gamma
    Correction]] to develop some intuition of where this might go). But from my experience
    I wouldn&rsquo;t be surprised to learn that optimizing in one direction usually
    comes at the expense of another direction.\r\n\r\nTo recap, I&rsquo;m not trying
    to claim that ClearType is the &ldquo;one size fits all&rdquo; solution. It would
    require no &ldquo;rocket science&rdquo; to offer end-users a choice of filters&mdash;in
    addition to the choices I have proposed in [[http://www.beatstamm.com/typography/RTRCh6.htm#Sec37|\xA76.3.7]].
    If I&rsquo;m not mistaken, even Apple does this&mdash;offer a choice of filters&mdash;nota
    bene the same company that advocates the 1-button mouse just so that you can&rsquo;t
    click the wrong button. But I have no control over these decisions. The best I
    can do is to work with the existing filters and instruction set, and point into
    the direction of what could be if &hellip;"
  created: '2011-07-24 11:03:56'
- author:
    name: dberlow
  body: "So, Yes or No? Is there actualy something you think You can do a out this
    at this incredibly late date?\r\n\r\nYes or No?"
  created: '2011-07-27 00:38:07'
- author:
    name: Beat Stamm
    picture: 111300
  body: "Something? Yes! Couple of things come to mind:\r\n\r\n<ul>\r\n<li>Even if
    the MS TT rasterizer makes it hard to implement CT stroke &ldquo;sharpening&rdquo;
    in a size independent way, it can be done, as I&rsquo;ve shown. </li>\r\n<li>\r\nEven
    if a font maker decides that this is too hard, CT can take advantage of knowledgeable
    x instructions. Leaving them out altogether can lead to spacing accidents, as
    illustrated in [[http://www.beatstamm.com/typography/RTRCh3.htm#Sec30|\xA73.3.0
    Constraint Priorities]] (the CT cap &lsquo;O&rsquo; towards the end of that section).
    Insufficient x instructions can also lead to spacing accidents, even with CT&rsquo;s
    &ldquo;Natural Widths,&rdquo; as illustrated in [[http://www.beatstamm.com/typography/RTRCh4.htm#Sec21|\xA74.2.1
    &ldquo;Natural&rdquo; Advance Widths in Practice]] (the string &ldquo;lellellel&rdquo;
    towards the end of that section).\r\n</li>\r\n<li>\r\nEven if the application
    decides to layout text by fractional advance widths/sub-pixel positioning (not
    my favorite at the 8 to 18 ppem range&mdash;more like an accessibility issue),
    x instructions can be used to assert a minimum stem width of 1 px. As discussed
    in [[http://typophile.com/node/80015#comment-457508|another thread]], this requires
    to double the amount used for <code>SMD[]</code> but it can be done to help what
    little bit can be helped and not succumb to the verisimilitude-at any-price dogma.\r\n</li>\r\n<li>\r\nMedia
    tablets encourage changing orientation from landscape to portrait&mdash;a candidate
    for plain gray-scaling, with room to develop strategies on how much gray to allocate,
    and where to put it.\r\n</li>\r\n</ul>\r\n\r\nNot every word is read on a device
    controlled by hard- and software made by Apple and Microsoft. There are 3rd party
    browsers and there is at least one 3rd party TT rasterizer.\r\n\r\nSpread the
    message: <em>Font hinting is an opportunity to get on-screen text rendering as
    close to the art of printing as the available screen technologies allow.</em>"
  created: '2011-07-27 05:26:18'
- author:
    name: dberlow
  body: "I just read the four pillars of fantasy.\r\nDot1 you showed what!?\r\nDot2
    one cannot hint x in the 11 to 34 px range without an \"agreement\" with the composition.\r\nDot3
    does your dogma bite?\r\nDot4 tablets are in general, beyond the resolution of
    tragedy\r\nBest of luck!"
  created: '2011-07-27 18:23:25'
- author:
    name: Richard Fink
    picture: 117375
  body: "\r\n<em>Spread the message: Font hinting is an opportunity to get on-screen
    text rendering as close to the art of printing as the available screen technologies
    allow.</em>\r\n\r\nInterestingly put.\r\nI happen to like hinted TT fonts in DirectWrite
    a lot. Much more than what I see on my Mac desktop.\r\nHowever, on smaller screens
    - iPad, iPhone Retina display - if it's closer to the art of printing (didn't
    know printing was an art, thought it was a craft) then it's certainly less pronounced.\r\n\r\nPersonally,
    I couldn't care less about hinting as a way of reconciling a font designed with
    print in mind to the demands of the screen by adding hinting data for that purpose.\r\n\r\nThe
    two kinds of fonts have forked - fonts for print are one thing, fonts for the
    web, another.\r\n\r\nBut what I do like is that hinted TT fonts in DirectWrite
    have a look that says \"this is HTML text\". It's renders text in a way that's
    as visually appealing, but yet different from, the \"look\" of non-HTML text -
    text done with images or Flash replacement, or whatever. On the Mac, fonts look
    more like text as images.\r\n\r\nNo text on screen looks like printing to me.
    And emulating print doesn't seem to me like the right goal, either. (The Kindle,
    maybe, looks like print.)\r\n\r\nWhy look to simulate print onscreen?\r\n\r\n\r\n\r\n"
  created: '2011-07-27 21:46:59'
- author:
    name: Beat Stamm
    picture: 111300
  body: "Point taken. This may be understood differently from what this non-native
    writer had in mind. I seem to have an unfortunate bias with the word &ldquo;craft&rdquo;&mdash;it
    conjures up connotations of &ldquo;bricolage&rdquo; (&ldquo;handicraft afternoon&rdquo;
    in elementary school) before any connotations of the skills learned for a trade
    like punchcutting or typesetting, let alone any aspects of art involved therein.
    Hence I tried to rise it above that (perceived) level and used the word &ldquo;art.&rdquo;\r\n\r\nArt
    of printing is my oversimplification in an attempt to come up with a <code>&lt;META&gt;</code>
    tag for the Raster Tragedy home page, from where I borrowed the line without sufficient
    thought at the end of the post and day. What I really meant was the skilled m&eacute;tier
    of cutting the punches and casting the type to best adapt the type design to the
    available combination of metal, ink, paper, and type size. Today, hinting does
    (at least part of) this adaptation, and the screen replaces ink and paper.\r\n\r\nHence,
    depending on the screen technology and/or customer preference, a font may be hinted
    for B&amp;W, gray-scaling, ClearType, DirectWrite, or a combination thereof (or
    none of the above). One of the differences to the days of hot metal is that, strictly
    speaking, hinting is programming, it&rsquo;s <em>software</em>, hence it can cut
    different punches &ldquo;on-the-fly&rdquo; depending on the targeted ink and paper&mdash;and,
    of course, depending on the flexibility of the hinting.\r\n\r\nInteresting point
    about the &ldquo;look of <code>HTML</code> text.&rdquo; For reading text online,
    I certainly prefer &ldquo;live&rdquo; text over images or Flash. Flash seems stuck
    at 72 dpi, which makes it an accessibility issue for me, and images are a similar
    handicap. As to DirectWrite, I like the y-anti-aliasing (I prototyped it during
    an exhausting weekend late 2000, after having been told that this has been tried
    already and it didn&rsquo;t work&mdash;hence the weekend), but depending on the
    combination of type size and resolution I have a hard time with the blur (a statement
    to that effect from [[http://www.typophile.com/node/33005#comment-197660|this
    post]] has been taken out of context, quoted in [[http://en.wikipedia.org/wiki/ClearType#ClearType_and_human_vision|Wikipedia]],
    and used as some kind of &ldquo;proof&rdquo; in many forums on why ClearType is
    always blurry).\r\n\r\nThe long and the short of it, no, I don&rsquo;t advocate
    simulating print on screen, certainly not as the &ldquo;one size fits all gold
    standard.&rdquo; But repeating what I wrote above, hinting is software, hence
    it harbors the opportunity to cater to a plurality of applications (print preview,
    web reading, &hellip;), screen devices (desktop, laptop, media tablet, smart phone,
    &hellip;), and end-user preferences (or accessibility requirements)."
  created: '2011-07-28 03:22:41'
- author:
    name: Beat Stamm
    picture: 111300
  body: "@dberlow\r\nDid you also follow the provided links, the illustrations mentioned,
    and their histories of origin, or are you merely trying to ridicule whatever I&rsquo;m
    writing?\r\n\r\nBut thanks for the good wishes."
  created: '2011-07-28 03:34:19'
- author:
    name: dberlow
  body: "Beat, you misread. I have followed all the links and read all. \r\n\r\nI
    will respond privately as time permits. "
  created: '2011-07-31 07:17:01'
- author:
    name: bendy
    picture: 112931
  body: Frode, thanks for that pdf link above. I'm starting to think one day I'll
    understand a little about hinting.
  created: '2011-07-31 10:44:24'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: I want to write a basic introduction one day. If I can be of any help, please
    don't hesitate to ask!
  created: '2011-08-01 01:11:51'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "[img:sites/default/files/old-images/screenshot1_3959.png][img:sites/default/files/old-images/screenshot2_6527.png]\r\n\r\nSo
    David, am I on to something?\r\n\r\nZero deltas, of course. (Edit, noticed some
    wrong anchor connections on t and z.)"
  created: '2011-08-01 22:22:37'
- author:
    name: "JM Sol\xE9"
    picture: 122193
  body: "I wonder how to solve the spacing problems one can see on some sizes between
    the \"m\" and \"i\" in Optimized or between \"a\" and \"r\" in ClearType. Are
    those rounding errors as discused in the [[http://www.beatstamm.com/typography/RTRCh4.htm#Sec21|\u201CNatural\u201D
    Advance Widths in Practice]] section of the Raster Tragedy Revisited? That last
    line about how difficult it is to \u201Cfix\u201D that always intrigued me."
  created: '2011-08-01 23:41:42'
- author:
    name: John Hudson
    picture: 110397
  body: "JM, for some reason the link you provided is directing me to the wrong part
    of Beat's document. This works if you paste it in the address bar:\r\nhttp://www.beatstamm.com/typography/RTRCh4.htm#Sec21"
  created: '2011-08-02 00:36:13'
- author:
    name: Beat Stamm
    picture: 111300
  body: "Difficult (if not impossible) to say without looking at the font in VTT (or
    a similar tool).\r\n\r\nIn [[http://www.beatstamm.com/typography/RTRCh4.htm#Sec21|&ldquo;natural&rdquo;
    widths]], VTT will show you a right side-bearing point on a fractional x-position
    and hence you&rsquo;ll have a fractional advance width, but subsequent layout
    will be to full pixels (if the RSB point happens to be integer, it's plain luck
    with the numbers). If the fractional part is less than 32/64 (= less than 0.5),
    it will be rounded down&mdash;you&rsquo;ll get that part of the right side-bearing
    &ldquo;truncated.&rdquo; If it is 32/64 or more, the fractional part will be rounded
    up&mdash;you&rsquo;ll get the right side-bearing &ldquo;padded&rdquo; by the round-off.
    Neither will help the spacing.\r\n\r\nChances are that text laid out to full pixels
    will use [[http://www.beatstamm.com/typography/RTRCh4.htm#Sec20|&ldquo;compatible&rdquo;
    widths]], which may fix some of the spacing issues, at the expense of messing
    with the glyph proportions (this may seem odd but that&rsquo;s what this &ldquo;lesser
    evil band-aid&rdquo; called &ldquo;compatible&rdquo; widths is supposed to do).\r\n\r\nTo
    double-check what the correct advance width should be, in pixels, evaluate\r\n\r\n<code>px
    = (pt &times; dpi &times; aw)/(72 &times; emHeight)</code>\r\n\r\nand round the
    result. If you allow integer ppem sizes only (VTT forces this flag&mdash;I was
    told to do so) then first determine your ppem size\r\n\r\n<code>ppem = (pt &times;
    dpi)/72</code>\r\n\r\nround the result, and then evaluate\r\n\r\n<code>px = (ppem
    &times; aw)/emHeight</code>\r\n\r\nand round the result&mdash;again ([[http://www.beatstamm.com/typography/RTRCh4.htm#Sec02|&ldquo;Double
    Rounding Jeopardy&rdquo;]]). This may yield a different advance width in (rounded)
    pixels, but that&rsquo;s because e.g. 11 pt at 96 dpi gets rounded to 15 ppem
    while the actual ppem size would be 14 2/3.\r\n\r\n"
  created: '2011-08-02 01:35:07'
- author:
    name: dezcom
    picture: 109959
  body: "finally, an old-fashioned Typophile thread!\r\n\r\nThank you all!"
  created: '2011-08-02 01:51:01'
- author:
    name: "JM Sol\xE9"
    picture: 122193
  body: "John, that's weird, maybe it's a browser thing. I always try the links in
    preview mode before posting.\r\n\r\nBeat, I asked because I've seen spacing problems
    like those on some fonts for the web (as well as some of my projects) and I always
    assumed they were produced by rounding errors in \"natural\" widths. At least
    now I know not to assume and also how to check them out in my own proyects. Thanks
    ;)\r\n\r\n(Edit: also, I need to re-read the Raster Tragedy and the TT specs a
    few more times and start trying and messing more things up. There are to many
    thing I don't understand.)"
  created: '2011-08-02 04:35:46'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "Jos\xE9 Miguel: The example I posted makes little or no use of x direction
    hints. This is, btw, not done in VTT. I haven't touched the widths/sidebearings
    at all, but I plan to even out problems like this with a combination of x direction
    links, x direction deltas (not used by Cleartype) and manipulating the character
    widths (prior to hinting). I've snapped all stems to the pixel grid on the left
    edge, but allow them to flow free on the right edge."
  created: '2011-08-02 09:41:27'
- author:
    name: Beat Stamm
    picture: 111300
  body: "@Jos&eacute; Miguel\r\n\r\nSafest for me, though most arduous, is to obtain
    a pixel-by-pixel match between what I see (e.g. in the browsers) and what I can
    setup in VTT (&ldquo;compatible&rdquo;, &ldquo;natural&rdquo;, or &ldquo;fractional&rdquo;
    widths, y-anti-aliasing, and gamma correction). Like that I can see that Chrome
    10, FireFox 3.6, Internet Explorer 7, and IE 8 use &ldquo;compatible&rdquo; widths
    without y-anti-aliasing, while Safari 5 (on Windows) uses unhinted fonts with
    y-anti-aliasing, but no fractional advance widths.\r\n\r\nTo see fractional pixel
    positioning with y-anti-aliasing (aka <em>DirectWrite</em>) in action, I installed
    FireFox 5.0 on Windows 7, turned on <em>Options => Advanced => Use hardware acceleration
    when available</em>, but apparently on my test machine (laptop/tablet convertible)
    this is not available, hence I&rsquo;ll do the respective illustrations in the
    comparison below in VTT.\r\n\r\nThe following illustrations show the RTM version
    of Calibri at 11 pt and 96 dpi, no gamma correction (to match rendering [font-smoothing
    medium] in Quartz/Safari 5.0 for Windows, which either doesn&rsquo;t offer gamma
    correction, or if it does, I haven&rsquo;t discovered it)\r\n\r\n<img src=\"http://www.beatstamm.com/temp/Calibri11pt96dpilellellelChromeRTM10x.png\">\r\n\r\n&ldquo;Compatible&rdquo;
    widths, rendered in Chrome 10 (same results for IE 8, and for FF 5.0 without HW
    acceleration)\r\n\r\n<img src=\"http://www.beatstamm.com/temp/Calibri11pt96dpilellellelSafariRTM10x.png\">\r\n\r\nInteger
    widths, rendered in Safari 5 on Windows.\r\n\r\n<img src=\"http://www.beatstamm.com/temp/Calibri11pt96dpilellellelNatAWRTM10x.png\">\r\n\r\n&ldquo;Natural&rdquo;
    widths, rendered in VTT (same as Office 2007 &ldquo;Web Layout&rdquo; mode, which
    is a &ldquo;reflow&rdquo; layout, but kind of looks like a bad &ldquo;wysiwyg&rdquo;
    layout)\r\n\r\n<img src=\"http://www.beatstamm.com/temp/Calibri11pt96dpilellellelFractAWRTM10x.png\">\r\n\r\nFractional
    advance widths, rendered in VTT (this is the spacing I would expect from DirectWrite&mdash;if
    this were available on my test machine).\r\n\r\nFor demonstration purposes I re-hinted
    the key characters of Calibri, minimizing any issues with &ldquo;natural&rdquo;
    widths in TT code. The following illustrations show this (non-RTM) version of
    Calibri.\r\n\r\n<img src=\"http://www.beatstamm.com/temp/Calibri11pt96dpilellellelNatAWNew10x.png\">\r\n\r\nActual
    natural widths, rendered in VTT, true to 11 pt and 96 dpi (non-RTM version of
    Calibri, using fractional ppem sizes)\r\n\r\n<img src=\"http://www.beatstamm.com/temp/Calibri11pt96dpilellellelFractAWNew10x.png\">\r\n\r\nActual
    fractional advance widths, rendered in VTT, true to 11 pt and 96 dpi (non-RTM
    version of Calibri, using fractional ppem sizes)\r\n\r\nCompare line lengths of
    the preceding illustrations&mdash;the last one is closest to Luc[as] de Groot&rsquo;s
    design.\r\n\r\nOn a slight tangent, following is a juxtaposition of the above
    sample rendered in Safari 5 on Windows with the same sample rendered in VTT with
    actual natural widths and y-anti-aliasing.\r\n\r\n<img src=\"http://www.beatstamm.com/temp/Calibri11pt96dpilellellelSafariRTM10x.png\">\r\n\r\n<img
    src=\"http://www.beatstamm.com/temp/Calibri11pt96dpilellellelNatAWyAANew10x.png\">\r\n\r\nSubstantially
    the same spacing, but the proportions of the lc &lsquo;e&rsquo; appear different&mdash;the
    bottom one is closer to Luc[as] de Groot&rsquo;s design.\r\n\r\nAnd here are the
    same illustrations at their original sizes (be sure to reset your zoom to 100%)\r\n\r\n<img
    src=\"http://www.beatstamm.com/temp/Calibri11pt96dpilellellelSafariRTM.png\">\r\n\r\n<img
    src=\"http://www.beatstamm.com/temp/Calibri11pt96dpilellellelNatAWyAANew.png\">\r\n\r\nDifferent
    degrees of &ldquo;bold,&rdquo; different &ldquo;sharpness&rdquo; of strokes, different
    levels of color &ldquo;fringing,&rdquo; but neither one of them as scalable as
    actual fractional advance widths using fractional ppem sizes."
  created: '2011-08-02 11:30:10'
- author:
    name: "JM Sol\xE9"
    picture: 122193
  body: Frode, I'm sorry for using your images as examples. I understand they are
    tests. I just wanted to use the opportunity to ask. Concerning your plans about
    snapping the left edge, I have some questions. In a serif font, would you snap
    the first point to the right, meaning it could be a serif or a stem, or would
    you snap only the stems and let the serifs free? And also, what kind of anchors
    would you use? I've been testing some stuff concerning this and perhaps I will
    post something later.
  created: '2011-08-02 17:27:44'
- author:
    name: "JM Sol\xE9"
    picture: 122193
  body: "Beat, it's amazing the difference Fractional advance widths make. Now, if
    Chrome uses \"compatible\" widths then the spacing problems I see on some web
    fonts (and my fonts, sadly) are within this kind of advance width, as this is
    my usual browser. I have IE9 and FF5 (with DirectWrite rendering activated) and
    I think fonts look amazing there, but prefer, at least for now, to use Chrome
    (and GDI) because it's what other people use and see (and Chrome just works better;).\r\n\r\nI'll
    have to start testing solutions having in mind both horizontally snapping stems
    and just adjusting the character widths. I think, at least for now, those are
    my only options at trying to solve this."
  created: '2011-08-02 17:59:06'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "I snap the stems, and let the serifs run free. \r\n\r\n[img:sites/default/files/old-images/screenshot1_4960.png]
    \r\nY-direction\r\n\r\n[img:sites/default/files/old-images/screenshot2_6012.png]\r\nX-direction\r\n\r\nAnd
    yes, these are just tests. I'm certainly not insulted: These are my results just
    a few weeks into the hinting game. I'm still figuring out the tools (FL for now,
    VTT at a later stage), and experimenting with strategies.\r\n\r\nThere are a number
    of things to consider here, and perhaps most important is this: How much time
    is it viable to spend on hinting?\r\n\r\n\r\n"
  created: '2011-08-02 18:05:59'
- author:
    name: Frode Bo Helland
    picture: 112295
  body: "Actually, looking at my samples I realized I forgot to do my little interpolation
    fix to align the right edges of the first stem in this particular glyph.\r\n\r\nThere's
    a HUGE gap between basic x direction hinting in Fontlab and the kind of stuff
    Beat is talking about. The former tend to cause more trouble rather than order,
    at least for (smoothed) Standard GDI and Cleartype. \r\n\r\nAnother thing to take
    into consideration is the difference in appearance between platforms. Snapping
    to the pixel is not neccesarily the best option."
  created: '2011-08-02 18:18:41'
- author:
    name: "JM Sol\xE9"
    picture: 122193
  body: Until now I've only been doing Y-direction hints. That can be done fast if
    your font is fairly regular in stem widths. The problems I've been struggling
    with concern spacing and are probably caused by not paying much attention to character
    widths, and thus, not fixing them. I also assumed they were rounding problems
    and that they were too difficult to solve (I imagined mountains of TT coding and
    stuff like that). At least now I understand a bit better what my final environment
    is and now I have other possibilities to test. I'll try some stuff on my font
    and then post images.
  created: '2011-08-02 18:29:56'
date: '2011-07-11 00:18:24'
title: Understanding TT hinting

---
