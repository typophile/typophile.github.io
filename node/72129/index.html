<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Microsoft: Please fix Opentype! | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Microsoft: Please fix Opentype!" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/72129/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2010-07-10T18:03:44+00:00" />
<meta property="article:modified_time" content="2010-07-10T18:03:44+00:00" />

<meta itemprop="name" content="Microsoft: Please fix Opentype!">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2010-07-10T18:03:44+00:00" />
<meta itemprop="dateModified" content="2010-07-10T18:03:44+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Microsoft: Please fix Opentype!"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Microsoft: Please fix Opentype!</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2010-07-10T18:03:44Z">July 10, 2010</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Charles_borges_de_oliveira</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">Opentype has a major flaw in it. The limited size of the GPOS subtable is set at 64KB. That puts a cap on the amount of Kerning pairs a font can have. Most people will probably never go over the amount alloted but for those of us who do it really puts a damper on making fonts. I know House Industries had the same problem and posted a video on it. I am not sure what Microsoft can do at this point to fix it.  Anybody who is involved with the opentype division at Microsoft, could you please pass this note to them.
Thanks!</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">This was addressed nine years ago. The "extension" lookuptype 9 for GPOS (lookuptype 7 for GSUB) was added to the OpenType spec with version 1.3, released in April 2001.

Now, be warned that some older apps and operating systems may not support extension lookups, but that is not something that can be addressed by the spec.

This is arguably just a workaround for a limitation in the format overall, but changing OpenType to use four-byte offsets instead of double-byte offsets would be a huge and highly incompatible change. Maybe some day there will be strong enough reason to do that, but I'm not expecting it will necessarily happen in my lifetime.

Cheers,

T </div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-10 20:17:02"
			itemprop="datePublished"
		>
			2010-07-10 20:17:02
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Thomas Phinney</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks for the response Thomas. Thats too bad the Opentype will always be flawed. Oh well.....</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-11 02:52:51"
			itemprop="datePublished"
		>
			2010-07-11 02:52:51
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Charles_borges_de_oliveira</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">How can I measure the GPOS subtable size in FontLab? I'd like to be able to expand kerning classes to squeak in just below the 64k limit.

Ideally, FontLab would have an option to expand kerning classes to fill the remainder of the GPOS subtable space. In the background, it would test compile, check the remaining GPOS subtable space and calculate how many pairs could be squeezed in.

A not-as-good but acceptable feature would be to produce an error message if the 64k limit was exceeded.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-11 06:23:01"
			itemprop="datePublished"
		>
			2010-07-11 06:23:01
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Ray Larabie</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">This reminds me of a previous Microsoft "oversight" – the infamous 640k restriction. Sounds like the short-sighted attitude is well entrenched in some minds.

I don't agree with Thomas' pessimistic timeframe though, just to quote Mr Gates:

"I have to say that in 1981, making those decisions, I felt like I was providing enough freedom for 10 years. That is, a move from 64k to 640k felt like something that would last a great deal of time. Well, it didn't - it took about only 6 years before people started to see that as a real problem."

(1989 speech on the history of the microcomputer industry)

So, perhaps there is hope for the GPOS...</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-11 15:13:23"
			itemprop="datePublished"
		>
			2010-07-11 15:13:23
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Adam Shubinsky</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><em>Ideally, FontLab would have an option to expand kerning classes to fill the remainder of the GPOS subtable space.</em>

Why? In what way is that useful?

<em>This reminds me of a previous Microsoft "oversight" – the infamous 640k restriction. Sounds like the short-sighted attitude is well entrenched in some minds.</em>

Before we all start dumping on Microsoft, it should be pointed out that the table size limitations of OpenType, which affect almost every aspect of the architecture, date back to Apple's original TrueType spec.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-11 18:58:26"
			itemprop="datePublished"
		>
			2010-07-11 18:58:26
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><en>Why? In what way is that useful?</em>

If I don't expand, kerning won't appear in apps which don't support classes. I usually do around 2000 pairs and it doesn't break but I don't know what the limit really is.

I don't have a list of apps that don't support classes. MyFonts was my main concern for a long time. Not expanding kerning means broken kerning in some apps.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-12 01:57:43"
			itemprop="datePublished"
		>
			2010-07-12 01:57:43
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Ray Larabie</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Are you talking about expanding classes and writing pairs to a kern table, or expanding classes to fill out the maximum size of a GPOS table, which is what you wrote.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-12 04:12:29"
			itemprop="datePublished"
		>
			2010-07-12 04:12:29
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I meant expanding classes and writing pairs to a kern table. When I add too many pairs, the OT code breaks in some apps. Is that unrelated to the 64k limit?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-12 05:08:16"
			itemprop="datePublished"
		>
			2010-07-12 05:08:16
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Ray Larabie</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">The kern table is unrelated to OTL, and it has a particular limitation all its own. See Josh Hadley's comment in this discussion:
http://typophile.com/node/70841</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-12 17:20:58"
			itemprop="datePublished"
		>
			2010-07-12 17:20:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Yup, limited to 10,920 pairs in apps that are sticklers for that aspect of the spec.

Individual apps faced with more than 2K or 4K pairs in a flat kern table may exhibit various kinds of failures. This was a serious problem about a decade ago, and although I expect the situation is much improved, I don't recall if anybody has done rigorous testing on it recently.

Cheers,

T</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-13 03:36:41"
			itemprop="datePublished"
		>
			2010-07-13 03:36:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Thomas Phinney</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Ah. Okay, cheers.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-13 04:45:00"
			itemprop="datePublished"
		>
			2010-07-13 04:45:00
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Ray Larabie</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">John, I am not dumping on Microsoft per se. The bug of short sightedness afflicts us all at one point or another, and Microsoft <em>did</em> after all have the good sense to take your advise, on more than one occasion…

I am puzzled and curious though; did Microsoft, in devising the then-new OpenType standard, <em>have</em> to adhere to the historical table restrictions of Apple's original TrueType specifications? Was it not possible to just breakaway from these legacy restrictions and establish a less confined standard? Or did they just stick to the existing limitations out of convenience?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-13 18:18:44"
			itemprop="datePublished"
		>
			2010-07-13 18:18:44
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Adam Shubinsky</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I think they had that idea of OpenType fonts remaining backward compatible i.e. for non-OpenType aware apps it still looks like good old TrueType font, so may be it has something to do with this issue.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-13 18:42:58"
			itemprop="datePublished"
		>
			2010-07-13 18:42:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Khaled Hosny</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Yes, backwards compatibility was one of Microsoft's goals.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-14 00:15:41"
			itemprop="datePublished"
		>
			2010-07-14 00:15:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">And rightly so. Lack of backwards compatibility was one of the reasons Apple's GX typography originally failed (and has failed again in AAT form, though not as dramatically, in part because it is more backwards compatible).

T</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-07-15 19:53:32"
			itemprop="datePublished"
		>
			2010-07-15 19:53:32
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Thomas Phinney</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
