<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Multiple SALTs for one CALT base glyph? | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Multiple SALTs for one CALT base glyph?" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/94703/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2012-07-14T13:16:44+00:00" />
<meta property="article:modified_time" content="2012-07-14T13:16:44+00:00" />

<meta itemprop="name" content="Multiple SALTs for one CALT base glyph?">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2012-07-14T13:16:44+00:00" />
<meta itemprop="dateModified" content="2012-07-14T13:16:44+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Multiple SALTs for one CALT base glyph?"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Multiple SALTs for one CALT base glyph?</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2012-07-14T13:16:44Z">July 14, 2012</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Topy</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">I've made a calt to add swashed alternatives to beginning and end of every word. I think it's ok, but I'm planning also stylistic alternatives to these swashes and it's here where it gets complicated. I get "Duplicate target glyph for single substitution" error when compiling. This is what i have now:

Classes:
All_glyphs (All glyphs, including swashes. 986 total)
Normal_Caps_Start (Starting glyphs to be replaced. 170 total)
Normal_Caps_End (Ending glyphs to be replaced. 133 total)
Swash_Caps_Start (Starting glyph swashes. 170 total)
Swash_Caps_End (Ending glyph swashes. 133 total)

Code:
feature calt { 
lookup start_swashes {
    ignore sub @All_glyphs @Normal_Caps_Start';
    sub @Normal_Caps_Start' by @Swash_Caps_Start;
} start_swashes;
lookup end_swashes {
    ignore sub @All_glyphs @Normal_Caps_End';
    sub @Normal_Caps_End' by @Swash_Caps_End;
} end_swashes;
} calt;

I've put calt feature after salt feature.

The problem must be in the way i made the classes. For example letter A has A1 and A2 alternatives. In Swash_Caps_Start this means: [A1, A2, B...], and in Normal_Caps_Start class its [A, A, B...]. This way the substitute classes have the same amount of pairs, but there are two A's in the other class. How is this done correctly?

Probably there is some really simple solution for this, but now i just can't figure it out. I've searched for this, but Google doesn't anymore give the results from Typophile it has used to.</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><cite> The problem must be in the way i made the classes. For example letter A has A1 and A2 alternatives. In Swash_Caps_Start this means: [A1, A2, B...], and in Normal_Caps_Start class its [A, A, B...]. This way the substitute classes have the same amount of pairs, but there are two A's in the other class. How is this done correctly? </cite>

This means that in effect you have you are trying to replace {A, A, B ... } with {A1, A2, B ... }, and the software cannot determine whether A should be substituted by A1 or A2. If you have a rule of the form <code>sub @A by @B</code>, it's perfectly OK to have the same glyph listed multiple times in class B, but generally <em>not</em> in class A.

What you need to do is map {A, B, ... } to {A1, B1, ...} and then substitute A1 by A2 in some lookup which occurs later in your features.

Also, on an unrelated note I suspect that there is an error in your 'calt' code. I think that where you write:

<code> ignore sub @All_glyphs @Normal_Caps_End';</code>

you actually want the following (assuming you're trying to get the substitution to occur only at the end of a word, i.e. where no glyph <em> follows</em> the target glyph).

<code>ignore sub @Normal_Caps_End' @All_glyphs;</code>

André</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-07-14 15:34:05"
			itemprop="datePublished"
		>
			2012-07-14 15:34:05
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>agisaak</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks André, sounds reasonable. Do you mean that A to A1 substitution happens in the calt feature and the A1 to A2 substitution would then be in salt, which would be positioned later in the feature order?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-07-14 21:28:02"
			itemprop="datePublished"
		>
			2012-07-14 21:28:02
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Topy</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">If I understand you correctly, A1 and A2 are both swash versions intended for initial use, correct?

If so, then yes, you'd perform the A->A1 substitution in 'calt', and the A1->A2 substitution in 'salt', which would be done <em>after</em> your 'calt' feature.

Also, I'd recommend duplicating your 'salt' feature in 'ss01' since InDesign implements stylistic sets but not 'salt', whereas Illustrator implements 'salt' but not stylistic sets.

Finally, don't name your glyphs A1, A2, etc. Use a suffix; for example A.1, A.2. Otherwise, you'll run into compatibility problems with (e.g.) Acrobat Distiller.

André</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-07-15 15:41:53"
			itemprop="datePublished"
		>
			2012-07-15 15:41:53
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>agisaak</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">It all works now, phew. I was just referring the A1 and A2 names to simplify my post, but a good point there. Thanks Andre, you've been a great help!</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2012-07-16 11:27:57"
			itemprop="datePublished"
		>
			2012-07-16 11:27:57
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Topy</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
