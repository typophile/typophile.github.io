<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>the Hell of ligatures.. | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="the Hell of ligatures.." />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/71274/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2010-06-12T10:08:42+00:00" />
<meta property="article:modified_time" content="2010-06-12T10:08:42+00:00" />

<meta itemprop="name" content="the Hell of ligatures..">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2010-06-12T10:08:42+00:00" />
<meta itemprop="dateModified" content="2010-06-12T10:08:42+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="the Hell of ligatures.."/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <div class="float-right">
 
    <a class="text-decoration-none share facebook" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2ftypophile.github.io%2fnode%2f71274%2f"><i class="bi bi-facebook"></i></a> 
    
    <a class="text-decoration-none share twitter" href="https://twitter.com/intent/tweet?text=title&amp;url=http%3a%2f%2ftypophile.github.io%2fnode%2f71274%2f&amp;"><i class="bi bi-twitter"></i></a> 
    
    <a class="text-decoration-none share linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2ftypophile.github.io%2fnode%2f71274%2f&amp;source=http%3a%2f%2ftypophile.github.io%2fnode%2f71274%2f/"><i class="bi bi-linkedin"></i></a>
 </a>
</div>

    <h1 class="post-title p-name" itemprop="name headline">the Hell of ligatures..</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2010-06-12T10:08:42Z">June 12, 2010</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:lama&#43;su">
            lama su
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>Hi!</p>
<p>I have a problem: I am working with fontforge on a font for a very complex artificial language (with hundreds of glyphs) that needs a lot of complex ligatures (with for example sovraposition of two or more glyphs).
Something like tibetan, if you want.</p>
<p>I am encoding these glyph in the the unicode private area, and therefore, for istance, I have the following ligature: uniE2C2 + uniE2C2 = uniE2C3</p>
<p>To compose them i use the ccmp funtion.</p>
<p>Now, on my Mac these ligatures work perfectly, but if i try to put two uniE2C2 in text editor on windows (like Word, or even openoffice) they don&rsquo;t make any ligature&hellip;</p>
<p>My problems are:</p>
<p>why?</p>
<p>what have I to do?</p>
<p>Is it possible that it is due to the Unicode Private Area?
And indeed, given that these ligatures are for an artificial language and for an artificial script (that therefore, obviously, doesn&rsquo;t appear in the fontforge lists), what have i to set in the language aoptions? Default? or Martian?</p>
<p>Thank in advance</p>
</div>

  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Opentype features are not supported by every application. Word 2010 AFAIK should support them (beta version), but no earlier version. OpenOffice.org does not give them much priority in its further development.</p>
<p>Andreas</p>
<p>PS: Maybe the Martians should simplify their writing system when going interplanetary. The last Martian invasion was stopped by a flu virus; the next one will be prevented by Microsoft&rsquo;s lack of OT support (SCNR).</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-12 11:13:41"
			itemprop="datePublished"
		>
			2010-06-12 11:13:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Fontgrube">
            Fontgrube
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>uhm.. ok for office, so i have to get an office 2010 to check..</p>
<p>but about openoffice, a strange thing happens: my font works well on openoffice for mac, but it doesn&rsquo;t work in the same version of openoffice for windows.. is it possible/normal?</p>
<p>there is really a double problem, with MS office and with windows in general?</p>
<p>And i was thinking.. given that office is able to support ligatures for some scripts (arabic, devanagare,..), there is a way to &ldquo;cheat&rdquo;, leading the text editor to consider my glyphs in the private area as indian or arabic glyphs, with their relative ligatures?</p>
<p>Thanks!</p>
<p>P.S. &ldquo;indipendece day&rdquo; fan? :-)</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-12 13:30:53"
			itemprop="datePublished"
		>
			2010-06-12 13:30:53
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:lama&#43;su">
            lama su
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>&lsquo;I try to put two uniE2C2 in text editor on windows (like Word, or even openoffice) they don&rsquo;t make any ligature&rsquo;</p>
<p>Word will insert any character for which there is a glyph, even if the private use area has to be used, if you are using the right procedure for Unicode characters. You must type the four UTF8 digits and then Alt+x (if you have Windows). Of course, there has to be a glyph in the font. You can also find if there is a glyph in the font by using Search in Windows Character Map.</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-12 16:40:39"
			itemprop="datePublished"
		>
			2010-06-12 16:40:39
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Michael_Rowley">
            Michael_Rowley
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Windows OTL support is driven by the Uniscribe shaping engine, which makes decisions about what script is being used and what features to apply based on Unicode encoding and text analaysis. My guess is that Uniscribe simply doesn&rsquo;t make any assumptions about PUA codepoints, and applies no layout features to them. Your report of Mac behaviour suggests that Apple have chosen to apply some (which?) features to PUA codepoints. I can see an argument for either approach. Obviously it is more helpful for you if some generic layout features such as ccmp are applied to PUA codepoints; on the other hand, since a PUA character can be anything, who is to say which layout features are appropriate?</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-12 18:10:52"
			itemprop="datePublished"
		>
			2010-06-12 18:10:52
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:John&#43;Hudson">
            John Hudson
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>John,</p>
<p>it&rsquo;s not even the question of which features to apply, but above all: in which OpenType Layout languagesystem the features should be registered. Uniscribe examines each Unicode codepoint of a string and assigns a known languagesystem to it, and then splits the Unicode string into &ldquo;runs&rdquo; that are of the same languagesystem. Then, for each run, it applies the OpenType Layout features registered in the font for the corresponding languagesystem.</p>
<p>Interestingly, the Windows 7 Uniscribe assigns the &ldquo;DFLT&rdquo; languagesystem to U+E000 and to U+F8FF, but no languagesystem to any of the PUA codepoints in-between. So in essence, Uniscribe doesn&rsquo;t &ldquo;know&rdquo; <em>which</em> languagesystem to apply the features for, and therefore it applies none.</p>
<p>I guess it might make sense to suggest to Microsoft that future versions of Uniscribe should assign the languagesystem &ldquo;DFLT&rdquo; to all PUA codepoints, rather than just to the first and the last. But perhaps Microsoft had a good reason to do it the way they have done.</p>
<p>Adam</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-13 00:15:27"
			itemprop="datePublished"
		>
			2010-06-13 00:15:27
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:twardoch">
            twardoch
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Thank you for your aswers!</p>
<p>So the problem is in the in the languagesystem, or in the absence of a languagesystem assigned by Microsoft to PUA.. I feared this possibility.. :-(</p>
<p>twardoch, can I ask you where have you found the information about the languagesystem used by windows 7 uniscribe?</p>
<p>There is maybe a table or something like that showing which languagesystem is assigned to which unicode codepoint?</p>
<p>Because if this is the problem, then i could replace my glyps in some unicode codepoints assigned to a languagesystem supporting the ccmp.. right?</p>
<p>And by the way.. what about the 2 bite codepoints, like 0x13000 and so on? do you not which languagesystem is assigned to them by Microsoft, if any?</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-13 18:27:26"
			itemprop="datePublished"
		>
			2010-06-13 18:27:26
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:lama&#43;su">
            lama su
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><blockquote>
<p>can I ask you where have you found the information about the 
languagesystem used by windows 7 uniscribe?</p>
</blockquote>
<p>We wrote some simple code that called the new <em>[[http://msdn.microsoft.com/en-us/library/dd368557(VS.85).aspx|ScriptItemizeOpenType()]]</em> Uniscribe function on one-character Unicode strings (each being one Unicode character from the Unicode Standard, version 5.2). This call returned an array of OpenType script tags, or basically , one OpenType script tag per character. For the PUA characters, Uniscribe returned <code>SCRIPT_TAG_UNKNOWN (0x00000000)</code>.</p>
<p>Adam</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-15 03:20:11"
			itemprop="datePublished"
		>
			2010-06-15 03:20:11
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:twardoch">
            twardoch
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><cite> &gt; if i try to put two uniE2C2 in text editor on windows (like Word, or even openoffice) they don&rsquo;t make any ligature&hellip;</cite></p>
<p>I can&rsquo;t tell what Word is doing exactly with PUA characters, it may be intentional and hardcoded or may be accidental leftover from older versions. But I see at least one reason for Word developers to not shape them. Windows supports so called end-user-defined characters (EUDC), used widely in East Asia. They can be associated with all fonts or particular font and will be automatically displayed in place of PUA character. This is done by GDI automatically. There are good and bad sides of this approach. Good news for application is that it should not do any special processing, EUDC just works. But there is also a problem. EUDC can only be substituted on character level, which means that once you switch to glyph mode and go to Uniscribe for shaping, EUDCs stop working. So blind shaping of any character is not what Word can afford doing.</p>
<p><cite> &gt; For the PUA characters, Uniscribe returned SCRIPT_TAG_UNKNOWN (0x00000000).</cite></p>
<p>There are two tags associated with script in Uniscribe. First, there is one applied by default when you call old API (ScriptShape or ScriptPlace). This tag may or may not be mandatory. For example, Arabic text should always be shaped under &lsquo;arab&rsquo; tag. ASCII digits are shaped with &lsquo;latn&rsquo; by default, but can be shaped with any script tag. This is what script tag returned by ScriptItemizeOpenType means. Specific tag returned means it is enforced, and function like ScriptShapeOpenType will return error if other tag is passed. If returned script tag is SCRIPT_TAG_UNKNOWN, client can pass any tag based on additional information it has about the document, user settings, etc. For PUA characters script tag is not enforced, but it will be shaped with &lsquo;DFLT&rsquo; tag by default.</p>
<p><cite> &gt; Interestingly, the Windows 7 Uniscribe assigns the &ldquo;DFLT&rdquo; language system to U+E000 and to U+F8FF, but no language system to any of the PUA codepoints in-between.</cite></p>
<p>I am not sure what you mean, but it sound strange :). All PUA characters are classified the same in Uniscribe, so should have exactly same properties.</p>
<p>Thanks,
Sergey</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-15 17:21:42"
			itemprop="datePublished"
		>
			2010-06-15 17:21:42
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:sergeym">
            sergeym
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Sergey,</p>
<blockquote>
<p>I am not sure what you mean, but it sound strange :). All PUA characters are classified 
the same in Uniscribe, so should have exactly same properties.</p>
</blockquote>
<p>Thanks, it must have been my method of testing for the singular characters that may have been wrong. Basically, I tested one-character strings each time (precisely because I did not want the script-neutral characters to inherit the shaping properties of some neighboring characters in the string). Or maybe I actually skipped the PUA :)</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-06-15 23:44:20"
			itemprop="datePublished"
		>
			2010-06-15 23:44:20
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:twardoch">
            twardoch
	    </a>
			</span></span>
	</div>
	
</div>
 
  <p class="text-end"><a class="text-secondary" href="https://github.com/typophile/typophile.github.io/edit/main/content/node/71274.md">Suggest an edit</a></p>

</article>

    </main>
    
  </body>
</html>
