<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>How to generate colour bitmap fonts for Mac OS 10.7/8 | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="How to generate colour bitmap fonts for Mac OS 10.7/8" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/103268/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2013-05-24T10:57:49+00:00" />
<meta property="article:modified_time" content="2013-05-24T10:57:49+00:00" />

<meta itemprop="name" content="How to generate colour bitmap fonts for Mac OS 10.7/8">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2013-05-24T10:57:49+00:00" />
<meta itemprop="dateModified" content="2013-05-24T10:57:49+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to generate colour bitmap fonts for Mac OS 10.7/8"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">How to generate colour bitmap fonts for Mac OS 10.7/8</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2013-05-24T10:57:49Z">May 24, 2013</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Jens&#43;Kutilek">
            Jens Kutilek
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>A while ago I researched out of curiosity if it was possible to build fonts with embedded colour bitmaps like the Apple Color Emoji font on Mac OS 10.7/10.8. I figured out the «sbix» table format and wrote some code that can be hooked into the Python FontTools to decompile and compile the sbix table which contains the image data.</p>
<p>Some of my research was generously allowed to happen during my working hours at FontShop International.</p>
<p>After pondering for a while what to do with this knowledge, me and FontShop International finally decided to make the code public to encourage experimentation.</p>
<p>So without further ado, please check out the attached demo scripts.</p>
<p><a href="http://www.kutilek.de/download/sbix_code.zip">sbix_code.zip</a> | <a href="http://www.kutilek.de/download/sbix_demo.zip">sbix_demo.zip</a></p>
<p>INSTALLATION</p>
<p>Add the three files in <a href="http://www.kutilek.de/download/sbix_code.zip">sbix_code.zip</a> to the directory <code>ttLib/tables</code> of your existing <a href="https://sourceforge.net/projects/fonttools/">FontTools</a> installation. You can probably find it in <code>/Library/Python/2.7/site-packages/fontTools/</code>.</p>
<p>USAGE</p>
<p>Check out the demo scripts in <a href="http://www.kutilek.de/download/sbix_demo.zip">sbix_demo.zip</a> for examples of how to build your own colour bitmap font or extract the images from an existing font. If you want a proof of concept, view the included <code>ColorTestSbix.ttf</code> on Mac OS X. It should look like in the included font book screenshot. The name ColorTest is a bit misleading as it’s only a scanned typewriter face in greyscale ;)</p>
<p>If you just run <code>addSbixImages.py</code>, it will add the pngs from <code>set_150</code> to the file <code>ColorTest.ttf</code> and save the resulting font as <code>ColorTestSbix.ttf</code>.</p>
<p>If you have the original Apple Color Emoji font, you can use <code>extractSbixImages.py</code> to extract the pngs from it. They will be saved in the <code>extracted</code> directory.</p>
<p>Have fun!</p>
<img src="http://typophile.com/files/fontbookColor.png" width="570" height="206"></div>

  
  <img src="/images/old-images/fontbookColor.png" class="img-fluid">
  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Jens, wonderful! Very nice of you (and FSI). I&rsquo;m going to sit down and give this a shot. But is it limited to running on OSX?</p>
<p>BTW is the &ldquo;reverse-engineering&rdquo; of the sbix table something Apple could complain about?</p>
<p>hhp</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-05-25 15:36:45"
			itemprop="datePublished"
		>
			2013-05-25 15:36:45
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:hrant">
            hrant
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Hrant, the Python scripts are not limited to OS X. But Windows doesn’t come with any Python preinstalled, so you have to install it first (and then the Python FontTools) if you don’t have it. (Of course the generated fonts will not show any bitmaps on Windows.)</p>
<p>Regarding the reverse-engineering, I’m not the first one who has figured out the sbix format, or built a proof-of-concept font (Theunis de Jong did so in <a href="http://typophile.com/node/96671#comment-524462)">http://typophile.com/node/96671#comment-524462)</a>, so my maybe naive view is that if Apple wasn’t OK with it, they would have complained already ;)</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-05-25 17:33:26"
			itemprop="datePublished"
		>
			2013-05-25 17:33:26
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Jens&#43;Kutilek">
            Jens Kutilek
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Somebody reported a bug in <code>_s_b_i_x.py</code> that would affect fonts with more than one bitmap size. The offset of the 2nd and all following sets was off by 8 bytes. I have corrected the bug and uploaded the new file to the link above.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-06-13 21:02:54"
			itemprop="datePublished"
		>
			2013-06-13 21:02:54
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Jens&#43;Kutilek">
            Jens Kutilek
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Nice.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-06-13 21:13:15"
			itemprop="datePublished"
		>
			2013-06-13 21:13:15
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Goran&#43;Soderstrom">
            Goran Soderstrom
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Hi,
That&rsquo;s a nice experimentation.
I was playing around with it and it seems I encounter a problem now that I am on Mavericks.
The script doesn&rsquo;t find the font and say
<code> IOError: [Errno 2] No such file or directory: &lsquo;ColorTest.ttf&rsquo; </code> 
Last time I look at it, I was on Mountain Lion and didn&rsquo;t face this problem.
Did you know in Maverick what is causing the script or python to fail to see the font file ?
Thanks for your help.</p>
<p>adr</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-11-15 02:19:51"
			itemprop="datePublished"
		>
			2013-11-15 02:19:51
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:dinobib">
            dinobib
	    </a>
			</span></span>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
