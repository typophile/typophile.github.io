---
author:
  name: bowerbird
  picture: 116972
body: "it was just one week ago that i made my first post here.\r\n\r\nyeah, it seems
  like much longer than that to me too...\r\ni guess, like they say, time flies when
  you're having fun.\r\n\r\nanyway, i'd like to thank all the people here who have\r\nwelcomed
  me, and made me feel at home.  sincerely...\r\n\r\nanyway, now that we have exchanged
  our pleasantries,\r\nit's time to get to work...\r\n\r\ni've programmed an app that
  takes the text of a book\r\nas its input, and outputs a .pdf version and .html files.\r\n\r\none
  .html version includes the whole book in one file.\r\n\r\nanother .html version
  splits the book up into chapters,\r\ncreates a web-page for each chapter, and links
  them...\r\n\r\nthe third .html version splits the book up into _pages_,\r\nand creates
  a web-page for each _page_ of the book...\r\nthis version puts an image of the page
  next to its text.\r\n(it was originally developed to proof o.c.r. output.)\r\n\r\nthis
  granularity-level allows people to make comments\r\nabout specific aspects of the
  book, so each of the pages\r\nhas a form to collect the comments, and error-reports.\r\n(that
  form is extremely primitive at this point; so be it.)\r\n\r\nthe main idea of this
  page-by-page web-site version\r\nis that authors should corral and focus their readers,\r\nin
  order to establish a community around their work,\r\ncumulating small gifts from
  fans to make their living.\r\n\r\nin this vein, the .pdf version has a link, on
  every page,\r\nthat takes the reader to the web-page for that page...\r\nthus the
  .pdf and web-version are tightly interleaved.\r\n\r\nnow, the web-version has lousy
  typography, of course,\r\nbecause it lives in the browser.  not much hope there...\r\n\r\nbut
  the .pdf version?  well, there's some hope there.\r\nand that's good, since the
  .pdf version will be what'll\r\nbe used when fans take the print-on-demand route,\r\nvia
  lulu.com, createspace, or a slew of future options.\r\n\r\nbut my main goal is to
  make the .pdf readable as is,\r\nas an e-book, on-screen, and for that reason, i
  am\r\neager to apply the lessons learned by typographers\r\n-- or, more aptly, _book_designers_
  \ -- in the past.\r\n\r\nat the same time, i must live within the limits that\r\nare
  imposed by relatively scarce resources on the\r\nhand-held machines -- the iphone,
  kindle, etc. --\r\nthat currently make up the e-book infrastructure...\r\n\r\nin
  the large realm, the one thing that challenges\r\nresources to their breaking point
  is hyphenation,\r\nespecially since it must be real-time, on-the-fly.\r\n\r\nwe
  don't have enough firepower to do hyphenation,\r\nnot correctly anyway, and doing
  it badly is no option.\r\n\r\nbut if we can't do hyphenation, the next question
  is\r\nwhether we can expect to do justice to justification.\r\nloose lines are bad
  in print; they're awful on-screen.\r\n\r\nit would be very sad to give up on justification
  though,\r\nbecause -- perhaps more than any other variable --\r\njustification is
  what makes a book \"look like a book\"...\r\n\r\nand to the extent that e-books
  can \"look like a book\",\r\nwe will ease their introduction to the public at large...\r\n(it
  is for this reason that the kindle currently justifies,\r\neven though the white-space
  rivers look like _crap_.)\r\n\r\nso i'm doing experiments on how to keep justification\r\n--
  even after we've kicked hyphenation to the curb --\r\nand i would like feedback
  from book-designers here.\r\n\r\nif my experiments fail, i want you to say that,
  loudly...\r\ni don't have anything invested in any of these tactics,\r\ni'm simply
  trying to find out if any of them will _work_.\r\n\r\nif they don't work, you won't
  hurt my feelings to say it.\r\n\r\n(and even if it _would_ \"hurt my feelings\",
  you should\r\nsay it anyway, because truth compels you to be honest.)\r\n\r\nin
  order not to bias my experiment, i used actual text\r\nfrom an actual book (one
  recently released by o'reilly).\r\n\r\nto avoid copyright concerns, however, i scrambled\r\nthe
  text.  i randomly replaced every lowercase vowel\r\nwith a different lowercase vowel,
  with the effect that\r\nthe general tenor of the words and lines was retained.\r\n(although
  it probably raised havoc with the kerning.)\r\n\r\ni then used my tool to create
  .pdf and .html versions.\r\n\r\nthe text was unhyphenated, but i did justification
  on it.\r\n\r\nso, the first question i have for you is a simple one:\r\n\r\n>   \"of
  the 144 pages within this .pdf, how many have\r\n>   an unacceptably high number
  of too-loose lines\".\r\n\r\nok, maybe that question isn't _quite_ so simple, with\r\nall
  of its inherent vagueness -- what constitutes a\r\n\"too-loose\" line?, and what's
  a \"high\" number of 'em?,\r\nlet alone an \"unacceptably\" high number?, and what\r\nabout
  the pages that don't have any justified lines? --\r\nbut you get the general idea
  of what i'm asking here...\r\n\r\nin general, did the tactics that i used make it
  work?\r\n\r\nso, there are two ways you can look at the pages...\r\n\r\nyou can
  just download the .pdf:\r\n>   http://z-m-l.com/go/bomoc/bomoc.pdf\r\n\r\nor you
  can use the online page-by-page version:\r\n>   http://z-m-l.com/go/bomoc/bomocp001.html\r\n\r\nin
  the web-version, clicking each page takes you to\r\nthe next page.  or you can jump
  to a specific page\r\nby changing the zero-padded number in the u.r.l.\r\n\r\nfor
  instance, here's the u.r.l. for page 123:\r\n>   http://z-m-l.com/go/bomoc/bomocp123.html\r\n\r\nif
  you want to talk about a specific page, tell us the\r\npage-number, so we can look
  at that page online...\r\n\r\nthere are lots of things that are downright _ugly_\r\nin
  that .pdf.  it's just the starting point from which\r\ni will be demonstrating several
  improved iterations.\r\n\r\nso there is no need to belabor all the bad aspects...\r\n(especially
  the bottom-balancing should be ignored.)\r\n\r\nright now, i'm looking for feedback
  on loose lines.\r\n\r\noh yeah, what i did is i used a multi-line approach.\r\nnot
  the sophisticated ones used by tex or indesign\r\n-- again, limited resources, and
  all in real-time --\r\njust a pretty simple one.  nothing novel about that...\r\n\r\ni
  did, however, throw in a couple of other little tricks.\r\n\r\ni believe they should
  be pretty obvious to you experts,\r\nbut i'll let you tell me what they are, and
  not vice versa.\r\n\r\nand then, of course, i am curious if you think that they\r\nare
  tricks that are \"legit\" or not, and why you think that.\r\n\r\n-bowerbird\r\n\r\n"
comments:
- author:
    name: joeclark
    picture: 110605
  body: "Your HTML semantics are extremely poor; <code>BR P</code> is not how we mark
    up a paragraph, even in HTML 4.\r\n\r\nIt\u2019s good your PDF has bookmarks,
    but any claimed use of a PDF for E-books requires tagged PDF, and you have to
    use semantics there that are even better than HTML\u2019s.\r\n\r\nYou haven\u2019t
    actually even declared a human language in either case.\r\n\r\nYour approach is
    OK for an early beta, but a great deal more finesse is required, and I\u2019m
    not just talking about fonts.\r\n\r\n\u2014  \r\nJoe Clark\r\nhttp://joeclark.org/"
  created: '2009-03-13 02:47:28'
- author:
    name: abattis
    picture: 112245
  body: "<i>now, the web-version has lousy typography, of course, because it lives
    in the browser. not much hope there...</i>\r\n\r\nWell, some hope :)\r\n\r\nhttp://www.alistapart.com/articles/cssatten\r\n\r\nhttp://code.google.com/p/hyphenator/\r\n\r\nhttp://userscripts.org/scripts/show/9022"
  created: '2009-03-13 04:04:32'
- author:
    name: Typedog
    picture: 115994
  body: "Wow this person posted a book!\r\nToo long im leaving.\r\n\r\n\r\n\r\n\r\n\r\nGuerrizmo+Design\r\nNo
    man is an island unto himself_John Donne\r\n"
  created: '2009-03-13 04:46:15'
- author:
    name: bowerbird
    picture: 116972
  body: "joe said:\r\n>   Your HTML semantics are extremely poor; \r\n\r\ni agree.
    \ wholeheartedly.  my focus was on the .pdf.\r\n\r\nmy .html converter wasn't
    prepared for many of the features\r\nin this book, like numbered lists and outdented
    paragraphs.\r\n\r\n(neither of them shows up much in the public-domain fiction\r\nthat
    constituted the bulk of the project gutenberg e-texts that\r\nserved as the starter-corpus
    for this project, believe it or not.)\r\n\r\n\r\n>   BR P is not how we mark up
    a paragraph, even in HTML 4.\r\n\r\nthere's a toggle in my tool that lets users
    retain the linebreaks\r\nwhen they create the .pdf, or do the typical wrap-to-viewport.\r\n\r\nhow
    do you suggest that i retain linebreaks, if not with \"br\"?\r\n\r\n\r\n>   It\u2019s
    good your PDF has bookmarks, but any claimed \r\n>   use of a PDF for E-books
    requires tagged PDF, and you \r\n>   have to use semantics there that are even
    better than HTML\u2019s.\r\n\r\nthere's a very deep discussion that we could have
    on this matter.\r\n\r\nbut for now, let me just skip over that with a quick \"you're
    right,\r\nand i would've loved to make this a tagged .pdf, but the package\r\nthat
    i'm using -- pdflib lite, v5 -- is old, and doesn't support it.\"\r\n\r\nit also
    limits me to the 14 embedded fonts, hence the helvetica...\r\nand finally, i can't
    web-optimize the .pdf, which i'd like to do too.\r\n\r\nif my eventual users wanna
    chip in for the new commercial version\r\nof the pdflib package, or another package,
    i'll be happy to have it...\r\nin the meantime, i content myself with what i can
    use at no charge.\r\n(and i thank the pdflib people for their generosity in offering
    that.)\r\n\r\n\r\n>   You haven\u2019t actually even declared a human language
    in either case.\r\n\r\nas you certainly know, joe, i'm just using a template for
    the .html.\r\n\r\nand i'll be the first person to tell you that i don't know much
    about\r\n.html, and don't care to learn any more than i absolutely have to,\r\nso
    improvements on that template will have to be made by others...\r\n\r\nso if you'd
    like to create the kind of template you think i should use,\r\njoe, i will be
    quite happy to take it and use it and give you full credit.\r\n\r\nif not, i'll
    wait for one of my eventual users to volunteer for that job.\r\n\r\n\r\n>   Your
    approach is OK for an early beta, but a great deal \r\n>   more finesse is required,
    and I\u2019m not just talking about fonts.\r\n\r\ni wasn't really showing my \"finesse\"
    yet, to the extent that i have any.\r\n\r\ni'm just seeing if i can get sufficiently
    tight lines without hyphenation.\r\n\r\ndo you have any feedback for me on that?
    \           :+)\r\n\r\n-bowerbird\r\n\r\n"
  created: '2009-03-13 05:04:28'
- author:
    name: bowerbird
    picture: 116972
  body: "abattis said:\r\n>   Well, some hope :)\r\n\r\ngreat.  i love hope.  indeed,
    i have had a poster in my\r\nfront window that says \"hope\" for many months now.\r\n\r\n(it's
    got a picture of our first black president on it too,\r\nand hey, if _that_ could
    happen, then maybe browsers\r\nwill be able to give us good book typography as
    well!)\r\n\r\nso let's take a look...\r\n\r\n\r\n>   http://www.alistapart.com/articles/cssatten\r\n\r\nok,
    css?  seriously?  i've only been here a week so far,\r\nand there's already blood
    splattered all over the place,\r\nso i think i will wait to tell you what i think
    about css...\r\n\r\nin the meantime, go to the zen garden and pull up\r\nany 20
    designs at random.  click your fontsize up\r\na few notches and see what percentage
    of those 20\r\nfancy designs crumbles into unappealing messes...\r\n\r\nor resize
    your window and see how many _really_\r\n\"readjust and reflow\", versus how many
    do not...\r\n\r\n\r\n>   http://code.google.com/p/hyphenator/\r\n\r\nvery cool.\r\n\r\nlet
    me know when 60% of the population surfs with\r\na browser that supports this
    thing, and i'll be happy.\r\n\r\nof course, you or i might grow old and _die_
    first...\r\n\r\nbesides, the future of e-books ain't in the browser.\r\nthat's
    patently obvious.  it's in handheld machines.\r\nlike the once-again-rumored mac
    10-inch touch...\r\n\r\n(and yes, there will be browsers on the handhelds,\r\nand
    you'll be able to read e-books at websites, but\r\nclient-side non-browser apps
    don't have to run in\r\na blind sandbox, so will always be more powerful;\r\nplus
    they can request data from the web if needed.\r\nthere's just no compelling need
    to use a browser.)\r\n\r\n\r\n>   http://userscripts.org/scripts/show/9022\r\n\r\nthis
    one i already knew about.  haven't looked at it\r\nvery much.  looks interesting,
    to be sure, but still,\r\nre-cue all of the arguments that i have just made...\r\n\r\n-bowerbird\r\n\r\n"
  created: '2009-03-13 05:33:30'
- author:
    name: Nick Cooke
    picture: 109834
  body: "Bowerbird - You want people to bother reading this post? Try using initial
    caps and a longer line length and not so many line spaces. The appearance of this
    is extremely irritating.\r\n\r\nBTW - I haven't bothered reading your initial
    post.\r\n\r\nNick Cooke"
  created: '2009-03-13 09:43:36'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>...cumulating small gifts from fans to make their living.</em>\r\n\r\n[img:sites/default/files/old-images/5531190~80-Year-Old-Street-Musician-Lylah-Tiffany-Playing-the-Accordion-and-Begging-Outside-Carnegie-Hall-Posters_3982.jpg]"
  created: '2009-03-13 12:30:11'
- author:
    name: aluminum
    picture: 110335
  body: If you are poo-pooing CSS, why are you bothering making a web site?
  created: '2009-03-13 14:53:48'
- author:
    name: bowerbird
    picture: 116972
  body: "a new nick said:\r\n>   The appearance of this is extremely irritating.\r\n\r\nthe
    old nick said:\r\n>   ...cumulating small gifts from fans to make their living.\r\n\r\naluminum
    said:\r\n>   If you are poo-pooing CSS, \r\n>   why are you bothering making a
    web site?\r\n\r\nhey kids, if you want to bash, you'll have to do that in my\r\nearlier
    thread -- \"greetings, and a request for feedback\".\r\n\r\nthis thread is for
    _working_, so only on-topic comments.\r\n\r\n-bowerbird\r\n\r\n"
  created: '2009-03-13 15:35:41'
- author:
    name: Don McCahill
    picture: 111486
  body: "> the one thing that challenges\r\nresources to their breaking point is hyphenation,\r\nespecially
    since it must be real-time, on-the-fly.\r\n\r\nHave you looked into Donald Knuth's
    algorithm for TeX hyphenation. It is published in Computers and Typesetting, Volume
    A, and provides pretty good hyphenation that worked on machines 20 years ago,
    when resources were much more limited than they are today.\r\n\r\nWithout hyphenation
    you are going to have a lot of trouble getting good readability. "
  created: '2009-03-13 15:56:05'
- author:
    name: aluminum
    picture: 110335
  body: "\"so only on-topic comments\"\r\n\r\nAre you NOT asking about the web site
    you are building?\r\n\r\nHow is CSS not on-topic?\r\n\r\nAnd, as stated, don't
    expect very good feedback when your posts are nearly undecipherable. This isn't
    bashing. It's constructive feedback. Take it or leave it."
  created: '2009-03-13 15:56:51'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>the old nick said:\r\n> ...cumulating small gifts from fans to make their
    living.</em>\r\n\r\nNo, that's what you said.\r\nThe picture of an impoverished
    artist living off discretionary payment for her freely given work is my on-topic
    comment.\r\nDeal with it, or ignore it.\r\nBut please try to refrain from snide
    patronizing ad hominem remarks.\r\n\r\nBTW, people at this site have expressed
    dismay at the posts of David Berlow and Peter Enneson, to name but two frequent
    contributors with high style, but it is a difficulty with their writing, not their
    layout."
  created: '2009-03-13 17:06:31'
- author:
    name: speter
    picture: 110038
  body: "Why\r\nNick\r\nwhatever\r\ndo\r\nyou\r\nmean?\r\n\r\nLayout \r\nis\r\none\r\nof
    \r\nbb's\r\nstrong\r\npoints."
  created: '2009-03-13 17:36:19'
- author:
    name: bowerbird
    picture: 116972
  body: "don said:\r\n>   Have you looked into Donald Knuth\u2019s \r\n>   algorithm
    for TeX hyphenation.\r\n\r\nyes.  \r\n\r\n\r\n>   It is published in Computers
    and Typesetting, Volume A\r\n\r\nit's pretty hairy, isn't it?          :+)\r\n\r\n\r\n>
    \  and provides pretty good hyphenation that \r\n>   worked on machines 20 years
    ago, when \r\n>   resources were much more limited than they are today.\r\n\r\nwhen
    i speak of \"limited resources\", i mean in devices like\r\nthe iphone, the kindle,
    and sony reader, not the desktop...\r\n\r\nin addition, moreover, with such machines
    there's a need\r\nto execute the routine on-the-fly, in real-time, and to be\r\nimpervious
    to those situations which \"cannot\" be resolved.\r\n\r\ntex, in contrast, is
    a batch program, so you're judging it\r\nin a different context that really has
    little relevance here.\r\neven if it's typically fast, there are some occasions
    where\r\nit can take a while.  and sometimes it will just give up and\r\nsay \"this
    paragraph just _won't_ work as is, so rewrite it.\"\r\nwe simply don't have that
    luxury in a handheld situation.\r\n\r\nnow, it _is_ possible to have the routine
    do just one page,\r\nor a few, a tactic used by some apps...  (ok, one, stanza.)\r\n\r\nbut
    there are two problems with this approach.  the first\r\nis that the routine interrupts
    the reader's attentional flow\r\nwhen there's a delay, however short, every page
    or three.\r\n\r\nthe second is that it makes the pagination indeterminate.\r\nso,
    to jump to the middle of a book -- e.g., page 123 --\r\nyou need to run the routine
    on the first 122 pages first;\r\notherwise, you don't know what text falls on
    page 123...\r\n\r\nthe only way to avoid this is to \"guess\" where page 123 is.\r\n\r\nwhile
    some viewer-programs do operate in this manner\r\n-- such as mobipocket, and thus
    probably the kindle --\r\nit's quite unsatisfactory, and leads to some weird shit...\r\nfor
    example, in mobipocket, paging forward to page 123\r\nwill sometimes give you
    _different_text_ on that \"page\"\r\nthan you'll get when you page _backward_
    to page 123.\r\n(and not just on page 123, but _all_ intervening pages.)\r\n\r\nobviously,
    that _breaks_ our notion of what a \"page\" is,\r\nin a fairly significant --
    and wholly impractical -- way.\r\n\r\nsome day we will all be carrying around
    machinery that\r\nwould qualify as a \"supercomputer\" today.  but not today.\r\n(but
    the iphone is a \"supercomputer\" from 40 years ago.)\r\n\r\n\r\n>   Without hyphenation
    you are going to have\r\n>   a lot of trouble getting good readability.\r\n\r\nwell,
    that's actually the point in question here, right now.\r\n\r\nspecifically, we
    know that we can't do hyphenation right.\r\n\r\nso the question is, \"must we
    abandon justification too?\"\r\n\r\ni'd like to save justification -- as an option,
    at least --\r\nso i'm doing some experimentation to find out if we can\r\nuse
    means other than hyphenation to avoid loose lines...\r\n\r\ni made a .pdf -- with
    actual text from an actual book --\r\nthat uses justification without hyphenation,
    as one test...\r\n\r\nso i'm looking for feedback from you experts here as to\r\nwhether
    you think that it looks \"good enough\" or not...\r\n\r\ni'm also going to compute
    the increase in word-space,\r\nbecause i think hard numbers are useful in addition
    to\r\nthe subjective \"looks good to me\" or \"looks bad to me\",\r\nbut, as with
    much typography, the ocular test is best...\r\n\r\n***\r\n\r\naluminum said;\r\n>
    \  Are you NOT asking about the web site you are building?\r\n\r\ni am _not_ asking
    about the website.  emphatically not...\r\n\r\nright now, i'm asking if the justified
    lines in the .pdf show\r\nsufficient tightness, or if there is an excess of loose
    ones.\r\n\r\ni merely put up the website so that people who only want\r\nto view
    the occasional-page-being-referenced can do so\r\n-- like say i talked about page
    123, you could just view:\r\n>   http://z-m-l.com/go/bomoc/bomocp123.html\r\n--
    without having to download the whole .pdf.  (but the .pdf\r\nis only 2.6 megs,
    so it's not like it's _that_ big of a burden.)\r\n\r\nbut the text on the website,
    and its underlying .html,\r\nmeans next to nothing to me at this point in time,
    no.\r\ni could just as easily have eliminated it entirely.\r\n\r\nthat having
    been said, though, i will eventually be _quite_\r\ninterested in using the best
    c.s.s. that experts can write\r\nfor the sites produced by my tool, so if you
    would like to\r\n_produce_ that c.s.s., do please let me know, and i will\r\nbe
    quite happy to tell you what i have in mind, and then\r\nlet you go to work doing
    what you think should be done\r\n-- after all, you're the expert! -- and when
    you're done,\r\ni will be quite happy to evaluate it for use with my tools,\r\nand
    will give full and proper credit for your contribution.\r\n\r\n_that_ would be
    \"constructive\"...\r\n\r\n***\r\n\r\none more thing...\r\n\r\ni have regenerated
    the .pdf without the bottom-balancing,\r\nbecause the carding caused too much
    variation in the color,\r\nmaking it difficult to gauge the looseness of justified
    lines...\r\n\r\nthe new .pdf is now available at the old location:\r\n>   http://z-m-l.com/go/bomoc/bomoc.pdf\r\n\r\nthe
    old .pdf is renamed, if you want to look at it:\r\n>   http://z-m-l.com/go/bomoc/bomoc-1.pdf\r\n\r\ni'll
    replace the page-scan images in the website as well,\r\nsince they are simply
    screenshots lifted out of the .pdf...\r\n\r\nin the process, i might update the
    .html, for mr. clark...\r\n(but no promises, joe.)\r\n\r\n-bowerbird\r\n\r\n"
  created: '2009-03-13 17:51:02'
- author:
    name: kentlew
    picture: 110411
  body: "<cite> > so i\u2019m looking for feedback from you experts here as to\r\nwhether
    you think that it looks \u201Cgood enough\u201D or not...</cite>\r\n\r\nNo.\r\n\r\n<cite>
    > right now, i\u2019m asking if the justified lines in the .pdf show\r\nsufficient
    tightness, or if there is an excess of loose ones.</cite>\r\n\r\nExcess of loose
    ones.\r\n\r\n<cite> > so the question is, \u201Cmust we abandon justification
    too?\u201D</cite>\r\n\r\nYes, probably. Since hyphenation seems to have been ruled
    out.\r\n\r\nIt seems to me that within the constraints outlined, you will have
    to choose between the short-term: lure folks to the e-book by making it seem more
    familiar -- i.e., justification -- at the risk of making it untenable for long-haul
    reading; and the long-term: eschew superficial familiarity in hopes of demonstrating
    that an e-book can be just as comfortable to read -- which in this case would
    seem to require FL/RR setting, so as not to cause such disruptive word spacing.\r\n\r\nThat's
    my professional opinion.\r\n\r\n-- K."
  created: '2009-03-13 19:16:32'
- author:
    name: bowerbird
    picture: 116972
  body: "nick said:\r\n>   The picture of an impoverished artist living off discretionary
    \r\n>   payment for her freely given work is my on-topic comment.\r\n>   Deal
    with it, or ignore it.\r\n\r\nthat's off-topic in this thread.\r\n\r\ni brought
    it up to explain _why_ there's a web-site version.\r\nit has no other relevance
    to the topic of the ongoing thread,\r\nwhere the question is still regarding loose
    lines in the .pdf...\r\n\r\nto discuss that picture, do it elsewhere, such as
    in the old\r\n\"greetings\" thread.  and be prepared to receive an onslaught\r\nof
    counterexamples.  but don't do it here; we're working here.\r\n\r\nand besides,
    why would you pick on that poor little old lady?\r\nis that the kind of \"man\"
    you are, kicking around the feeble?\r\n\r\n-bowerbird\r\n\r\n"
  created: '2009-03-13 20:39:29'
- author:
    name: aluminum
    picture: 110335
  body: "\"i am _not_ asking about the website. emphatically not...\"\r\n\r\nAh, well,
    apologies, then!\r\n\r\nI'll duck out of the conversation as I am obviously having
    a tough time traversing your posts and filtering out the specific question you
    might have. "
  created: '2009-03-13 20:50:06'
- author:
    name: bowerbird
    picture: 116972
  body: "kentlew said:\r\n>   Yes, probably. Since hyphenation seems to have been
    ruled out.\r\n\r\nain't done experimenting yet.  but i heartily appreciate your
    input.       :+)\r\n\r\nwhat i'll probably end up doing is computing the line-looseness,\r\nfor
    individual lines, and from that, pick out some pages that are\r\n\"in the middle\"
    in regard to their overall looseness, and then ask\r\npeople like you, if you
    would be so kind, to judge those pages,\r\nso i get the feel for how much looseness
    constitutes \"too much\".\r\n\r\nbringhurst does throw out a range -- from a quarter-em
    to a half\r\n(page 26) -- but that's a relatively large difference, especially
    as he\r\ngoes on to detail a number of other variables that can be involved.\r\n\r\n\r\n>
    \  It seems to me that within the constraints outlined, \r\n>   you will have
    to choose between the short-term: \r\n>   lure folks to the e-book by making it
    seem more familiar \r\n>   \u2014 i.e., justification \u2014 at the risk of making
    it untenable \r\n>   for long-haul reading; and the long-term: \r\n>   eschew
    superficial familiarity in hopes of demonstrating \r\n>   that an e-book can be
    just as comfortable to read \u2014 \r\n>   which in this case would seem to require
    FL/RR setting, \r\n>   so as not to cause such disruptive word spacing.\r\n\r\nthe
    options aren't quite _that_ stark, fortunately...\r\n\r\ni haven't given much
    of the backstory, but these\r\nconversions -- to .html and .pdf -- constitute
    an\r\nextremely minor part within the scope of my work.\r\n\r\nthe more crucial
    aspects of it are my _file_format_\r\n-- it's called \"z.m.l.\", for \"zen markup
    language\" -- \r\nand my _authoring_tool_ and _viewer-programs_...\r\n\r\nin the
    long run, people will use my authoring-tool\r\nto create books in z.m.l., and
    their readers will then\r\nread those zml-books by using my viewer-program.\r\n\r\nthese
    .pdf and .html versions are for the short-term.\r\n\r\nmy viewer-program is more
    powerful than acrobat's,\r\nand much more reader-friendly than a web-browser,\r\nso
    the lifetime of .pdf and .html versions will be short.\r\n\r\nin my viewer-program,
    a simple command-j toggles the\r\njustification, so a reader can use justification
    if they like,\r\nas their default, but quickly and easily switch it off when\r\nthey
    encounter any page which has too many loose lines.\r\nand turn it back on again
    when they go to the next page.\r\n\r\nso, for on-screen reading, with my app,
    it's a non-issue.\r\n\r\nand once people recognize my viewer-app's superiority,\r\nthey'll
    stop reflexively reaching for the .pdf or the .html.\r\nso these converters are
    just stop-gap until that happens.\r\n\r\nplus, for _any_ zml-book they decide
    to print, using\r\nmy viewer's built-in conversion routine to create .pdf,\r\nthey
    can specify either justification or ragged-right..\r\n\r\n(i could even let them
    justify on a page-by-page basis...\r\nhaven't ever coded it, but it's a thing
    that could be done.)\r\n\r\nit's only because .pdf is a \"frozen\" format that
    this is even\r\nsomething that i am spending any time on.  but it's better\r\nto
    give the user the option to choose whatever they want,\r\nand easier, and more
    flexible, so that's what my app does.\r\n\r\nwhich means this is _not_ a stark
    \"either/or\" situation...\r\n\r\n(especially since i will offer a \"half-ragged\"
    option as well,\r\nas i seem to remember that having been a possible choice\r\n_sometime_
    in my experience, even if i can't locate it now.\r\nyou increase the word-space
    for each line to _one-half_\r\nof what it would be if you were doing _full_ justification.)\r\n\r\n\r\n>
    \  That\u2019s my professional opinion\r\n\r\ni appreciate it very much, and i
    thank you for your time...\r\n\r\n-bowerbird\r\n\r\n"
  created: '2009-03-13 21:49:39'
- author:
    name: Typedog
    picture: 115994
  body: "Wow, two weeks bowerbird you made it!\r\n\r\n\r\n\r\n\r\nGuerrizmo+Design\r\nNo
    man is an island unto himself_John Donne\r\n"
  created: '2009-03-13 22:49:10'
- author:
    name: Theunis de Jong
    picture: 114717
  body: "On the TeX hyphenation jabs:\r\n\r\nThe routine was developed in the early
    '80s. At that time, TeX ruled because no desktop machines were fast enough to
    run it at real time; only through batch processing could TeX deliver its pages.\r\n\r\nFast
    forward to now.\r\n\r\n<cite> > It is published in Computers and Typesetting,
    Volume A\r\n\r\nit\u2019s pretty hairy, isn\u2019t it? :+)</cite>\r\n\r\nNot if
    you're a half decent programmer. (grin)\r\nFor laffs, I just finished programming
    a Windows text viewer, incorporating proper justification (up to semi-pixel precision)
    <em>and</em> Liang hyphenation thrown in. Now I'm contemplating Knuth/Plass paragraph
    breaking, because it seems worth a try to check if text <em>really</em> breaks
    'nicer'.\r\n\r\n<cite>sometimes it will just give up and say \u201Cthis paragraph
    just _won\u2019t_ work as is, so rewrite it.\u201D we simply don\u2019t have that
    luxury in a handheld situation</cite>\r\n\r\nGranted -- but even desktop giant
    InDesign, with its advanced hyphenation (better'n Liang's! more hyphens, distinction
    between preferred breaking positions and less preferred ones) and not-quite-TeX-like
    line breaking [*], will not <em>always</em> produce high quality typesetting.
    If you only have one go, you'll have to anticipate every possible problem, such
    as words in other languages, mathematical formulas popping up inside running text,
    and the occasional this-would-look-better-if-broken-otherwise.\r\n\r\n[*] They
    <em>do</em> use a derivation of the algorithm, but where TeX can leisurely fill
    up the entire RAM of a computer, contemplating a very long paragraph, ID stops
    evaluating a paragraph after so-many lines, breaks those into the best lines,
    then continues with the rest. So, while it is possible there are better line breaks
    possible, the routine produces a \"best with limited time & memory\". I presume
    next versions will get better, with more memory and faster CPUs."
  created: '2009-03-15 00:43:30'
- author:
    name: Theunis de Jong
    picture: 114717
  body: "For example, notice the un-breakable name \"\xDCbersetzenseehafenstadt\",
    although I'm thinking the u-umlaut causes my routines not to break it. Without
    that, the stand-alone hypenating test program suggests \"Uber*set*zensee*hafen*stadt\"
    -- so far \"the Unexpected\".\r\n\r\n[img:sites/default/files/old-images/justify_5674.PNG]\r\n\r\n*Sigh*
    -- you just have to think of <em>everything</em>."
  created: '2009-03-15 00:57:05'
- author:
    name: bowerbird
    picture: 116972
  body: "theunis said:\r\n>   On the TeX hyphenation jabs:\r\n\r\nthey aren't \"jabs\".\r\n\r\ntex
    does a very nice job of hyphenating.\r\n\r\nit's just that you cannot make it
    work on\r\na handheld, with a real-time requirement.\r\n\r\nand that's where e-books
    reside, now and\r\nfrom now on, not on a desktop computer...\r\n\r\nnow, when
    i say \"you\", what i really mean\r\nis \"no one so far\", which includes the
    team\r\n(i presume) who made kindle's viewer-app,\r\nand people who have made
    iphone e-books.\r\n(unless you think stanza did it well; i don't.)\r\n\r\nand
    \"cannot\" means \"hasn't been done yet\".\r\n\r\nso i'm not closing out the possibility
    for it...\r\ni'm just saying no one has obtained it _yet_.\r\nwe must understand
    and acknowledge that...\r\n\r\nmoreover, i don't think we need hyphenation.\r\nmulti-line
    break routines do well enough, for\r\na reasonable percentage of english paragraphs.\r\n(for
    other languages, programmers who speak\r\nthe languages must figure out what they'll
    do.)\r\n\r\n\r\n>   Not if you\u2019re a half decent programmer. (g\r\n\r\ni'm
    only quarter-decent, so i won't even try.      ;+)\r\n\r\nbut i will be happy
    to look at your work,\r\nif and when you're ready to show people.\r\n\r\n\r\n>
    \  I presume next versions will get better, \r\n>   with more memory and faster
    CPUs.\r\n\r\nbut as long as you're talking about _indesign_,\r\nyou're not talking
    about _handheld_ machines.\r\n\r\nand desktop computers (even laptops, unless\r\nwe're
    talking about those wee little eee things)\r\nare now fairly irrelevant in the
    land of e-books.\r\nhandhelds are all that matters, and it will be a\r\nvery long
    time before they match the resources\r\nof a desktop computer today, let alone
    grow to\r\nsomething with \"more memory and faster cpus\".\r\n\r\nindeed, since
    massive-run p-books will soon\r\nbe a thing of the past, except for best-sellers,\r\nthe
    entire workflow of one-time-layout (on the\r\npublisher's high-end desktop computers
    with\r\nindesign or quark) will morph to each individual\r\nspecifying her own
    preferences for a pod-book,\r\nwith layout proceeding from her personal choices.\r\n\r\n-bowerbird\r\n\r\n"
  created: '2009-03-15 20:07:10'
- author:
    name: Theunis de Jong
    picture: 114717
  body: "<cite>but as long as you\u2019re talking about _indesign_,\r\nyou\u2019re
    not talking about _handheld_ machines.</cite>\r\n\r\nCorrect. InDesign is an interactive
    DTP application, where handheld machines are barely interactive -- Page Forward,
    Page Back. Maybe Search as well.\r\n\r\nI'm guessing you want hardware specs to
    be as low as possible, so the prudent thing is to 'prepare' text for handhelds
    by <em>pre-hyphenating</em> text. That can be done using any old system, running
    a hyphenator as slow as you want. But that's already been suggested, and\r\n\r\n<cite>let
    me know when 60% of the population surfs with\r\na browser that supports this
    thing, and i\u2019ll be happy.</cite>\r\n\r\n... as a matter of fact, my first
    complete Knuth/Liang hyphenation program exactly <em>did</em> that in 2004. It
    did exactly what the Google.code hyphenator does: insert all possible hyphens
    in a HTML file. I proposed it to the firm I was working for at the mo', to be
    used in a HTML reference guide they were working on. It was turned down because
    it apparently did not \"work with ALL browsers\", which was kind of a bummer.\r\n\r\nSo.
    No hyphenation means you cannot really expect good looking justified text -- as
    has been remarked upon before. Case closed.\r\n\r\n<cite>it will be a very long
    time before they match the resources of a desktop computer today, let alone grow
    to something with \u201Cmore memory and faster cpus\u201D.</cite>\r\n\r\nSitting
    here with a g*d*mn <em>phone</em> surpassing memory and CPU caps of my first computer
    by a factor I'm to weary to calculate, I tend to disagree.\r\n\r\n<cite>the entire
    workflow of one-time-layout [...] will morph to each individual specifying her
    own preferences for a pod-book, with layout proceeding from her personal choices.</cite>\r\n\r\nAbsolutely
    agree on that. But I must repeat, there is no way (barring futuristic AI applied
    to typesetting) any random document can be typeset (oh alright, \"formatted\")
    in just about any pleasing way the customer wants. There must be some form of
    pre-formatting, or tagging, or whatever. Adding hyphens to the mix is not difficult.\r\n\r\nAre
    you targeting currently existing hardware, or aiming for the future? If the former,
    you have no choice but to opt for the most common divider -- \"it displays text\",
    and that's all."
  created: '2009-03-15 22:34:52'
- author:
    name: bowerbird
    picture: 116972
  body: "theunis said:\r\n>   I\u2019m guessing you want hardware specs to be as low
    as possible\r\n\r\nno.  i want a supercomputer in my hand.  in everyone's hands.\r\nand
    i want it to be cheap enough that everyone will have one...\r\n\r\nwe're just
    not there yet.  and it'll be a while before we are there.\r\n\r\n\r\n>   the prudent
    thing is to \u2019prepare\u2019 text \r\n>   for handhelds by pre-hyphenating\r\n\r\neven
    pre-hyphenated text won't work.  based on what i've observed.\r\n\r\ni haven't
    yet started coding for the iphone, because it requires xcode,\r\nand i'm not yet
    ready to start learning a new language, so i cannot be\r\nas specific as i'd like
    to be in telling you exactly what today's machines\r\ncan and cannot do, but it's
    clear that the resources are relatively sparse.\r\nwhen i've done some coding,
    i'll know how much we can push the edge.\r\n\r\nbesides, it's not insertion of
    all-possible-hyphens that's the problem.\r\ncurrent machines can do that just
    fine, no reason to do it beforehand.\r\nthe problem is that you can't jump to
    page 123 without processing the\r\ntext _before_ page 123, to know exactly what
    text is _on_ page 123...\r\nwe can't do _that_ fast enough without making people
    wait too long.\r\npeople don't like to wait these days...\r\n\r\n\r\n>   It was
    turned down because it apparently did not \u201Cwork with \r\n>   ALL browsers\u201D,
    which was kind of a bummer.\r\n\r\nsoft hyphens _still_ don't work with all browsers.\r\n\r\nand
    the big reason for that is the browser-programmers _know_\r\nhyphenation is a
    time-sink that will make users unhappy waiters.\r\n\r\n\r\n>   No hyphenation
    means you cannot really expect good looking \r\n>   justified text \u2014 as has
    been remarked upon before. Case closed.\r\n\r\nyou can think the \"case\" is \"closed\".
    \ fine.  i'm quite sure that it's not.\r\n\r\n\r\n>   Sitting here with a g*d*mn
    phone surpassing memory \r\n>   and CPU caps ofmy first computer by a factor I\u2019m
    to weary \r\n>   to calculate, I tend to disagree.\r\n\r\nok.  prove it by making
    a hyphenation routine work on your phone\r\nfast enough to process an entire book
    in real-time on-the-fly...\r\n\r\nthe world will thank you.  well, ok, _typographers_
    will thank you.\r\n(everyone else will yawn and turn back to \"dancing with celebrities\".)\r\n\r\nyou
    and i have no beef.  do you get that?  you're arguing with _reality_.\r\nand,
    in my experience, that's a waste of time, since reality always wins.\r\nand if
    you _insist_ on arguing, she will slap you in the face big-time...\r\n\r\n\r\n>
    \  I must repeat, there is no way (barring futuristic AI applied \r\n>   to typesetting)
    any random document can be typeset (oh alright, \r\n>   \u201Cformatted\u201D)
    in just about any pleasing way the customer wants. \r\n\r\nsure there is, depending
    on how \"pleasing\" the person \"wants\" it to be.\r\nif you have unlimited time.
    \ but we want e-books to work in real-time.\r\nthat's the thing that makes all
    this so challenging.  have i been unclear?\r\n\r\n\r\n>   There must be some form
    of pre-formatting, or tagging, or whatever.\r\n\r\nwhen you find \"whatever\",
    let people know.  that's what i'll be doing...\r\n\r\n\r\n>   Are you targeting
    currently existing hardware, \r\n>   or aiming for the future? \r\n\r\nboth.  the
    future _is_ now.\r\n\r\n-bowerbird\r\n\r\n"
  created: '2009-03-16 00:15:48'
- author:
    name: Theunis de Jong
    picture: 114717
  body: "<cite>ok. prove it by making a hyphenation routine work on your phone fast
    enough to process an entire book in real-time on-the-fly...</cite>\r\n\r\nMy proposal
    was actually to do that beforehand. There is no reason to dismiss this idea whatsoever.
    That's what I meant with 'tagging' and 'preformatting' -- the more work is done
    in the file that goes <em>into</em> your hypothetical reader, the lesser it has
    to do on its own.\r\n\r\n<cite>when you find \u201Cwhatever\u201D, let people
    know. that\u2019s what i\u2019ll be doing...</cite>\r\n\r\nYep -- the points I
    mentioned earlier. Live hyphenation, for example, requires all texts tagged with
    the correct language. It's no different than tagging text to be italic, or bold,
    or as quotes. Surely you don't expect your (hypothetical?) program to handle that
    without supervision? So, take as much of the burden of \"live\" formatting <em>away</em>
    from your reading device and move it into the data file. As per your example,
    if page numbers need to be known in advance (if your document contains references
    to absolute pages, e.g., a table of contents, an index, or internal references),
    you have no choice but to \"fix\" page boundaries. If you don't you will <em>have
    to</em> devise a way to <em>generate</em> the page references when needed. It's
    really one or the other.\r\n\r\nYou'll have to define your reading target, though,
    as formatting of a novel is quite different than that of, say, a programmer's
    guide to Perl (to name a random scientific text).\r\n\r\n<cite>you and i have
    no beef. do you get that? you\u2019re arguing with _reality_. and, in my experience,
    that\u2019s a waste of time, since reality always wins. and if you _insist_ on
    arguing, she will slap you in the face big-time...</cite>\r\n\r\nI'm merely trying
    to fathom what you are hoping to accomplish. No arguing involved.\r\n\r\n<cite>the
    future _is_ now</cite>\r\n\r\nApparently it is not, since by that argument you
    shouldn't have any problems with futuristic specs. If your target is <em>current</em>
    software and hardware, you have no other choice than to opt for text only. No
    justification, no hyphenation. And do all pocket readers even support italic text?"
  created: '2009-03-16 00:46:50'
- author:
    name: Typedog
    picture: 115994
  body: "Know-it-all bird\r\n\r\n\r\n\r\n\r\n\r\n\r\nGuerrizmo+Design\r\nNo man is
    an island unto himself_John Donne\r\n"
  created: '2009-03-16 03:51:51'
- author:
    name: bowerbird
    picture: 116972
  body: "theunis said:\r\n>   My proposal was actually to do that beforehand. \r\n>
    \  There is no reason to dismiss this idea whatsoever. \r\n\r\nhey, look, i love
    the person who does what everyone else\r\nsays cannot be done.  which is why i
    never say that myself.\r\n\r\nif you can do it, great!  do it.  lead the way.
    \ clear the path.\r\n\r\nall i'm saying is that no one has done it up to this
    point...\r\n\r\ni don't think it's because they're all deaf, dumb, and blind.\r\ni
    think it's because resources on handhelds are insufficient.\r\n\r\npresently,
    there are three handheld platforms of substance:\r\nthe kindle, sony reader, and
    iphone.  and only the iphone is\r\nopen for programmers.  if you want to consider
    the g1 too,\r\nor the blackberry, or palm's new operating system, go ahead.\r\n\r\nthere
    will also be a flock of e-ink hardware \"coming soon\",\r\nplus some (like the
    iliad) which have already been around,\r\nthough they haven't established much
    of a foothold as yet.\r\n\r\nso there'll be lots of platforms \"soon\", albeit
    not right now.\r\n\r\nbut most will be resource-challenged, when compared to\r\nthe
    desktop, so an ability to accomplish your objectives on\r\nthe desktop won't necessary
    equate to handheld success...\r\n\r\nbut still, better to start _somewhere_ as
    soon as possible.\r\n\r\n\r\n>   That\u2019s what I meant with \u2019tagging\u2019
    and \u2019preformatting\u2019 \u2014 \r\n>   the more work is done in the file
    that goes _into_ your \r\n>   hypothetical reader, the lesser it has to do on
    its own.\r\n\r\nyou don't do yourself favors with the term \"hypothetical\".\r\ne-book
    apps are real, right now, and used out in the wild...\r\n\r\nas for preformatting,
    again, if you can make it work, do it.\r\n\r\nmy sense is that it won't help you
    that much, but perhaps\r\nyou can invent the preformatting that _will_ give a
    boost.\r\nagain, i won't ever tell you it can't be done.\r\n\r\nbut you will have
    to _do_it_, not just say it could be done.\r\n\r\nanother thing about \"preformatting\"
    is that you will have to\r\nget buy-in agreement from the-world-at-large to do
    that task.\r\nso it complicates things.  still, you can worry about that later.\r\n\r\n\r\n>
    \  Live hyphenation, for example, requires all texts \r\n>   tagged with the correct
    language. It\u2019s no different than \r\n>   tagging text to be italic, or bold,
    or as quotes. \r\n\r\nthat's part of the \"buy-in\" that you'll have to get from
    creators.\r\n\r\nyou can _assume_ that they'll be willing to do it, but if they\r\nbalk,
    then your scheme won't succeed, even if it does \"work\".\r\n\r\nwelcome to the
    world of e-book application programming...\r\n\r\n\r\n>   Surely you don\u2019t
    expect your (hypothetical?) program to \r\n>   handle that without supervision?
    \r\n\r\nbut i'm not the one with a hyphenation program.  _you_ are!\r\n\r\nand
    you're free to define the terms of how your program works,\r\nand what it can
    and cannot handle, with or without supervision.\r\n\r\nbut if you require jobs
    of them, people might dismiss your system.\r\n\r\n\r\n>   So, take as much of
    the burden of \u201Clive\u201D formatting _away_ \r\n>   from your reading device
    and move it into the data file. \r\n\r\nif you can make it work, fine, make it
    work.\r\n\r\n\r\n>   As per your example, if page numbers need to be known in
    \r\n>   advance (if your document contains references to absolute \r\n>   pages,
    e.g., a table of contents, an index, or internal references), \r\n>   you have
    no choice but to \u201Cfix\u201D page boundaries. \r\n\r\nwell, just to be clear,
    that example didn't actually require that\r\n\"page numbers need to be known in
    advance\".  that is, when i\r\nused \"page 123\", what i meant was \"somewhere
    in the middle\".\r\ncould have been \"where chapter 6 starts\", or \"where this
    quote\r\nis located\", or \"where this footnote was referenced\" or whatever.\r\n\r\nsome
    e-book programs try to \"finesse\" the reality that they can't\r\nattach a \"page
    number\" to a specific bit of text, so instead they\r\nreport that you are \"62%
    of the way through the book\", or some\r\nsuch nonsense, or even just give the
    user some vague scroll-bar.\r\n\r\nmyself, i like my programs to be a lot more
    specific than that...\r\ni like to say \"you're on page 123 of 292 pages\".  bam!
    \ exactly!\r\n\r\nbut also note that -- when the person bumps up the fontsize,\r\nor
    switches from landscape to portrait, or changes fonts --\r\nthen those 292 pages
    might morph into 336 pages, and then\r\nthe person would instead be \"on page
    135 out of 336 pages\"...\r\nyou must repaginate the whole book.  in real-time.
    \ on the fly.\r\n\r\n\r\n>   If you don\u2019t you will _have_to_ devise a way
    to _generate_ \r\n>  the page references when needed. It\u2019s really one or
    the other.\r\n\r\nright.  exactly.  you have to _generate_ and _update_ all of
    the\r\npage references.  and you have to do it on-the-fly, in real-time...\r\n\r\n\r\n>
    \  You\u2019ll have to define your reading target, though, \r\n>   as formatting
    of a novel is quite different than that of, say, \r\n>   a programmer\u2019s guide
    to Perl (to name a random scientific text).\r\n\r\nwelcome to the world of e-book
    application programming.\r\n\r\nnobody said it was going to be easy.\r\n\r\n\r\n>
    \  I\u2019m merely trying to fathom what you are hoping to accomplish.\r\n\r\ni'm
    seeking feedback on my tests of some strategies to eliminate\r\nloose lines obtained
    during justification _without_ hyphenation.\r\n\r\nsome people -- like you --
    want to keep dragging hyphenation in...\r\n\r\n\r\n>   If your target is _current_
    software and hardware, \r\n>   you have no other choice than to opt for text only.
    \r\n>   No justification, no hyphenation. \r\n>   And do all pocket readers even
    support italic text?\r\n\r\ni wish i would have realized from the very beginning
    that you\r\nhave absolutely no experience with what you're talking about.\r\n\r\nthe
    kindle and the sony reader and _many_ iphone apps offer\r\njustification.  only
    a couple iphone apps offer any hyphenation,\r\nand you wouldn't be all that impressed
    with their performance.\r\n\r\nif you want to read more on these issues, take
    a look here:\r\n>   http://www.futureofthebook.org/blog/archives/2009/02/why_is_text_on_screens_so_ugly.html\r\n\r\ni'm
    not sure i've ever seen any e-book program that did _not_\r\noffer styled text.
    \ even if there was one, readers wouldn't use it.\r\n\r\n-bowerbird\r\n\r\n"
  created: '2009-03-16 07:28:01'
- author:
    name: Theunis de Jong
    picture: 114717
  body: "(While I'm pondering your other points:)\r\n\r\n<cite>only a couple iphone
    apps offer any hyphenation,\r\nand you wouldn\u2019t be all that impressed with
    their performance.</cite>\r\n\r\n... is the reason I'm suggesting inserting hyphens
    into the data files. There is no reason at all the reader device should be <strong>able</strong>
    to hyphenate -- it should display text. Performance can be as low as economically
    possible.\r\n\r\nAnd yes, I admit, it means data files should be prepared before
    reading. It means that you cannot download any Project Gutenberg text and automatically
    expect the best possible reading experience -- but I doubt people are realistically
    expecting this right now.\r\n\r\nOr, for that matter, that it's even <em>possible</em>
    using fully automatic software; an example that springs to mind is automated translation
    of straight to curly quotes. See the mishaps of SmartyPants ('cause 'no we can't')."
  created: '2009-03-16 11:13:54'
- author:
    name: bowerbird
    picture: 116972
  body: "theunis said:\r\n>   is the reason I\u2019m suggesting inserting hyphens
    into the data files.\r\n\r\nbut, once again i say, that's not where the time-bottleneck
    is.\r\n\r\nwhen you know exactly what word needs to be hyphenated,\r\nit's not
    time-consuming to find the word in a look-up table.\r\n\r\n(preinsertion might
    not save _any_ time, whole-picture-wise,\r\nbecause you will need to delete all
    the unnecessary hyphens.)\r\n\r\nthe time-bottleneck comes from paginating the
    entire book...\r\n\r\nnote that your inexperience here is starting to test my
    patience;\r\nyou need working code if you want to make a convincing point.\r\n\r\n\r\n>
    \  There is no reason at all the reader device should be able \r\n>   to hyphenate
    \u2014 it should display text.\r\n\r\nagain, if you want preformatting, then it
    gets even more hairy,\r\nbecause you then need additional buy-in for the preformatting.\r\n\r\nso,
    in addition to working code, you need charisma as well...\r\n\r\n\r\n>   And yes,
    I admit, it means data files should be prepared\r\n\r\nright.  and that has ramifications
    that go beyond working code.\r\nbut for now, it would be good enough to deliver
    working code...\r\n\r\n\r\n>   It means that you cannot download any Project Gutenberg
    text \r\n>   and automatically expect the best possible reading experience \r\n>
    \  \u2014 but I doubt people are realistically expecting this right now.\r\n\r\nthat
    happens to be the exact goal i had when i started this work.\r\n\r\nand i was
    expecting that preformatting would be a requirement.\r\n(and -- since i was willing
    to do that preformatting by myself --\r\ni had the necessary buy-in.)\r\n\r\nand
    i found that the job _can_ be done without preformatting.\r\n\r\nnot with project
    gutenberg e-texts per se, because they have\r\ntons of inconsistencies.  but if
    they had been properly prepared\r\n-- by which i mean they had merely followed
    their own rules --\r\ni would indeed be able to download them and run them _as_is_.\r\n\r\nso
    now, instead of \"preformatting\" them, i'm merely making them\r\n_consistent_,
    which is a much smaller burden, largely automatic...\r\n\r\n\r\n>   Or, for that
    matter, that it\u2019s even possible using fully automatic \r\n>   software; an
    example that springs to mind is automated translation \r\n>   of straight to curly
    quotes. See the mishaps of SmartyPants \r\n>   (\u2019cause \u2019no we can\u2019t\u2019).\r\n\r\nsmartypants
    isn't quite as smart as it could be.\r\n\r\nbut that's all beside the point, because
    even with preformatting,\r\nyou can't get the performance you need if you do hyphenation...\r\n\r\nor
    maybe _you_ can, but you'll need to show me the working code.\r\n\r\n-bowerbird\r\n\r\n"
  created: '2009-03-16 20:04:59'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>...the mishaps of SmartyPants (\u2019cause \u2019no we can\u2019t\u2019).</em>\r\n\r\nSmartyPants
    is configured at Typophile to work with North American quote marks/apostrophes,
    not the UK system:\r\n('cause \"no we can't\"). \r\n\r\nStraight-to-curly quote
    software that worked with the UK system would require some kind of grammatical+dictionary
    intelligence to determine the difference between a single left quote and an apostrophe.\r\n\r\n"
  created: '2009-03-16 20:39:52'
- author:
    name: bowerbird
    picture: 116972
  body: "here's one that i seem to have forgotten to post.\r\n\r\nand since it's _relevant_
    to the actual _topic_ here...\r\n\r\nit's a reply to the comment from theunis
    where he\r\ngave sample output from his hyphenation routine,\r\nthe comment dated
    14 march, timestamp 5:57pm.\r\nit's the comment that contains the little screenshot.\r\n\r\n***\r\n\r\noh-oh.
    \ better watch out.           :+)\r\n\r\nif you think i can talk a lot at a _general_
    level,\r\ndon't get me started with _specific_ examples...\r\n\r\nbelow are 6
    different takes, using _your_ text...\r\n\r\nno hyphenation, just different breaks
    of the lines.\r\nand, for a few, some extremely slight re-writes...\r\n\r\nyou
    might consider rewrites to be \"unfair\".  if so,\r\nthen your point boils down
    to the statement that,\r\nfor any piece of text, wrapping it to various widths\r\nmight
    lead to loose lines for some of those widths.\r\n\r\nbut nobody is arguing that
    statement.  _nobody._\r\nleast of all _me_.  but really, nobody in the world.\r\nbecause
    it's bloody obvious.  all you have to do is\r\nimagine constructions consisting
    of numerious\r\nconsecutive multi-syllabic sequential monstrosities\r\nmasquerading
    as meaningful meanderings, without\r\nintroducing many shorter words therein so
    as to give\r\nthe break routines some flexibility with which to work.\r\nheck,
    most of the time, three (and sometimes just two)\r\nlong words in a row is enough
    to cause you problems.\r\n(or even one word, if it's _ubersetzenseehafenstadt_.)\r\n\r\nso
    if one loose line on a page, or even two or three,\r\nis enough to upset your
    frail sensibilities, then yes,\r\nyou will undoubtedly have to resort to hyphenation,\r\nif
    you want justification, or use ragged-right instead.\r\n\r\nbut the people who
    _want_ justification will generally\r\nbe willing to put up with _some_ loose
    lines to get it,\r\nif that's what it takes.  and they'll likely prefer _that_\r\nover
    the other option -- long waits for hyphenation...\r\n\r\nin addition, if you also
    give them a convenient toggle\r\nfor the justification, thereby allowing a quick
    and easy\r\nswitch-over to ragged-right when the loose lines on\r\na specific
    page get to be too much for them to handle,\r\nwith a quick-and-easy switch-back
    on the next page,\r\ni think you've got the solution they will come to prefer.\r\n(even
    if it was not \"optimal\" in some theoretical sense.)\r\n\r\nit's a balancing
    act...\r\n\r\n***\r\n\r\nalso, getting back to your example, under my rules,\r\nthere's
    only _one_ set of breaks that _must_ be tight\r\n-- the author's linebreaks on
    the \"canonical\" version.\r\n\r\nin other words, in my workflow, the _author_
    does the\r\nline-breaks, so thus is right there to rewrite if needed.\r\n\r\n(the
    publisher has been disintermediated, thank god.)\r\n\r\nso if the linebreaks on
    the \"canonical\" version are tight,\r\nthat's all readers expect.  they know
    full well that if they\r\nrewrap to some other width, there might be loose lines.\r\nthat's
    life.\r\n\r\n-bowerbird\r\n\r\np.s.  some possible reworkings of your paragraph...\r\n\r\nhe
    was born graf heinrich karl wilheim otto friedrich \r\nvon ubersetzenseehafenstadt,
    but changed his name \r\nto nigel st. john gloamthorpby, a.k.a. lord woadmire,
    \r\nin 1914. in his photograph, he looks every inch a von \r\nubersetzenseehafenstadt,
    and he is entirely free of the \r\ncranial geometry problem so evident in the
    older portraits. \r\nlord woadmire is not related to the original ducal line of
    \r\nqwghlm, the moore family (anglicized from the qwghlmian \r\nclan name mnyhrrgh)
    which had been terminated in 1888 \r\nby a spectactularly improbable combination
    of schistosomiasis, \r\nsuicide, long-festering crimean war wounds, ball lightning,
    \r\nflawed cannon, falls from horses, improperly canned oysters, \r\nand rogue
    waves.\r\n\r\nhe was born graf heinrich karl wilheim otto friedrich \r\nvon ubersetzenseehafenstadt,
    but changed his name \r\nto nigel st. john gloamthorpby, a.k.a. lord woadmire,
    \r\nin 1914. in his photograph, he looks every inch a von \r\nubersetzenseehafenstadt,
    and he is entirely free of the \r\ncranial geometry problem so evident in the
    older portraits. \r\nlord woadmire is not related to the original ducal line of
    \r\nqwghlm, the moore family (anglicized from the qwghlmian \r\nclan name mnyhrrgh)
    which was terminated in 1888 by a\r\nspectactularly improbable combination of
    schistosomiasis, \r\nsuicide, long-festering crimean war wounds, ball lightning,
    \r\nflawed cannon, falls from horses, improperly canned oysters, \r\nand rogue
    waves.\r\n\r\nhe was born graf heinrich karl wilheim otto friedrich von \r\nubersetzenseehafenstadt,
    but changed his name to nigel\r\nst. john gloamthorpby, a.k.a. lord woadmire,
    in 1914. in his \r\nphoto, he looks every inch a von ubersetzenseehafenstadt,
    \r\nand he is entirely free of the cranial geometry problem so \r\nevident in
    the older portraits. lord woadmire is not related\r\nto the original ducal line
    of qwghlm, the moore family \r\n(anglicized from the qwghlmian clan name mnyhrrgh)
    which\r\nhad been terminated in 1888 by a spectactularly improbable \r\ncombination
    of schistosomiasis, suicide, long-festering \r\ncrimean war wounds, ball lightning,
    flawed cannon, falls \r\nfrom horses, improperly canned oysters, and rogue waves.\r\n\r\nhe
    was born graf heinrich karl wilheim otto friedrich von \r\nubersetzenseehafenstadt,
    but changed his name to nigel\r\nst. john gloamthorpby, a.k.a. lord woadmire,
    in 1914. in his \r\nphoto, he looks every inch a von ubersetzenseehafenstadt,
    \r\nand he is entirely free of the cranial geometry problem so \r\nevident in
    the older portraits. lord woadmire is not related\r\nto the original ducal line
    of qwghlm, the moore family \r\n(anglicized from the qwghlmian clan name mnyhrrgh)
    \r\nwhich had been terminated in 1888 by a spectactularly \r\nimprobable combination
    of schistosomiasis, suicide, \r\nlong-festering, crimean war wounds, ball lightning,
    flawed \r\ncannon, falls from horses, improperly canned oysters, and \r\nrogue
    waves.\r\n\r\nhe was born graf heinrich karl wilheim otto friedrich von \r\nubersetzenseehafenstadt,
    but changed his name to nigel\r\nst. john gloamthorpby, a.k.a. lord woadmire,
    in 1914. in his \r\nphoto, he looks every inch a von ubersetzenseehafenstadt,
    \r\nand he is entirely free of the cranial geometry problem so \r\nevident in
    the older portraits. lord woadmire is not related\r\nto the original ducal line
    of qwghlm, the moore family \r\n(anglicized from the qwghlmian clan name mnyhrrgh)
    \r\nwhich had been terminated in 1888 by a spectactularly \r\nimprobable combination
    of schistosomiasis, suicide, \r\nlong-festering, crimean war wounds, ball lightning,
    \r\nflawed cannon, falls from horses, improperly canned \r\noysters, and rogue
    waves.\r\n\r\nhe was born graf heinrich karl wilheim otto friedrich \r\nvon ubersetzenseehafenstadt,
    but changed his name \r\nto nigel st. john gloamthorpby, a.k.a. lord woadmire,
    \r\nin 1914. in his  photograph, he looks every inch a von \r\nubersetzenseehafenstadt,
    and he is entirely free of \r\nthe cranial geometry problem so evident in the
    older \r\nportraits. lord woadmire is not related to the original \r\nducal line
    of qwghlm, the moore family (anglicized \r\nfrom the qwghlmian clan name mnyhrrgh)
    \ which had \r\nbeen terminated in 1888 by a spectactularly improbable \r\ncombination
    of schistosomiasis, suicide, long-festering, \r\ncrimean war wounds, ball lightning,
    flawed cannon, falls \r\nfrom horses, improperly canned oysters, and rogue waves.\r\n\r\n"
  created: '2009-03-16 20:42:04'
- author:
    name: Theunis de Jong
    picture: 114717
  body: "Well, I'm working on it :-)\r\n\r\nNick:\r\n<cite>...some kind of grammatical+dictionary
    intelligence to determine the difference between a single left quote and an apostrophe...</cite>\r\n\r\nSure.
    I tried to come up with a sentence containing both <em>'cause</em> and <em>cause</em>
    to illustrate that. (No luck, on such a short run -- sorry, I'm not a native.
    Couldn't find a good use for <em>'twixt</em> either.)\r\n\r\nAs for bowerbird
    (apologies for changing the order around), returning to hyphenation code just
    this once more:\r\n\r\n<cite>..you need working code if you want to make a convincing
    point...</cite>\r\n\r\npreceded by\r\n\r\n<cite>.. preinsertion might not save
    _any_ time, whole-picture-wise, because you will need to delete all the unnecessary
    hyphens.</cite>\r\n\r\nMy code--existing on my hard disk and all--<em>does</em>
    finds breaking points. A test routine actually inserts them--so I can verify if
    they're correct. <em>However:</em> inserting them physically into the text, checking
    lengths, then removing extraneous ones before blitting to screen, is totally redundant.
    The breaking code returns breaking points, offset from the start of the word.
    The pragraph breaking routine expects lengths and widths of words and/or fragments;
    not the actual <em>words</em>. Only when drawn to the screen, the characters are
    called up from memory. This separates 'formatting' (= line breaking) nicely from
    'drawing'.\r\n\r\nThe good news is I'm taking the same approach as you are on
    the un-/badly formatted Gutenberg texts: preprocessing them makes it all a bit
    tidier.\r\nBut it seems our targets diverge from there. Oh well.\r\n\r\nIf you're
    interested in 'the very best line breaking' for any width, you should (indeed,
    perhaps you already have) take a look at Knuth/Plass line breaking. A good introduction
    for me was [[http://defoe.sourceforge.net/folio/knuth-plass.html|this primer text]].
    The example shown uses hyphenation, but the general algorithm works just as well
    without, which is a pretty important point for you. You can't get any better than
    that."
  created: '2009-03-16 22:33:53'
- author:
    name: BruceS63
    picture: 111542
  body: "\"Brevity is the soul of wit.\" Not to mention, intelligence.\r\n\r\n\r\n-------------------------------------\r\n<em>Inventor
    of the DVD rewinder</em>"
  created: '2009-03-16 22:58:18'
- author:
    name: Theunis de Jong
    picture: 114717
  body: "Such a counterpart shall fame his wit.\r\n\r\nI'd suggest \"Thine Enmity's
    most Capital\" -- perhaps looking better in all lowercase."
  created: '2009-03-16 23:40:01'
- author:
    name: bowerbird
    picture: 116972
  body: "theunis said:\r\n>   Well, I\u2019m working on it :-)\r\n\r\nand, as i said
    from the outset, i look forward to seeing it.       :+)\r\n\r\n***\r\n\r\n>   I
    tried to come up with a sentence containing \r\n>   both _\u2019cause_ and _cause_
    to illustrate that.\r\n\r\nthe occasional exception won't really invalidate results
    that\r\nare completely correct in the vast majority of cases, though.\r\n\r\nif
    you want to discuss curly-quote conversion, start a thread,\r\nand i'll be happy
    to share the results of my experimentation.\r\n\r\n***\r\n\r\n>   My code\u2014existing
    on my hard disk and all\u2014 _does_\r\n>   finds breaking points. A test routine
    actually inserts them\r\n>   \u2014 so I can verify if they\u2019re correct. \r\n\r\njust
    a quick note here to say that i don't need to _see_ your code.\r\nin fact, if
    it's novel at all, i would suggest you keep it under wraps.\r\n\r\ni just need
    to see it in action.  compile a program that i can run.\r\ni'm on mac, but i'll
    find a windows box if that's all you can make.\r\n\r\n\r\n>   _However:_ inserting
    them physically into the text, \r\n>   checking lengths, then removing extraneous
    ones \r\n>   before blitting to screen, is totally redundant.\r\n\r\nwell, i would've
    sworn you mentioned preinsertion up above.\r\nbut if you now contend \"preformatting\"
    involves something\r\ndifferent than that, i will accept that.  you can set whatever\r\nconditions
    you want.  whether people _buy_ them or not is a\r\ndifferent story, but for our
    purposes here, whatever you say.\r\n\r\n\r\n>   The breaking code returns breaking
    points, offset from \r\n>   the start of the word. The pragraph breaking routine
    \r\n>   expects lengths and widths of words and/or fragments; \r\n>   not the
    actual _words._\r\n\r\nok, that's another way that people have attacked this issue,
    yes.\r\n\r\nthe problem with that, as you might or might not know, is that\r\nin
    order to know \"the lengths and widths\" of those fragments,\r\nyou need their
    font and fontsize.  but one important aspect of\r\nelectronic-books is that the
    end-user sets the font and the size.\r\nthe user also sets the size of the viewport,
    another consideration.\r\nin the more sophisticated programs, the user might also
    control\r\nother aspects that affect layout, such as the position and size of\r\npictures
    and other graphic elements (e.g., space around callouts).\r\n\r\nsome e-book programs
    try to \"finesse\" this problem by giving\r\nthe user a small number of font-sizes
    -- the kindle gives you 4,\r\nor maybe it's 6, if memory serves correctly, and
    they only offer\r\n1 or 2 fonts -- so they can compute the widths for all the
    sizes.\r\n\r\nbut that kind of constraint will _not_ be tenable in the long run.\r\ne-book
    end-users _expect_ that they can use any font they want,\r\nand they _expect_
    that they can make that font any size they like.\r\n\r\n(and yeah, you can scale
    the numbers, but then you've moved to\r\ndouble-math instead of integer-math,
    and that means it's slower.)\r\n\r\n\r\n>   If you\u2019re interested in \u2019the
    very best line breaking\u2019 for any width\r\n\r\num, no, that's the very thing
    we've been discussing all along...\r\n\r\nthe situation has scarce resources and
    a real-time requirement,\r\nso i'm looking for the best _possible_ line-break
    routines that\r\n_meet_ those requirements.  it's all about living with constraints.\r\n\r\n\r\n>
    \  If you\u2019re interested in \u2019the very best line breaking\u2019 for any
    width, \r\n>   you should (indeed, perhaps you already have) take a look at \r\n>
    \  Knuth/Plass line breaking. \r\n\r\ni've looked at it.  i've studied it.  it
    cannot meet the requirements,\r\nas far as i can see...  so i use simpler routines
    that give me breaks\r\nthat are _almost_ as good, in _most_ situations_, and i
    move on...\r\n\r\n\r\n>   The example shown uses hyphenation, but the general
    algorithm \r\n>   works just as well without, which is a pretty important point
    for you. \r\n>   You can\u2019t get any better than that.\r\n\r\nno, but you can
    get _almost_ as good, and do the job a _lot_ faster,\r\nwhich happens to be the
    superior solution in this particular situation.\r\n\r\nfor instance, was there
    anything wrong with the breaks i gave above,\r\non your actual text?  the rag
    looked pretty good, at least to my eyes.\r\n\r\n-bowerbird\r\n\r\n"
  created: '2009-03-17 01:23:04'
- author:
    name: paragraph
  body: "If there ever comes a time\r\nto pluck the bowerbird,\r\nit ought to be done
    well,\r\nso it stays plucked."
  created: '2009-03-17 04:57:22'
- author:
    name: joeclark
    picture: 110605
  body: "<ul><li>CSS controls whitespace, among many other things, as you should know
    by now.</li>\r\n<li>No matter how you do it, you\u2019re going to have to improve
    your HTML and PDF semantics, even if that means throwing out your existing infrastructure
    and starting from scratch.</li>\r\n<li><code>html lang=\"en-US\"</code> (or any
    ISO language code optionally with extension)</li>\r\n<li>I do too much volunteer
    work as it is.</li>\r\n</ul>\r\n\r\nWe would appreciate it if you stopped using
    so many hard returns in your postings here. Two returns after a paragraph are
    more than enough.\r\n\r\n\u2014  \r\nJoe Clark\r\nhttp://joeclark.org/"
  created: '2009-03-29 21:29:56'
- author:
    name: bowerbird
    picture: 116972
  body: "joe said:\r\n>   No matter how you do it, you\u2019re going to \r\n>   have
    to improve your HTML and PDF semantics, \r\n>   even if that means throwing out
    your existing infrastructure\r\n\r\nas i said, it's simply a matter of rewriting
    the template,\r\nand when my users do that task, i'll happily update it...\r\n\r\nbecause
    if i don't have any users who _want_ this done,\r\nor any users at all, there's
    no need for me to do it myself.\r\n\r\ni suspect, however, that when you say i
    \"have to\" do this,\r\nwhat you're really saying is that if i want my output
    to be\r\naccessible, that's what i'd \"have to\" do.\r\n\r\nmy answer is that
    i _do_ want my output to be accessible,\r\nbut that accessibility will be a product
    of my z.m.l. format\r\nwith its viewer-program, _not_ the .html or .pdf formats...\r\n\r\nas
    far as i'm concerned, .html and .pdf are legacy formats;\r\nthey'll be replaced
    by some light-markup format like mine.\r\nbut this, of course, is another conversation
    for another day.\r\n\r\n\r\n>   I do too much volunteer work as it is.\r\n\r\nthanks
    for your feedback...\r\n\r\n-bowerbird\r\n\r\n"
  created: '2009-03-29 23:29:59'
date: '2009-03-12 21:33:56'
node_type: forum
title: now that we've exchanged pleasantries

---
