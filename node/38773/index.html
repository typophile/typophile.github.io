<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Fontlab Opentype Class Kerning | Typophile Archive</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content>
<meta name=generator content="Hugo 0.91.2">
<meta name=robots content="noindex, nofollow">
<link href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3 crossorigin=anonymous>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js integrity=sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p crossorigin=anonymous></script>
<meta property="og:title" content="Fontlab Opentype Class Kerning">
<meta property="og:description" content>
<meta property="og:type" content="article">
<meta property="og:url" content="http://typophile.github.io/node/38773/"><meta property="article:section" content="node">
<meta property="article:published_time" content="2007-11-03T18:52:55+00:00">
<meta property="article:modified_time" content="2007-11-03T18:52:55+00:00">
<meta itemprop=name content="Fontlab Opentype Class Kerning">
<meta itemprop=description content><meta itemprop=datePublished content="2007-11-03T18:52:55+00:00">
<meta itemprop=dateModified content="2007-11-03T18:52:55+00:00">
<meta itemprop=wordCount content="0">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="Fontlab Opentype Class Kerning">
<meta name=twitter:description content>
</head>
<body class="ma0 avenir bg-near-white">
<header>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
<div class=container>
<a class=navbar-brand href=/>Typophile Archive</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
</div>
</nav>
</header>
<main class=pb7 role=main>
<article class=container>
<header class="post-header py-3">
<h1 class="post-title p-name" itemprop="name headline">Fontlab Opentype Class Kerning</h1>
<p class=text-muted>
<time class="f6 mv4 dib tracked" datetime=2007-11-03T18:52:55Z>November 3, 2007</time>
• <span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Gus</span></span>
</p>
</header>
<div class="post-content e-content" itemprop=articleBody>Hi,
Might as well say Hi, as I just registered. I have only been reading here previously. My Name is Gustaf, currently Studying my last year on a BA Graphic Design course in the Uk.
To my question;
I am producing an Opentype typeface as a part of a University Project using FontLab 5 for Win. As I have come to set kerning for it, iv run into some trouble. From some reading, as I understand it, class based kerning is the better alternative and then complimenting with pairs for those which does not fit in a class with any other. I created a few classes manually with a few glyphs each. I understand that it should be done via the OpenType window but not sure how.
<code>feature xxxx {
sub by ;
} xxxx;</code>
Get how to add that, and that the feature should be kern, but not how to set the actual kerning between the different classes. Is the a full list of the Opentype feature tags with how they are used anywhere? How do I set the opentype kerning of single pairs as a compliment to the classes?
Thanks in advance.
// Gustaf</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Make sure "class kerning" is selected in the Metrics panel window.
Windows>Panels>Classes, and make a kerning class, eg "o". Say it includes o' and c.
Now in the Metrics window, kern between T and o.
Automatically, the same value is applied to T and c.
Tools>Kerning Assistance>Update will turn both your individual and class kerns into a "kern" feature.
Windows>Panels>OpenType and see.
nb, the quirk is, you need at least one other Feature for OT kerning to work in a font. </div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-03 19:11:00" itemprop=datePublished>
2007-11-03 19:11:00
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Nick Shinn</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Okay I think I am a bit more in the right direction.
I made a class like this (Like page 588 in the manual):
<code>_A: A' Agrave Aacute Acircumflex Atilde Adieresis Aring</code>
In the metrics window for kerning I set A A 400 just to make it easy to see.
Then > Generate kern feature
Opentype window:
<code>feature kern {
subtable;
pos @_A @_A 400;
} kern;</code>
So far it looks all good, shows up correctly with 400 space in metrics and preview window. Then Export Font > OpenType PS. But then when I attempt to use it in t.ex. Photoshop CS2, it does not give me anything new. The AA glyphs still overlap at the bottom.
Is this an issue with just Photoshop CS2 and Opentype? I assumed it would be new enough to handle it.
// Gus
<cite>nb, the quirk is, you need at least one other Feature for OT kerning to work in a font.</cite>
??
I was reading some here, but it didnt really help me that much.. reading the last 3 comments. http://www.typophile.com/node/17113</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-03 22:14:55" itemprop=datePublished>
2007-11-03 22:14:55
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Gus</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>I think he means that you need another, different OT feature in your font, for OT kerning to work?
Btw, isn't there somesort of tutorial somewhere? I can sort off make classes, but when I add kerning between two key glyphs, I can't get it to apply that same kerning to all child glyphs...</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-04 02:11:34" itemprop=datePublished>
2007-11-04 02:11:34
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Quincunx</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>This one answers your main question about the "other" feature:
<a href=http://typophile.com/node/32929 target=_blank>http://typophile.com/node/32929</a>
Right from the start, you should set up separate classes for the left and right side, and attach "_1ST" to the class which will be leftside of a pair, and "_2ST" to the class which will be rightside of a pair. In a feature, the result would look like this:
&nbsp;&nbsp;&nbsp;pos @_A_1ST @_A_2ND 20;
This makes sure that you don't run into subtable break error messages.
Google a bit with "kerning site:typophile.com" or "class kerning site:typophile.com" as search string -- there have been some threads on class based kerning which cover most issues that one may run into. Some for a start:
This thread contains a collection of links to other class kerning threads (as of August 2006):
<a href=http://typophile.com/node/27424#comment-151733 target=_blank>http://typophile.com/node/27424#comment-151733</a>
And some more recent ones, but no really new information:
<a href=http://typophile.com/node/30567 target=_blank>http://typophile.com/node/30567</a>
<a href=http://typophile.com/node/33284 target=_blank>http://typophile.com/node/33284</a>
<a href=http://typophile.com/node/34109 target=_blank>http://typophile.com/node/34109</a>
</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-04 02:43:58" itemprop=datePublished>
2007-11-04 02:43:58
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>k.l.</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody><em>Right from the start, you should set up separate classes for the left and right side, and attach ... This makes sure that you don’t run into subtable break error messages.</em>
Are subtable breaks errors?
If that is the case, why does FontLab allow a class to be "active" on both sides?</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-04 23:05:14" itemprop=datePublished>
2007-11-04 23:05:14
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Nick Shinn</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>> <em>Are subtable breaks errors?</em>
No. What Karsten was referring to is the infamous <code>Start of new pair positioning subtable; some pairs may never be accessed: ...</code> error. An example here: http://typophile.com/node/37959
> <em>If that is the case, why does FontLab allow a class to be “active” on both sides?</em>
There's no problem with using the same class on both sides, but that increases your chances of running into the subtable error above, specially if you're working on a font with a large character set.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-04 23:55:10" itemprop=datePublished>
2007-11-04 23:55:10
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Miguel Sousa</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Right Miguel, as you say in that thread, "...each glyph should only be included in one left kern class, and one right kern class, maximum."
However, there is no problem with including different characters in a "both sides" class, if their left sides all have similar kerning behaviour, and their right sides all have similar kerning behaviour. For instance:
<code>O' Q
hyphen' endash emdash
period' comma ellipsis
quoteright' quotedblright</code>
and of course
<code>A' Adieresis Aring Agrave Atilde Acircumflex Aacute Amacron Aogonek Abreve</code>
</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-05 05:52:26" itemprop=datePublished>
2007-11-05 05:52:26
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Nick Shinn</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>> <em>However, there is no problem with including different characters in a “both sides” class</em>
I agree, and it's very tempting to make only one class — which will be used on both sides — for glyphs that are symmetrical, such as 'A', 'T' or 'V'. But things can get out of control pretty quickly if your glyphset contains an 'AE' glyph or a 'T_h' ligature, for example. In this case, if you don't separate those "both sides" classes it's likely you're going to have a bad time...
My point is, although it might sound like it's more work if one has to explicitly create left and right classes, that extra effort may in the end payoff, as it helps keeping you away from class kerning errors. And if you run into one of those, it will be easier to find the problem, IMO.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-05 08:53:33" itemprop=datePublished>
2007-11-05 08:53:33
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Miguel Sousa</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>K.L. -- <cite>that you don’t run into subtable break error messages</cite>
M.S. -- <cite>What Karsten was referring to is the infamous "Start of new pair positioning subtable; ..."</cite>
Yes, that's it. Thank you, Miguel, for providing the background!
Nick, yes: For my fonts, I strictly set up classes as either leftside or rightside classes in FLS, even if some leftside and rightside classes share the same set of glyphs -- and upon generating fonts I automatically "merge" classes with identical content into a single class. This may illustrate that the separation helps avoid (or track down) errors during production <cite>but is not at all a requirement as regards OT fonts.</cite>
I thought it's better to mention this trick right away since I anticipated that "Start of new pair positioning subtable" would be next weeks thread.&nbsp;&nbsp;;-)
Let me also point to the AFDKO2's FLS script for generating the kern feature. It does a better job than FLS5's "Update kern feature" function (though the difference may become evident only with larger or heavily kerned fonts).
Karsten</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-05 11:10:52" itemprop=datePublished>
2007-11-05 11:10:52
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>k.l.</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>2nd feature: "liga"
<code>sub f i by fi;</code>
That's all it needs.
Apparently, Kern can't get into the club unless accompanied by an adult.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-05 20:38:26" itemprop=datePublished>
2007-11-05 20:38:26
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Nick Shinn</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Okay, im getting there.
So each glyph can appear in both a left class and a right class.
When I set up a class, does the width of the glyph matter? Or would N and I go into the same left class as they have identical sides?
This other OT feature required im still not ok with, like i'd need,
<code>liga (
sub aring by aring;
) liga;</code>
Would I have one like that for earch glyph? class?
And i get this, <code>[FATAL] <five> expecting EOF (text was "liga")</code>
When it put it into a new window in the opentype panel, it just stays as xxxx and doesnt change its name like kern did, reason?
//Gustaf</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-05 20:42:06" itemprop=datePublished>
2007-11-05 20:42:06
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Gus</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>In passing:
I wouldn't have a class with "quoteleft" and "quotedblleft" as members. Too many times when you want to do something with one, but not the other -- or the opposite with the other -- for example, kern (negative) two successive quotelefts, but postive kern the string "quoteleft" quotedblleft", "quotedblleft" "quoteleft" and, "quotedblleft" "quoteright."
"Comma" and "peroid" are another favorite class that probably shouldn't be made. If you do this, compromises will abound. In fact, major punctuation probably shouldn't be combined for good kerning, though it is tempting.
With vowels, watch combining grave accents with the basic vowel, or be prepared for a lot of exceptions -- "f" "agrave" usually won't take a negative kern -- in fact, a lot of pairs that normally take a negative kern get gefuched with an accented vowel.
I'm probably one of the few people here who is not a fan of class-based kerning. It can be helpful, just don't make establishing large classes to get the fewest number of kerning commands a goal. Back in the 1985 or so, our first PC version of TeX would only allow about 100 kerning/ligaturing commands (I forget the actual number). However, within a command, you could group characters -- sort of an early "class kerning." I was very happy when we got Y&Y TeX and I could use straight pairs kerning . . . </div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-05 22:59:01" itemprop=datePublished>
2007-11-05 22:59:01
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>charles ellertson</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>You forgot the "feature" in the first line:
<code>feature liga {
&nbsp;&nbsp;&nbsp;sub aring by aring;
} liga;</code>
The width of glyphs does not matter. What matters in kerning classes is the leftside and/or rightside shape of letters. (So, if you do a serif type and the 'I' has a serif bottom right while the 'N' does not, then you may consider using different classes. In a sans they can be in the same class. It is a design decision.)
[Edit: Hello Charles! These are indeed tricky cases and require exceptions when using class kerning.]</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-05 23:04:51" itemprop=datePublished>
2007-11-05 23:04:51
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>k.l.</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Marking
ChrisL</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-06 00:02:58" itemprop=datePublished>
2007-11-06 00:02:58
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>dezcom</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Okay Thanks.
My typeface is a Geometric SansSerif.
The classes do make it a bit confusing i must say. I wouldnt really mind going through the different combinations that I could make and set the kerning per pair, but it would be a lot of pairs, and not so good for the opentype, right?
Are there any classes tables for known typefaces out there that I could have a look at to see what has been grouped together and so?
Thanks all of you for helping out!
//Gus</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-06 00:09:03" itemprop=datePublished>
2007-11-06 00:09:03
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Gus</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Well, if you have a normal amount of glyphs, kerning it per pair isn't too bad. At least, I don't think it is.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-06 01:37:39" itemprop=datePublished>
2007-11-06 01:37:39
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Quincunx</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody><em>kern (negative) two successive quotelefts</em>
Charles, when do two successive quotelefts occur in text?
<em>“Comma” and “peroid” are another favorite class that probably shouldn’t be made.</em>
I don't see why not. The only place that period and comma may differ is following a double-bowl g, or maybe an ogonek-accented character, but those are the characters I would always design the comma to fit with anyway, not solve lax design with a kern.
In general, too much kerning is detrimental, but one wants to be able to handle the fundamental letter-punctuation kerns (P, T, V, W, Y, f, r, v, w, y) in a straightforward and efficient manner.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-06 04:53:21" itemprop=datePublished>
2007-11-06 04:53:21
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Nick Shinn</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Nick,
Well, I've been know to use two single quotes kerned, back in the days when digital fonts were proprietary, (like Linotron 202), when (1) you couldn't get at the characters themselves, and (2) the spacing between the quotes in a double quote wasn't what you liked. Just about every 202 font was that way . . .
I know. Now is different. Except it is still hard for most typesetters to get at the characters to fix them; a bit easier to get a third-party kerning program . . .
As to commas & periods, well, they take their space from the flow of the text, adding time as needed. They are also found in numbers (e.g., 17,421.76); abbreviations, U.S.A., D.C., G.E.M. Amscombe; etc. I'll confess I usually make up tabular commas and periods, but the other uses are kerned depending on the type of work one most often does. I often kern a quotedblright differently following a period than a comma; I suppose it depends on the sidebearings, but they aren't always (or shouldn't be) the same.
I agree you can do pretty good with "class-based kerning with exceptions." It is just very hard to go back later and rework such kerning, and I'm not good enough to get it exactly right the first time.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-06 22:37:58" itemprop=datePublished>
2007-11-06 22:37:58
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>charles ellertson</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody><em>I’ll confess I usually make up tabular commas and periods</em>
Interesting. So those would be the same width as tabular figures?
Could I include them in the OpenType tabular figure features?
(But only if the default is proportional.)
<em>I often kern a quotedblright differently following a period than a comma</em>
Can you post an example?</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-07 00:40:00" itemprop=datePublished>
2007-11-07 00:40:00
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Nick Shinn</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Nick,
I don't make tabular commas and periods the full width of the figures. Usually around 3/5ths. For not too good reasons, I make them both the same setwidth. I fiddle with the sidebearings (& even the set) in the metrics window, so that both the comma & period look OK with all numeric combinations. Yes, I swap them in with the "tabular" feature. I also set U+2008 to that width -- even with InDesign's table features, I sometimes find padding a single entry the fastest way to decimal align a column.
I also try to make the tabular figures all have the same setwidth, lining and oldstyle, in both roman & italic & even bold, as all will come up in a table from time to time. A number of fonts have a different setwidth for tablular numbers in roman than in italic. Makes for a mess.
BTW, for a number of fonts, I also make up both lining and oldstyle arithmetic operators (plus, minus, equal, multiply, divide, greater, less), and occasionally currency symbols, (dollar, sterling). These are switched with the lining/oldstyle feature. A few fonts also need a lining/oldstyle endash, though at some point you get absurd, because emdashes & endashes should have the same height, and work with lower-case letters to boot.
Since the fonts I work on are only used with InDesign, I have far fewer things to worry about than a font designer worrying about multiple applications programs.
Someday though, it would be fun (maybe in the Design Forum?) to go over a list of niceties for fonts to be used only for, or essentially for, long texts, such as books.
Oh, we got in a new journal yesterday, which used Franklin Gothic Heavy in some display elements. I kerned "comma" "quotedblright" -130; "period" "quotedblright" -100. I'll allow that a single compromise value would likely be OK in this case, but in other, text fonts, I'd take more control over the sidebearings & thus the kerning.

FWIW</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-07 21:52:01" itemprop=datePublished>
2007-11-07 21:52:01
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>charles ellertson</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>>Someday though, it would be fun (maybe in the Design Forum?) to go over a list of niceties for fonts to be used only for, or essentially for, long texts, such as books.
I would love to see your list, Charles! Do favor us with it, if you've got the time to put it down. </div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2007-11-07 22:56:58" itemprop=datePublished>
2007-11-07 22:56:58
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>William Berkson</span></span>
</div>
</div>
</article>
</main>
</body>
</html>