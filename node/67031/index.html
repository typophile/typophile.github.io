<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Delete OT Classes with Python | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Delete OT Classes with Python" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/67031/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2010-02-05T01:54:18+00:00" />
<meta property="article:modified_time" content="2010-02-05T01:54:18+00:00" />

<meta itemprop="name" content="Delete OT Classes with Python">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2010-02-05T01:54:18+00:00" />
<meta itemprop="dateModified" content="2010-02-05T01:54:18+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Delete OT Classes with Python"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Delete OT Classes with Python</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2010-02-05T01:54:18Z">February 5, 2010</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">malcolm</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">Hi

Can anyone tell if it's possible to delete OT Classes using Python. I have tried something like:

for k in range(len(f.classes)):
  s = f.classes[k][0]
  if s=="_":
    del f.classes[k]

to delete every class that starts with an underscore, but this approach doesn't work. Is there another way to delete classes or am I doing something stupid?

tia
M</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Try this:

f=fl.font
fIdx=fl.ifont
classes = f.classes
for k in range(len(classes)-1,-1,-1):
&nbsp;&nbsp;&nbsp;if len(classes[k].strip()) and classes[k][0] == "_":
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;del classes[k]
f.classes = classes
fl.UpdateFont(fIdx)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-02-05 14:51:55"
			itemprop="datePublished"
		>
			2010-02-05 14:51:55
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>k.l.</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Yeah, very strange behaviour of the API. The elements of the list are read-only but the enclosing structure can be overwritten. I ended up with the same workaround.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-02-05 20:29:56"
			itemprop="datePublished"
		>
			2010-02-05 20:29:56
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Tim Ahrens</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thank you Karsten. I must admit I don't understand 100% why that works but thanks you for your solution.

M</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-02-07 02:14:48"
			itemprop="datePublished"
		>
			2010-02-07 02:14:48
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>malcolm</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Two things: 

1. When you delete an element from a list, the number of items in the list obviously is reduced by one. But the initial range(len()) loop is just a static list so if you remove any elements, you'll get an "Index out of range". This is why Karsten is iterating through the loop in the descending order of elements. This is not FontLab-specific, it would happen with every Python list for which you'd remove elements that way. 

2. Many of FontLab's pseudolist objects only implement partial behavior of list objects. But you can assign such pseudolist object to a real Python list, then perform some list modifications, and then reassign the list back to the FontLab pseudolist. I don't consider this "normal behavior" but, well, the FontLab Python API was developed quite a few years ago and some of the objects behave a bit strangely. </div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-02-10 08:33:29"
			itemprop="datePublished"
		>
			2010-02-10 08:33:29
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>twardoch</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
