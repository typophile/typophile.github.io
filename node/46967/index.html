<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Blend font interpolated kerning ? | Typophile Archive</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content>
<meta name=generator content="Hugo 0.91.2">
<meta name=robots content="noindex, nofollow">
<link href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3 crossorigin=anonymous>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js integrity=sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p crossorigin=anonymous></script>
<meta property="og:title" content="Blend font interpolated kerning ?">
<meta property="og:description" content>
<meta property="og:type" content="article">
<meta property="og:url" content="http://typophile.github.io/node/46967/"><meta property="article:section" content="node">
<meta property="article:published_time" content="2008-07-01T19:38:05+00:00">
<meta property="article:modified_time" content="2008-07-01T19:38:05+00:00">
<meta itemprop=name content="Blend font interpolated kerning ?">
<meta itemprop=description content><meta itemprop=datePublished content="2008-07-01T19:38:05+00:00">
<meta itemprop=dateModified content="2008-07-01T19:38:05+00:00">
<meta itemprop=wordCount content="0">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="Blend font interpolated kerning ?">
<meta name=twitter:description content>
</head>
<body class="ma0 avenir bg-near-white">
<header>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
<div class=container>
<a class=navbar-brand href=/>Typophile Archive</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
</div>
</nav>
</header>
<main class=pb7 role=main>
<article class=container>
<header class="post-header py-3">
<h1 class="post-title p-name" itemprop="name headline">Blend font interpolated kerning ?</h1>
<p class=text-muted>
<time class="f6 mv4 dib tracked" datetime=2008-07-01T19:38:05Z>July 1, 2008</time>
• <span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>ReginaldV</span></span>
</p>
</header>
<div class="post-content e-content" itemprop=articleBody>Hi all,
I've been doing some experiments with the Blend Fonts command to produce interpolated weights.
My question concerns the interpolation of the kerning values. The interpolated weights produced from the master blended font contains some of the kerning pairs that are present in the orginal fonts but not all of them.
I made sure that the orginal light and bold weights had the same kerning pairs but with different values.
Should the kerning be interpolated ?
Is there a better way of doing this ?
Is there a reason way some kerning pairs are present and not others ?
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>You can interpolate kerning with Superpolator.
—K</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-01 20:52:10" itemprop=datePublished>
2008-07-01 20:52:10
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>kris</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>I don't have OS X 10.5</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-01 20:59:53" itemprop=datePublished>
2008-07-01 20:59:53
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>ReginaldV</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>> <em>The interpolated weights produced from the master blended font contains some of the kerning pairs that are present in the orginal fonts but not all of them. [...] Is there a reason way some kerning pairs are present and not others ?</em>
Maybe because those pairs had a kerning value of 0 (zero) in the interpolated instance?
I work with MM fonts all the time containing thousands of pairs and I never had a problem. If there's a problem it might be in the Blend Fonts function. I recall it being quite buggy in regards of handling kerning.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-01 21:09:05" itemprop=datePublished>
2008-07-01 21:09:05
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Miguel Sousa</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>ReginaldV,
I suggest you ditch the Blend feature approach and build your MM fonts with the Mask-to-Master technique.
James</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-01 21:51:24" itemprop=datePublished>
2008-07-01 21:51:24
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>.00</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Yes I think you could be right about Blend font being buggy.
Is it best then to create a MM font and generate the weights from that.
I'm reading the FL manual now but finding it hard to work out how to create a MM font from the light and bold weights.
I'm I barking up the wrong tree here ?</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-01 21:54:51" itemprop=datePublished>
2008-07-01 21:54:51
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>ReginaldV</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>James,
What is the Mask-to-Master technique ?</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-01 22:17:01" itemprop=datePublished>
2008-07-01 22:17:01
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>ReginaldV</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>[Ups, didn't read careful enough ...]</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-01 23:33:55" itemprop=datePublished>
2008-07-01 23:33:55
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>k.l.</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>I agree to terminaldesign, forget the blend feature and use Mask to Master. However, Mask to Master does not merge the kerning.
If you need to transfer the kerning between masters or fonts you can use afm files. The metrics window allows you to export and import them. When you import an afm into an MM font, only the currently active master will be affected. Same for export. This works really reliably and has helped me repair MM fonts quite a few times already.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-02 00:36:56" itemprop=datePublished>
2008-07-02 00:36:56
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Tim Ahrens</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Didn't FL used to have a bug where exported AFM files were sometimes incomplete? Was that fixed in a dot release?
T</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-02 01:40:49" itemprop=datePublished>
2008-07-02 01:40:49
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Thomas Phinney</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>MM via Mask-to master
1. Create two fonts that you want to create a MM with. Export their afm files via the metrics window.
2. Make sure all the glyphs have the same number and type of points, in the same relative position. Also make sure all path directions are the same for each glyph.
3. Assign one of the fonts to the mask layer Tools>Mask> Assign Font Mask
4. Define the appropriate axis: Tools> Multiple Master> Define New Axis
5. At this point if not before, it is a good idea to Save As and assign this soon to be MM vfb a new name. Just in case something goes wrong
6. Select the glyphs in the font window and using Mask to Master convert the Mask to the appropriate Master Axis: Tools>Multiple Master> Mask to Master. When you are asked whether to let FontLab add points where necessary, make sure you select NO
If you have done your prep correctly you will have no problems, but that hardly ever happens, you will always have a few problems. At this point you will most likely have to import the kerning and sometimes the metrics via the afm files you created to the newly created MM axes. </div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-02 03:33:35" itemprop=datePublished>
2008-07-02 03:33:35
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>.00</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>I would also recommend not kerning anything in the original fonts, and do all your kerning in the newly created MM vfb. But that is just a personal preference.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-02 03:35:44" itemprop=datePublished>
2008-07-02 03:35:44
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>.00</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>terminaldesign,
I'm confused by your description
I have two fonts that I want to make into one MM font, so
<cite>3. Assign one of the fonts to the mask layer Tools>Mask> Assign Font Mask</cite>
I do this to the first font (Font 1)
<cite>4. Define the appropriate axis: Tools> Multiple Master> Define New Axis</cite>
This applies to Font 1
<cite>5. At this point if not before, it is a good idea to Save As and assign this soon to be MM vfb a new name. Just in case something goes wrong</cite>
Save Font 1 as the MM font
<cite>6. Select the glyphs in the font window and using Mask to Master convert the Mask to the appropriate Master Axis: Tools>Multiple Master> Mask to Master. When you are asked whether to let FontLab add points where necessary, make sure you select NO</cite>
Does this apply to Font 1 or is this Font 2 ?
I can't work out how I get the two fonts into one file.
Sorry if I'm being stupid
</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-02 08:52:03" itemprop=datePublished>
2008-07-02 08:52:03
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>ReginaldV</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>The Bold font and the light font are both open.
Assign the light font to the mask layer of the bold font.
Define the new axis (weight)
Using Mask to Master, assign the mask (light font) to the Wt0 axis. (As opposed to the Wt1 axis which would be the Bold font)
You now have the light font at axis Wt0 and the Bold font at axis Wt1.
Both axes are in the one font. Which started out as just your bold font
</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-02 10:58:31" itemprop=datePublished>
2008-07-02 10:58:31
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>.00</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Perhaps this small Mac/Win command line Java tool is useful in this case:
http://www.fonttools.org/downloads/DTL_AFMInterpolator.zip
________________________________________________________________
DTL AFM Interpolator version 1.1
last update: 2 July 2008
New in version 1.1:
- also interpolates POS values next to KPX
- negligible values (specified by an optional, extra argument) are left out
- instead of using a space as delimiter character, it now delimits using any amount of whitespace
Usage:
java AFMInterpolator [file1] [file2] [factor] [flag] [output] ([limit])
- file1: first AFM file
- file2: second AFM file
- factor: interpolation percentage (0-100)
- flag: 0 leaves incomplete pairs out, 1 ignores missing pairs and calculates using 0 instead
- output: output file
- limit: lower limit for values, leaves pairs with values smaller or equal out (optional)
example use:
java AFMInterpolator fontname_regular.afm fontname_bold.afm 50 1 fontname_medium.afm 10
Note: output file is automatically overwritten
</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-02 12:29:02" itemprop=datePublished>
2008-07-02 12:29:02
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>blokland</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Very cool! Need to try that later. Thanks for sharing.
The next thing would be to get the kerning data converted to OT feature code elegantly, for use with AFDKO. Could that be done alongside?</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-02 12:39:16" itemprop=datePublished>
2008-07-02 12:39:16
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Tim Ahrens</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Hi Tim, this would need additional information: your class definitions, plus, per class, which is the key glyph and whether the class is used left, right or both side(s).</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-03 08:57:08" itemprop=datePublished>
2008-07-03 08:57:08
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>k.l.</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Alternatively, Robofab offers a kerning interpolation method where the kerning of two seperate fonts can be interpolated in another font directly in FontLab:
<code>
from robofab.world import CurrentFont
from robofab.interface.all.dialogs import SelectFont
interpolval = 0.5 # 50% interpolation
f1 = CurrentFont()
f2 = SelectFont('please select mininum pole')
f3 = SelectFont('please select maximum pole')
k1 = f1.kerning
k2 = f2.kerning
k3 = f3.kerning
k1.interpolate(k2, k3, interpolval, clearExisting = True)
f1.update()
print 'done'
</code></div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-03 13:37:25" itemprop=datePublished>
2008-07-03 13:37:25
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>pvanderlaan</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>I've gone down the route of creating the MM font with the 'Mask to Master' technique described above. Surprisingly everything seems to be going really well (I was always concerned that making an MM font would be complicated).
All the glyphs are coloured green, (which means there are no problems right). The spacing and kerning all seems to be interpolating correctly with the same number of pairs in all generated instances. Before I get too excited is there anything else I should be looking for. I did spend a long time preping the light and bold weights, but my experience of developing fonts has always been two steps forward and one step back. This seems like two steps forward and I'm worried I'm missing something.
</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-03 19:29:16" itemprop=datePublished>
2008-07-03 19:29:16
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>ReginaldV</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>> <em>Before I get too excited is there anything else I should be looking for.</em>
Sometimes it happens that the masters look good, but in an interpolated instance some glyphs are mangled. This is caused by incompatibilities between the masters, things like,
-- different starting point node
-- contours in different order*
-- contours in different directions (I'm not sure of this one)
*pay close attention to glyphs like the ellipsis, the colon, the equal sign, the double quotes, etc.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-03 20:02:39" itemprop=datePublished>
2008-07-03 20:02:39
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>Miguel Sousa</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>The last item in Font Info is Multiple Master Settings. I suggest you move the slider to some middle position between your two axes. This will change the display of the font in the Font Window and you'll have a better chance of seeing any mangled glyphs.</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-03 23:34:57" itemprop=datePublished>
2008-07-03 23:34:57
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>.00</span></span>
</div>
</div>
<div class="comment card m-3">
<div class=card-body>
<div class=commentbody>Is there any relevant diference on using the "Assign Master" command insted of the "Mask to Master" operation? Would be the result any diferent, or do they work alike?
Regards
</div>
</div>
<div class="card-footer text-muted post-meta text-end">
<time class=dt-published datetime="2008-07-04 11:13:15" itemprop=datePublished>
2008-07-04 11:13:15
</time>
•
<span itemprop=author itemscope itemtype=http://schema.org/Person>
<span class="p-author h-card" itemprop=name>kiko</span></span>
</div>
</div>
</article>
</main>
</body>
</html>