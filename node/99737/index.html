<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Fontlab errors when modifications are made to font | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Fontlab errors when modifications are made to font" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/99737/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2013-01-16T12:01:03+00:00" />
<meta property="article:modified_time" content="2013-01-16T12:01:03+00:00" />

<meta itemprop="name" content="Fontlab errors when modifications are made to font">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2013-01-16T12:01:03+00:00" />
<meta itemprop="dateModified" content="2013-01-16T12:01:03+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Fontlab errors when modifications are made to font"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Fontlab errors when modifications are made to font</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2013-01-16T12:01:03Z">January 16, 2013</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Daniel Couper</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">I'm having a problem making a basic modification to a font in FLS. I'm only learning FLS, so I assume I'm doing something stupid, but I can't nail down what it is.

I'm trying to modify the font Crimson, adding in a tabular oldstyle. I've already added two discretionary ligatures (no problems), and amended the OT substitution so that it correctly subs in ligatures and c2sc, and it all works great in-browser using font-feature settings (the main aim of the exercise).

I copy the oldstyle figures to a line in the private use area, set a width, name them, add a <code>tnum1</code> OT class, then add a <code>@pnum1</code> to <code>@tnum1</code> OT substitution, then compile, at which point I get the "GPOS feature 'kern' causes overflow of offset to a subtable" fatal error.  If I bypass the classes, and just substitute manually (zero by zero.tnumoldstyle &c.), the console tells me I have a script error somewhere else, despite the syntax being typed correctly throughout. It's driving me crackers, and I keep destroying perfectly good font files. Any advice?</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I hope you'll fix the spacing while you're at it...

hhp
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-01-16 14:31:19"
			itemprop="datePublished"
		>
			2013-01-16 14:31:19
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>hrant</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I would suggest to start working from the source (VFB) files, instead of opening the fonts, because fonts are easy to mess up.

But apparently there are only FontForge source files available:
http://crimsontext.svn.sourceforge.net/viewvc/crimsontext/trunk/sources/</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-01-16 15:19:57"
			itemprop="datePublished"
		>
			2013-01-16 15:19:57
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Jens Kutilek</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">The 'kern' overflow error is a [[http://www.google.com/search?q=feature+%27kern%27+causes+overflow|fairly common one]], but I'm not sure how adding oldstyle figures and related code would suddenly trigger it. Is it possible that you've also modified the kern feature, or added new glyphs to classes that are referenced by the kern feature?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-01-16 18:55:08"
			itemprop="datePublished"
		>
			2013-01-16 18:55:08
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>gargoyle</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">"fairly common"?

There is essentially the same question on this very page. See:

http://typophile.com/node/97873

esp. John Hudson's answer.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-01-16 23:21:10"
			itemprop="datePublished"
		>
			2013-01-16 23:21:10
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>charles ellertson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Fontlab sucks. Fontographer sucks. FontLab succks. Eventually, DTL Kernmaster 2012 will come out…in 2013 or…whenever…</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-01-17 01:10:34"
			itemprop="datePublished"
		>
			2013-01-17 01:10:34
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>oldnick</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Maybe so Nick, but the kerning "problem" isn't due to the the font editing program, but the small tables (64K) allowed for in TrueType & then OpenType.

Let's say that OpenType sucks. Time for a new format.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-01-17 02:08:41"
			itemprop="datePublished"
		>
			2013-01-17 02:08:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>charles ellertson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><blockquote>"fairly common"?</blockquote>
Yes, "fairly" meaning "to quite a high degree".

<blockquote>There is essentially the same question on this very page. See:
http://typophile.com/node/97873</blockquote>
Yes, and on [[http://www.google.com/search?q=feature+%27kern%27+causes+overflow|many other pages going back years]]. However, in the case you cite, the poster clearly said that the kern feature had been modified. In this case, the font had already been successfully modified (and presumably compiled) without error, and the description of adding tabular oldstyle figures made no mention of any changes to the kern feature.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-01-17 05:54:27"
			itemprop="datePublished"
		>
			2013-01-17 05:54:27
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>gargoyle</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><blockquote>Maybe so Nick, but the kerning "problem" isn't due to the the font editing program, but the small tables (64K) allowed for in TrueType & then OpenType.</blockquote>

It's both. Table design being based on false assumptions. And editing program not taking table design into account when generating AFDKO-syntax data from which the table will be compiled. Anyway, this is something that users, i.e. type designers, should not be bothered with ...</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-01-17 10:29:03"
			itemprop="datePublished"
		>
			2013-01-17 10:29:03
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>k.l.</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><blockquote>the description of adding tabular oldstyle figures made no mention of any changes to the kern feature.</blockquote>

My guess is that FontLab copied the kerning of the proportional OsF along with the glyphs to the tabular OsF. That would explain a change in the kern feature which leads to the overflow error.

The solution would be to delete the kerning of the tabular OsFs, they, being tabular, should have no kerning anyway.

It would be best to keep the kern feature code as it is (uncheck "Generate Opentype kern feature if it is undefined or outdated" in the FontLab options under "Generating OpenType & TrueType" → "Kerning").

I just tried opening Crimson-Roman.otf in FontLab, and while the existing kern feature code compiles fine, as soon as I regenerate the kern feature code (via the OpenType panel menu → Generate kern feature), it fails with the overflow error.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-01-17 11:13:56"
			itemprop="datePublished"
		>
			2013-01-17 11:13:56
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Jens Kutilek</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Opting for an internet vogue is like building a store that may forever be open, even after you area unit asleep.<a href=" http://www.preservancetech.com/">Web Designing</a> Asian country will produce for you merely netsite|the web site} you need! Our experience at building a Custom web style is sure to assist you build your distinctive whole identity. Our creations let\'s you harness your business within the web world. It helps:</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-01-19 08:43:13"
			itemprop="datePublished"
		>
			2013-01-19 08:43:13
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>azxs</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I'm guessing that the old style figures you *copied* to the the Private Use area are in the original font with a name, but not an Unicode index (which is proper).

If you're using layout software that requires a Unicode index, rather than "copying" them to PU, just assign a PU number to them without changing the name. Should work, and since the kern feature as found in FontLab will be using the name, it shouldn't care that you've added a PU Unicode index.

Then follow Jen's advice.

BTW, as far as personal bias goes, if it was a font I was interested in, I'd just write a new Kern feature -- actually, I'd rewrite all the features, but that's because I have a stock set I've gotten comfortable with over the years. I think this not a bad approach for a user, whose primary concentration lies elsewhere.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-01-19 14:39:57"
			itemprop="datePublished"
		>
			2013-01-19 14:39:57
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>charles ellertson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Sorry for the extremely late response to all the responses - I really should make sure I've followed everything up before going on holiday. Anyway. I had looked at all the other threads relating to the overflow error, and followed the advice, hence the original post.

This was just done to have a fully-featured OT font I could use live on a website to play with a wide variety of font-feature settings in modern browsers without tossing too much money at it - the reason Crimson was chosen was because <i>most</i> of what I would need is already present, unlike other free/cheaper fonts. Could just drop back to something good on Typekit, but then an element of control is lost.

@Jens, tried clearing the kerning data, and tried keeping the kern features as-is, but no dice, still throws the overflow error. But following @charle_e's advice, I seem to have managed to force it through. It then susequently chokes on further changes of any kind, so temporary fix at most. I think you're right though, and I need to rewrite the kern feature. More work initially, but at least I know I can then have something that will display. And yes, I do realise the current spacing is dubious @hrant, so I'll give it a go.

Thanks for the advice, it was very useful, and at the very least pushed me to learn in a bit more detail how OT tables store the data. Still want to scream at FL most of the time, but I see why it throws crap at me now</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-02-02 15:08:36"
			itemprop="datePublished"
		>
			2013-02-02 15:08:36
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Daniel Couper</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I think the solution would be to delete the kerning of the tabular OsFs, they, being tabular.Anyways nice information thanks.
<a href="http://www.lynairlogistics.com.au/contact-us">Customs clearance Adelaide</a>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-23 13:06:58"
			itemprop="datePublished"
		>
			2013-08-23 13:06:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>adelaroger</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
