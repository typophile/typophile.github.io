<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Attempting to build ttc files/ Font Book hates them | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="Attempting to build ttc files/ Font Book hates them" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/61129/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2009-08-19T01:54:25+00:00" />
<meta property="article:modified_time" content="2009-08-19T01:54:25+00:00" />

<meta itemprop="name" content="Attempting to build ttc files/ Font Book hates them">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2009-08-19T01:54:25+00:00" />
<meta itemprop="dateModified" content="2009-08-19T01:54:25+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Attempting to build ttc files/ Font Book hates them"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Attempting to build ttc files/ Font Book hates them</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2009-08-19T01:54:25Z">August 19, 2009</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:fontforge">
            fontforge
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>I&rsquo;m attempting to build ttc files.</p>
<p>They work on windows, and the windows font validator finds no problems with them.
They work with freetype.
My own validation tools can find no problems (but that may not say much).</p>
<p>They don&rsquo;t work on the mac. The mac somewhat randomly picks a few fonts in the ttc file and adds them to its font list. Font Book&rsquo;s Validation command claims that all the fonts in the ttc have &ldquo;Serious Problems&rdquo; in &ldquo;System Validation&rdquo; &ndash; whatever that may mean.</p>
<p>If I extract a font from the ttc file, including all tables unchanged, then Font Book will happily validate the resultant ttf file.</p>
<p>If I take a standard ttc font (I used gulim.ttc) and subjected it to Font Book I got exactly the same problems.</p>
<p>I have tried this on 10.4 and 10.5 with similar results.</p>
<p>Anyone know what might be going on?</p>
</div>

  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Try it on 10.6, where Apple is shipping its own TTC files with the OS?</p>
<p>I know 10.4 and 10.5 nominally support TTCs, but I was wondering how solid that support is, and I fear you&rsquo;ve answered the question.  :/</p>
<p>T</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-08-19 06:32:45"
			itemprop="datePublished"
		>
			2009-08-19 06:32:45
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Thomas&#43;Phinney">
            Thomas Phinney
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>:-) I intend to try 10.6 when I get my grubby little hands on it, for me that means whenever it ships&hellip;</p>
<p>This work was to prepare for the ttc usage in 10.6.</p>
<p>I have seen a few ttcs which actually worked (most don&rsquo;t) in 10.5, but I couldn&rsquo;t figure out why. I guess no one else knows either&hellip;</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-08-19 20:45:12"
			itemprop="datePublished"
		>
			2009-08-19 20:45:12
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:fontforge">
            fontforge
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Unfortunately, getting useful information out of Apple about the nature of Font Book errors is sometimes challenging&hellip;.especially around the time of a new Mac OS Release :-)</p>
<p>I&rsquo;ve had similar experience with TTCs under 10.5: some are okay, some raise vague errors like &ldquo;missing OpenType data&rdquo; with no detail as to what is missing, and there does not seem to be any publicly-accessible documentation on the errors.</p>
<p>One possibility: are the TTCs you&rsquo;re testing all &ldquo;large&rdquo; (many glyphs)? At one time I was going to look into the possibility of a format 2 &lsquo;post&rsquo; table with name indices &gt;= 32768 being an issue, based on a very strict interpretation of the OpenType spec (&ldquo;Index numbers 32768 through 65535 are reserved for future use&rdquo;) but I never chased that down to confirm.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-08-19 21:16:37"
			itemprop="datePublished"
		>
			2009-08-19 21:16:37
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:j.hadley">
            j.hadley
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Did you try ftxvalidator from <a href="http://developer.apple.com/textfonts/download/">http://developer.apple.com/textfonts/download/</a> ?</p>
<p>Cheers,
Adam</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-08-20 15:50:20"
			itemprop="datePublished"
		>
			2009-08-20 15:50:20
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:twardoch">
            twardoch
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>I&rsquo;ve tested ttcs with less than 32767 (and one with more 32768). Failure has occurred in both.</p>
<p>I doubt ftxvalidator works for ttc, it crashes with:
====== CaslonRoman.ttc ============================================
&mdash;&mdash; sfnt: , sfnt ID: 58 &mdash;&mdash;
Error: Required table(cmap) is missing.
Error: Required table (glyf) is missing!
Something&rsquo;s wrong!!!
Error: No &lsquo;head&rsquo; table present in this font.
Error: &lsquo;head&rsquo; table is needed for &lsquo;hhea&rsquo; test.
Error: &lsquo;loca&rsquo; table is needed for &lsquo;hhea&rsquo; test.
Error: Required table(hhea) is missing.
Error: missing required &lsquo;name&rsquo; table
Bus error</p>
<p>(all fonts contain cmap, glyf, head, loca, hhea and name tables. I presume it is treating the ttc as a ttf.</p>
<p>Thanks for the suggestions.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-08-23 19:03:16"
			itemprop="datePublished"
		>
			2009-08-23 19:03:16
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:fontforge">
            fontforge
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>I am happy to say that the problems I was having with ttc files on the mac have vanished with 10.6.</p>
<p>So I conclude that 10.5 (and 10.4) do not fully support ttc files, but that 10.6 seems to.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-08-31 20:32:21"
			itemprop="datePublished"
		>
			2009-08-31 20:32:21
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:fontforge">
            fontforge
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Oh, yes, and Apple seems to support ttc files containing a CFF table.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-08-31 21:41:52"
			itemprop="datePublished"
		>
			2009-08-31 21:41:52
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:fontforge">
            fontforge
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Thanks for the update re: 10.6, I was going to ask about that :-)</p>
<p>Interesting about CFF-based TTCs. Wonder if that will ever take off? Seems unlikely as long as Windows doesn&rsquo;t support it but who knows&hellip;</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-01 00:15:50"
			itemprop="datePublished"
		>
			2009-09-01 00:15:50
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:j.hadley">
            j.hadley
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><blockquote>
<p>Interesting about CFF-based TTCs. Wonder if that will ever take off? Seems unlikely as long as Windows doesn’t support it but who knows&hellip;</p>
</blockquote>
<p>Do we know they don&rsquo;t work? Has anyone tried them? Happy to investigate if people are interested.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-02 02:51:15"
			itemprop="datePublished"
		>
			2009-09-02 02:51:15
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Si_Daniels">
            Si_Daniels
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><cite>Do we know they don’t work?</cite>
I am reasonably sure they don&rsquo;t work in XP and Vista at least</p>
<p><cite>Has anyone tried them?</cite>
Yes, in XP and Vista</p>
<p><cite>Happy to investigate if people are interested.</cite>
Might be good to know if they work in Win7&hellip;</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-02 05:21:39"
			itemprop="datePublished"
		>
			2009-09-02 05:21:39
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:j.hadley">
            j.hadley
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Please send one along and we&rsquo;ll take a look.</p>
<p>Cheers, Si</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-02 05:44:19"
			itemprop="datePublished"
		>
			2009-09-02 05:44:19
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Si_Daniels">
            Si_Daniels
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>It took a while to track this down. As documented in the OpenType and Open Font Format specs* the CFF rasterizer we include in Windows does not support CFF TTC&rsquo;s. However other implementations (such as Mac OS) are certainly free to support them.</p>
<p>*See <a href="http://www.microsoft.com/typography/otspec/otff.htm">http://www.microsoft.com/typography/otspec/otff.htm</a></p>
<p>&ldquo;The CFF rasterizer does not currently support TTC files.&rdquo;</p>
<p>Scroll down to the section &ldquo;TrueType Collections&rdquo; third paragraph immediately before the sub-section &ldquo;The TTC File Structure&rdquo;.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-09-09 06:27:19"
			itemprop="datePublished"
		>
			2009-09-09 06:27:19
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Si_Daniels">
            Si_Daniels
	    </a>
			</span></span>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
