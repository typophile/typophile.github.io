<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Truetype hinting: CVT/Stem not responding | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Truetype hinting: CVT/Stem not responding" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/85758/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2011-09-23T21:28:00+00:00" />
<meta property="article:modified_time" content="2011-09-23T21:28:00+00:00" />

<meta itemprop="name" content="Truetype hinting: CVT/Stem not responding">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2011-09-23T21:28:00+00:00" />
<meta itemprop="dateModified" content="2011-09-23T21:28:00+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Truetype hinting: CVT/Stem not responding"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Truetype hinting: CVT/Stem not responding</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2011-09-23T21:28:00Z">September 23, 2011</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Frode Bo Helland</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>So, my CVT (actually stem value in Fontlab) says 3 px, but neither Greyscale nor Cleartype will return 3 px. What, why?</p>
<p>Edit: More search friendly title for the next Truetype wrangler to come along.</p>
</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Is this an x-direction distance or a y-direction distance? Are you anchoring to the grid? Screenshots would help.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-24 01:32:36"
			itemprop="datePublished"
		>
			2011-09-24 01:32:36
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">This is x-direction. Y-direction is a smooth ride.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-24 01:55:33"
			itemprop="datePublished"
		>
			2011-09-24 01:55:33
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Frode Bo Helland</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>[img:sites/default/files/old-images/screenshot1_6702.png]</p>
<p>This is even more dramatic. Here the &ldquo;round right&rdquo; stem is defined as 4 px, but the output is only 2.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-24 02:00:51"
			itemprop="datePublished"
		>
			2011-09-24 02:00:51
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Frode Bo Helland</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>That&rsquo;s sort of a weird way of hinting that situation (although I realise this doesn&rsquo;t answer your question of why the distance is not 4 pixels). A more typical strategy would hint from the outside of the bowl to the sidebearing.</p>
<p>Are you aligning the destination to the grid? How?</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-24 07:40:05"
			itemprop="datePublished"
		>
			2011-09-24 07:40:05
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><!-- raw HTML omitted -->Are you aligning the destination to the grid? How?<!-- raw HTML omitted -->
Yes. The stems build upon each other, so their starting and ending points are all aligned to the grid.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-24 12:19:39"
			itemprop="datePublished"
		>
			2011-09-24 12:19:39
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Frode Bo Helland</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Do you get the full four pixel distance in b/w bitmap mode?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-24 17:19:04"
			itemprop="datePublished"
		>
			2011-09-24 17:19:04
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">The grey circles and the grid in the screenshot is the binary rendering. I know this is not a typical hinting method, but that’s not the point here (as you already said). I’d like to know why they don’t behave as instructed.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-25 01:03:14"
			itemprop="datePublished"
		>
			2011-09-25 01:03:14
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Frode Bo Helland</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><!-- raw HTML omitted -->The grey circles and the grid in the screenshot is the binary rendering.<!-- raw HTML omitted --></p>
<p>Doh! Of course.</p>
<p>I&rsquo;m really not sure why it is behaving this way. My guess would be some kind of tolerance relative to the natural outline that prevents hints from radical distortion, but I don&rsquo;t know if this is something peculiar to FontLab or to the kinds of hints that it writes.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-25 06:02:17"
			itemprop="datePublished"
		>
			2011-09-25 06:02:17
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>I&rsquo;m guessing you&rsquo;ve got the equivalent of a CVT cutIn issue here, but I don&rsquo;t know how to fix that in FontLab. In VTT it&rsquo;s just a setting you need to increase in the CVT.</p>
<p>Jason</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-25 14:53:09"
			itemprop="datePublished"
		>
			2011-09-25 14:53:09
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>jasonc</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Fontlab has internal tolerances set to prevent large* jumps in either CVTs or deltas. So for this instance, your jumps are still limited to 8/8s for deltas (ie. you can only delta move a point 1 pixel or 1/8 fractions thereof), but you can increase the tolerance for CVTs by opening TT Hinting Options &gt; General &gt; (increase) Stem snap precision to 32/16 of the pixel. This will allow doubling of the stem value. Note you&rsquo;re asking to get both 3 and 4 pixels above. The above solution could get you up to 4 pixels, but I think as long as your stem has a reasonably accurate value entered you should still be able to get 3 pixels @ 20ppm without fudging the Snap Stem much**, ie. check your measurement from the inside of the stem to the sidebearing point and make sure the &lsquo;round right&rsquo; CVT entry corresponds closely to that value.</p>
<p>*or small, for that matter, as you can make much smaller adjustments the 1/8 pixel in TrueType, if you were so inclined, just not in Fontlab.</p>
<p>**otherwise, keeping the Snap Stem at 17/16 may be the best bet, but you may still find yourself fiddling with the value occasionally to achieve certain results</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-25 21:39:06"
			itemprop="datePublished"
		>
			2011-09-25 21:39:06
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Ross Mills</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks. This is just the answer I was looking for.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-26 00:15:59"
			itemprop="datePublished"
		>
			2011-09-26 00:15:59
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Frode Bo Helland</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Any way you chose to stack it, the best waay to get a bold weight Is to start with a a bold outline. ;)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-26 13:14:02"
			itemprop="datePublished"
		>
			2011-09-26 13:14:02
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>dberlow</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">He was trying to increase the sidebearing distance, not the weight of the outline. Admittedly, doing this from the inside is somewhat odd, but the stem of the &lsquo;o&rsquo; here is unrounded (again a bit odd, but not without precedence).</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-26 21:53:20"
			itemprop="datePublished"
		>
			2011-09-26 21:53:20
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Ross Mills</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Funny title  for a tracking-by-hinting thread&hellip; A bit odd? how many user agents employ the hdmx table in composition?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-27 11:17:46"
			itemprop="datePublished"
		>
			2011-09-27 11:17:46
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>dberlow</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>David: I’m not going to add more tracking with hinting. This would be an undesirable effect. As I’m sure you understand, what I want to acheive is control over the spacing to be able to correct any rounding errors introduced by the rasterizer. My question is really simply put: “I told the rasterizer to do a certain thing but it didn’t listen. Why?”</p>
<p><!-- raw HTML omitted -->how many user agents employ the hdmx table in composition?<!-- raw HTML omitted -->
I have been looking for an explanation for what this does. From what I (think I) understand, the numbers listed in the hdmx table are the ones where delta hints are effective. Correct? But why is it necessary in the first place?</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-27 12:14:15"
			itemprop="datePublished"
		>
			2011-09-27 12:14:15
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Frode Bo Helland</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Frank: “I told the rasterizer to do a certain thing but it didn’t listen.&quot;</p>
<p>It &ldquo;hears&rdquo; three things on the Mac and 8 things on Windows&hellip;</p>
<p>Frank: &ldquo;Why?”</p>
<p>Competition!</p>
<p>Frank: &ldquo;But why is it necessary in the first place?&rdquo;</p>
<p>There are two sources of metrics for a font rasterized at any ppm, the integer values in the hdmx table and the unrounded widths of the outlines.</p>
<p>Together with the subpixel positioning, you get a lot of different results.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-09-27 13:37:19"
			itemprop="datePublished"
		>
			2011-09-27 13:37:19
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>dberlow</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
