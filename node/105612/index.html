<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Color font meetings at TypeCon and ATypI | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Color font meetings at TypeCon and ATypI" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/105612/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2013-08-19T15:28:49+00:00" />
<meta property="article:modified_time" content="2013-08-19T15:28:49+00:00" />

<meta itemprop="name" content="Color font meetings at TypeCon and ATypI">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2013-08-19T15:28:49+00:00" />
<meta itemprop="dateModified" content="2013-08-19T15:28:49+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Color font meetings at TypeCon and ATypI"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Color font meetings at TypeCon and ATypI</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2013-08-19T15:28:49Z">August 19, 2013</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Si_Daniels</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>As announced on the OpenType List, but posted here as a reminder and as an FYI for those not on the list.</p>
<p>At the request of some in the community we&rsquo;ve organized opportunities for those interested in color fonts, color font formats and rendering technology to meet at TypeCon and ATypI.</p>
<p>At TypeCon the organizers have kindly provided us a room on Saturday August 24th at 3pm (for two hours) - there will be a call in number for this meeting (contact me directly if you want to call in).</p>
<p>At ATypI the organizers have also provided a room on Thursday October 10th at 1.40pm (for two hours twenty minutes) - there will likely be a call in number for this meeting too.</p>
<p>I&rsquo;d like to thank Grant (SoTA) and Barbara &amp; John (ATypI) for facilitating these meetings.</p>
<p>Thanks, Si</p>
</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">The type community needs to have these discussions and these conferences are of course apt venues, but for the ATypI meeting I&rsquo;m sad to see that the conversation coincides with the two-track part of the conference. Thus attending the meeting means missing nine (!) other presentations (full disclosure: mine is one of the nine). Is that the best or only time-slot option?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-19 17:06:05"
			itemprop="datePublished"
		>
			2013-08-19 17:06:05
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>eliason</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">TypeCon offered a couple of options and this one seemed best. ATypI only offered the one slot.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-19 19:16:45"
			itemprop="datePublished"
		>
			2013-08-19 19:16:45
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Si_Daniels</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">This may be a dumb question (my specialty), but are any other platforms besides Windows 8.1 discussing supporting color fonts?</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-19 20:36:41"
			itemprop="datePublished"
		>
			2013-08-19 20:36:41
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>oldnick</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Mac OS X (starting with Lion) and iOS support OpenType fonts with embedded color bitmaps. These are embedded in a private table named &ldquo;sbix&rdquo;.</p>
<p>About a month before we demo&rsquo;d our color support, Google announced an alternate embedded bitmap format on the OpenType list. I don&rsquo;t recall if the proposal mentioned Android or Chrome OS.</p>
<p>Cheers, Si</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-20 00:38:45"
			itemprop="datePublished"
		>
			2013-08-20 00:38:45
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Si_Daniels</span
			></span
		>
	</div>
	 <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Another platform with nascent support for color fonts (in the form of SVG-in-OpenType) is Gecko, although the feature is not yet enabled by default in Firefox desktop and mobile browsers — it&rsquo;s considered experimental and has some known bugs. There&rsquo;s a small example (complete with bugs!) [[http://people.mozilla.org/~jkew/opentype-svg/GeckoEmoji.html|here]].</p>
<p>As part of the Gecko platform, this support should become available in due course throughout Gecko-based applications and on Firefox OS devices.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-21 16:59:10"
			itemprop="datePublished"
		>
			2013-08-21 16:59:10
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>jfkthame</span
			></span
		>
	</div>
	
</div>
 
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Si who&rsquo;s doing the talk? I ain&rsquo;t going I don&rsquo;t have a sponsor. Alice Rawsthorn is a legend.. her Yves St. Laurent book is ace but mostly about the financing of fashion.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-21 12:44:36"
			itemprop="datePublished"
		>
			2013-08-21 12:44:36
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>vinceconnare</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Vinny, it&rsquo;s not a talk, it&rsquo;s a meeting. Sorry to hear you won&rsquo;t be there. I&rsquo;ll check to see if we have a spare sponsor pass.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-21 16:21:15"
			itemprop="datePublished"
		>
			2013-08-21 16:21:15
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Si_Daniels</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">send me an email then Si.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-21 16:51:25"
			itemprop="datePublished"
		>
			2013-08-21 16:51:25
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>vinceconnare</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">send me an email then Si.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-21 16:52:58"
			itemprop="datePublished"
		>
			2013-08-21 16:52:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>vinceconnare</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Sure we can set something up. Contact me off-list.</p>
<p>Cheers, Si</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-22 17:42:31"
			itemprop="datePublished"
		>
			2013-08-22 17:42:31
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Si_Daniels</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><!-- raw HTML omitted --> there will likely be a call in number for this meeting too.<!-- raw HTML omitted --></p>
<p>Video feed? Skype?</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-22 18:12:28"
			itemprop="datePublished"
		>
			2013-08-22 18:12:28
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>russellm</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thanks</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-24 03:27:08"
			itemprop="datePublished"
		>
			2013-08-24 03:27:08
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>russellm</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">For those here in Portland, the meeting will take place in the Council meeting room on the 3rd floor of the Hilton hotel.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-24 22:27:44"
			itemprop="datePublished"
		>
			2013-08-24 22:27:44
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Si_Daniels</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">The meeting was interesting, if thoroughly inconclusive. There are no fewer than four color font formats right now (Apple, Microsoft, Google, Adobe), although one of them (Apple&rsquo;s) has not yet been submitted for consideration as a standard.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-28 04:27:21"
			itemprop="datePublished"
		>
			2013-08-28 04:27:21
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Thomas Phinney</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">As I understand, none of them have been formally submitted for consideration as a standard. The ISO MPEG-OFF body is drafting a request for proposals, and formal submissions will be in response to that.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-28 06:19:00"
			itemprop="datePublished"
		>
			2013-08-28 06:19:00
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I believe you are correct; I should have said, three of them are published specs with the announced intention of submitting them for standardization, while Apple has not decided one way or the other to publish/submit, or not.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-28 15:44:29"
			itemprop="datePublished"
		>
			2013-08-28 15:44:29
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Thomas Phinney</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>So who&rsquo;s going to make a pros/cons table for each approach?</p>
<p>hhp</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-29 02:44:15"
			itemprop="datePublished"
		>
			2013-08-29 02:44:15
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>hrant</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>At the moment, and unless things change drastically, I&rsquo;d say there&rsquo;s a pretty good chance that we could end up with multiple solutions, each with its particular benefits and coverage areas.* On the whole, most attention seems to be on the two vector formats: Microsoft&rsquo;s glyf/COLR/CPAL model and the SVG-in-OT model from the W3C community group championed by Adobe and Mozilla. As Adam pointed out, though, Google&rsquo;s bitmap model is worth considering because, like the MS vector model, it is a small and nifty addition to existing sfnt structures.</p>
<p>If anyone is going to compile a table of pros and cons for each model, I&rsquo;d recommend distinguishing pros/cons for different parties. Obviously the SVG model has more pros for companies that have already invested in SVG support, and have most of the infrastructure they would need in place. Obviously the glyf/COLR/CPAL model has specific pros for rendering environments that still make use of hinting.</p>
<p>And if things do change drastically? I think the biggest question is whether MS will expand their model to handle gradients and animation. If they do, then their approach will be in direct competition with the SVG model, and there would be less reason for the ISO MPEG committee to contemplate standardising both.</p>
<hr>
<ul>
<li>At the meeting, I posited a use case in which a font developer might end up including both COLR/CPAL data and SVG data in the same font, for different ranges of characters.</li>
</ul>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-29 03:33:26"
			itemprop="datePublished"
		>
			2013-08-29 03:33:26
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">No problem. Tracking glyphs that change color or unicode as a function of time or size will also have to be stored in the font name. ;)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-29 13:19:09"
			itemprop="datePublished"
		>
			2013-08-29 13:19:09
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>dberlow</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><blockquote>
<p>So who&rsquo;s going to make a pros/cons table for each approach?</p>
</blockquote>
<p>Adam Twardoch actually wrote one up a month or so ago. You could ask him to forward, or possibly post here.</p>
<p>Si</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-29 17:37:47"
			itemprop="datePublished"
		>
			2013-08-29 17:37:47
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Si_Daniels</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Thank you, Adam.</p>
<p>hhp</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-30 04:43:58"
			itemprop="datePublished"
		>
			2013-08-30 04:43:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>hrant</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>A small [edit: not so small after all :) ] postscriptum:</p>
<p>There is one more consideration that I should mention: &ldquo;finiteness&rdquo; of the proposals. By that I mean whether the limitations of what a given formats aims to achieve in the end is now clearly defined. This is closely related to stability of implementations, meaning: if, as a developer, I invest the time to implement a given format now, will I have to revisit it in the future?</p>
<p>Superficially, an &ldquo;extensible&rdquo; structure is appealing. &ldquo;Oh, this structure is infinitely extensible, we can add so many cool stuff to it later&rdquo;. But in many cases, an infinitely extensible structure also poses risks. Software developers have limited time windows to devote to fonts and text technology. They often want to implement something and be done with it for the next years. So somewhat paradoxically, a proposal that clearly and consciously states its limits is actually attractive because it doesn&rsquo;t leave open questions.</p>
<p>The GOO proposal seems to be the best example of such self-limiting format. It extends the existing embedded bitmap formats by adding just two or so new subformats, and that&rsquo;s it. There may be one or two open questions now (the scalability issue I discussed), but once those are answered, and developers add support for it, it&rsquo;s a done deal. The GOO proposal does not leave many loose ends.</p>
<p>In other words, the GOO proposal doesn&rsquo;t try to cook many dishes at the same time or doesn&rsquo;t try to be a &ldquo;catch all solution&rdquo;. Instead, it aims to do just one thing, and to do it very well. Which is, I believe, where its real beauty lies. Also — just like the older embedded bitmap formats — it can be used to host bitmap-only glyph data, without any outline fallback. This actually is quite desirable for some scenarios such as fixed-size devices — simple electronic displays (brick phones, scrolling electronic banners, diplays in car radios or other portable electronics).</p>
<p>In constrast, the APP proposal limits itself very vaguely. The &ldquo;sbix&rdquo; table spec says that it can host a huge variety of possible glyph formats, from PNG through TIFF and JPEG, SVG and PDF to even movie clips. Attractive in principle, it also may be a bit &ldquo;scary&rdquo;. The current APP implementation isn&rsquo;t actually &ldquo;sbix&rdquo;. It&rsquo;s &ldquo;sbix with PNG glyph data&rdquo;. But there could be &ldquo;sbix with SVG data&rdquo; or &ldquo;sbix with MOV clips&rdquo;. This means that develpers who choose to implement &ldquo;sbix as a whole&rdquo; may end up struggling to support various glyph data sources, and they may never be sure whether something new wouldn&rsquo;t pop up in future.</p>
<p>The MIC proposal quite cleanly defines its current scope, though Greg Hitchcock has suggested during the TypeCon meeting that Microsoft may in future extend their format to support &ldquo;more things&rdquo;, like gradients. However, knowing Microsoft&rsquo;s practice, they would most likely extend it in a transparent, backwards-compatible way (so, for example, a gradient would fall back to a solid color). At the current stage of the proposal, CPAL and COLR are nicely defined. CPAL may undergo some revisions, especially if (hopefully) both the COLR and the SVG tables make use it, i.e. if Adobe, Microsoft and Mozilla come to common terms regarding some minor CPAL extensions.</p>
<p>Interestingly, the SVG in SFNT proposal, although very ambitious in terms of graphic effects you can achieve, is actually fairly clearly limited. Again, some wrinkles need to be ironed out, and animation is a big open question, but if we limit ourselves to static SVGs, the principle is very simple: the SVG in SFNT format only defines a container format for the data, and clearly DELEGATES everything else to the SVG standard proper.</p>
<p>This is actually a fairly stable proposal. It means that, as a developer who implements it, you&rsquo;ll need to keep up with the evolution of SVG proper, but — if you do have an SVG renderer implementation — you&rsquo;ll want to do it anyway. But the SVG in SFNT makes (more less) a promise that they won&rsquo;t bother you greatly with doing big changes in future that will be font-specific. So as long as you&rsquo;ve implemented the SFNT SVG table once (hopefully the revised one which shouls reuse CPAL), you&rsquo;ll be done at the font end. Then, you&rsquo;ll just need to keep up with your general SVG renderer as you normally would.</p>
<p>So with SVG, if your application does not have an SVG renderer, it&rsquo;s a &ldquo;big step&rdquo; that you&rsquo;d need to do, but you&rsquo;d only need to do it once. (And perhaps it would be a good idea to do it anyway, since SVG is a graphics format that may be useful is supporting regardless of fonts). But once you&rsquo;ve done it, all future steps you&rsquo;ll have to do will likely be very small and will &ldquo;just happen&rdquo;.</p>
<p>In fact, I think the GOO mechanism would serve as an ideal fallback to SVG. Since SVG can contain scalable graphics which intermix vectors and bitmaps, the results can be very complex. But they could be pre-rendered and put into the CBDT/CBLC tables as well. It could be similar to how pre-rendered PNG bitmaps are (or used to be) often served by websites to older browsers which don&rsquo;t support SVG. You&rsquo;d lose the smooth scalability, but you would at least get the intended glyphs appearance.</p>
<p>Best,
Adam</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-30 11:20:06"
			itemprop="datePublished"
		>
			2013-08-30 11:20:06
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>twardoch</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><!-- raw HTML omitted -->INTRODUCTION<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->As a follow-up to the TypeCon “color fonts” meeting that took place in Portland on August 24th, 2013, I’m posting this analysis which I have written and circulated to a group of developers and type designers in June. The following is a revised version of my analysis as of <!-- raw HTML omitted -->August 30th<!-- raw HTML omitted -->. I’m incorporating some of the updated information which was made available after I wrote the initial version. Note that this overview is my personal take on the topic. I <!-- raw HTML omitted -->claim no<!-- raw HTML omitted --> completeness or correctness of the information presented below.<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->CONCEPTS<!-- raw HTML omitted --></p>
<p>There are several conceptual approaches for “color fonts” that can be considered, in increasing order of complexity:</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted -->APPROACHES<!-- raw HTML omitted --></p>
<p>We have now four distinct approaches from the major vendors, in increasing order of complexity:</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted -->CONSIDERATIONS<!-- raw HTML omitted --></p>
<p>There are also several considerations, or aspects, which each implementation needs to address.</p>
<!-- raw HTML omitted -->
<p>[1] <!-- raw HTML omitted --><a href="http://lists.w3.org/Archives/Public/public-svgopentype/2012Jun/thread.html">http://lists.w3.org/Archives/Public/public-svgopentype/2012Jun/thread.html</a><!-- raw HTML omitted -->
[2] <!-- raw HTML omitted --><a href="http://lists.w3.org/Archives/Public/public-svgopentype/2012Aug/thread.html">http://lists.w3.org/Archives/Public/public-svgopentype/2012Aug/thread.html</a><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->DETAILED DISCUSSION OF APPROACHES<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->GOO: Google “CBDT”/“CBLC” tables<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>Bitmap-based (PNG) glyphs, either as per-PPM bitmap strike definition, without any scaling, or as scalable bitmap glyphs with multiple “master PPM sizes” — this is unclear (see below for details).</p>
<p>Announced in May 2013 on the Google blog [GOO1], this is an approach which specifies two tables (“CBDT”/“CBLC”, [GOO2]), which in turn extend the existing OpenType “EBDT”/“EBLC” tables [GOO3], [GOO4] by adding the ability to include uncompressed color images or PNG images. Those, in turn, are extended version of Apple’s original “bdat”/“bloc” tables which have a long history.</p>
<p>Google hosts a “Color Emoji” project dedicated to this [GOO5], have created a Python tool which embeds PNGs into that table [GOO6] and have provided sample fonts. FreeType 2.5 now also includes support for this [GOO7], added on May 29th.</p>
<p><!-- raw HTML omitted -->Co-existence:<!-- raw HTML omitted --> The GOO proposal states: “It is recommended that such fonts include no ‘glyf’ table, and as such be bitmap-only fonts.  In the presence of color and non-color strikes in the same font, it is currently unspecified which bitmap a conformant client will choose for rendering.”. While this does not directly invalidate co-existence, it raises a valid question (for co-existence in general, and for precedence in particular). However, in Microsoft’s and Apple’s traditional implementations of the TrueType rasterizer (before ClearType), the bdat/bloc and EBDT/EBLC tables worked so that if a bitmap strike was available for a given PPM, it was used, otherwise the outline glyph was rendered from the “glyf” table (even for the same glyph but different PPM). I definitely think that all consuming platforms which support the GOO approach should adopt the aforementioned principle. This is especially crucial when it comes to co-existence between the GOO proposal and the MIC proposal. If the GOO approach behaves as I described, then chances are that one font could include the CBDT, CBLC, COLR, CPAL and glyf tables, and the consuming platform could easily choose whether to use the GOO approach first, and then (for different PPM sizes or glyphs which are not supported by the GOO tables) use the MIC approach (or just the plain “glyf” table).</p>
<p><!-- raw HTML omitted -->External modification:<!-- raw HTML omitted --> While some people have generally voiced their desire to be able to manipulate colors that are embedded inside of a font file externally, I think in case of PNG-based glyphs, this should be, if at all, a post-processing step (after the glyph images have been retrieved from the scaler).</p>
<p><!-- raw HTML omitted -->Fallback/degradation:<!-- raw HTML omitted --> the GOO spec includes provisions as to how the color bitmap data should be transformed into grayscale bitmap data.</p>
<p><!-- raw HTML omitted -->Unclear:<!-- raw HTML omitted --> The OpenType spec also includes the “EBSC” table [GOO8] which defines which per-PPM strikes should be used for which PPM ranges when they need to be scaled. Without “EBSC”, it is assumed that the “EBDT”/“EBLC” strikes are only rendered for the specified PPM. The GOO proposal makes no mention of how scaling should be implemented, or whether a scaler should rely on the presence of the EBSC table. I <em>strongly</em> think that, should the GOO proposal aim at wider adoption, it should strictly follow the principle laid out in the OpenType spec: if no EBSC table is present, strikes should be rendered only at given PPMs. For scaling, it should refer to the EBSC table. It’s also unclear to me what FreeType 2.5 is doing at this point, and whether support for EBSC is planned.</p>
<p>[GOO1] <!-- raw HTML omitted --><a href="http://google-opensource.blogspot.de/2013/05/open-standard-color-font-fun-for.html">http://google-opensource.blogspot.de/2013/05/open-standard-color-font-fun-for.html</a><!-- raw HTML omitted -->
[GOO2] <!-- raw HTML omitted --><a href="https://color-emoji.googlecode.com/git/specification/v1.html">https://color-emoji.googlecode.com/git/specification/v1.html</a><!-- raw HTML omitted -->
[GOO3] <!-- raw HTML omitted --><a href="http://www.microsoft.com/typography/otspec/ebdt.htm">http://www.microsoft.com/typography/otspec/ebdt.htm</a><!-- raw HTML omitted -->
[GOO4] <!-- raw HTML omitted --><a href="http://www.microsoft.com/typography/otspec/eblc.htm">http://www.microsoft.com/typography/otspec/eblc.htm</a><!-- raw HTML omitted -->
[GOO5] <!-- raw HTML omitted --><a href="https://code.google.com/p/color-emoji/">https://code.google.com/p/color-emoji/</a><!-- raw HTML omitted -->
[GOO6] <!-- raw HTML omitted --><a href="https://code.google.com/p/color-emoji/source/browse/">https://code.google.com/p/color-emoji/source/browse/</a><!-- raw HTML omitted -->
[GOO7] <!-- raw HTML omitted --><a href="http://git.savannah.gnu.org/cgit/freetype/freetype2.git/">http://git.savannah.gnu.org/cgit/freetype/freetype2.git/</a><!-- raw HTML omitted -->
[GOO8] <!-- raw HTML omitted --><a href="https://www.microsoft.com/typography/otspec/ebsc.htm">https://www.microsoft.com/typography/otspec/ebsc.htm</a><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->APP: Apple “sbix” table<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>In the current implementation: bitmap-based (PNG) glyphs, as scalable bitmap glyphs with multiple “master strikes” per PPM. The “sbix” spec has provisions to hold other types of glyph definitions, such as TIFF, SVG, PDF or even movie clips, but this is not very clearly specified nor implemented.</p>
<p>Apple’s is the first implementation that has been officially deployed. It was introduced to iOS 4 and also runs in CoreText applications Mac OS X 10.7 and newer. It does not run on ATSUI applications such as Pages 09 or Keynote 09, but does work in CoreText applications such as TextEdit or Safari. Support for “sbix” table with PNG glyph has also been added to FreeType.</p>
<p>The spec of the table has not been officially published by Apple, but has been shared with interested developers. The implementation hosts PNG data inside the “sbix” table, with multiple PPM “master bitmaps” possible per glyph. The scaler is responsible for choosing the most appropriate PPM size and scale it to other PPM sizes as needed.</p>
<p>It seems that per “master strike”, both the PPM and DPI information can be provided. For the metrics, the implementation relies on the bounding boxes stored in the “glyf” table. It seems that, very unfortunately, the Apple implementation renders the contents of a “glyf” table glyph, and the on top it renders its associated bitmap — so if bitmaps are available in the “sbix” table for a particular glyph ID, the corresponding “glyf” glyph ID slot has to be empty.</p>
<p>Mac OS X 10.8 includes one font with the “sbix” table: Apple Color Emoji, while iOS 6 includes the former along with Apple Color Emoji@2 (the latter hosting the glyphs in double DPI resolution, it appears).</p>
<p>A reverse-engineered incomplete and faulty spec has been published [APP1] and [APP2], and a patch for fontTools/TTX has been published [APP3]. Those do not seem to work correctly, though. However, Fontlab Ltd. has implemented its own “sbix” reading and writing, which seems to work correctly. Fontlab Ltd. also has its own “sbix” renderer, and I have successfully built a Latin-script color font with the “sbix” table and OpenType Layout features such as “calt”, and that font works as expected in Mac OS X 10.7 and 10.8 (hooray!).</p>
<p><!-- raw HTML omitted -->Co-existence:<!-- raw HTML omitted --> The fact that the “sbix” implementation in Apple OSes seems to require that the “glyf” glyphs are blank raises a big co-existence concern.</p>
<p>In particular, it seems that this approach could not co-exist with the MIC approach, which is a pity. I see that as a weakness of the APP approach.</p>
<p>As for the co-existence of the APP and GOO approaches, it seems somewhat unclear to me. The APP approach requires both “sbix” and “glyf” to be present, while currently, the GOO approach discourages the presence of “glyf”. I see it as a weakness of both approaches (more strongly of the GOO approach). Also, there is the question of data duplication. Theoretically, I imagine that a smart mechanism (akin to TTC) could allow for some data sharing, wherein both the “sbix” table and the “CBLC” table referred to the same PNG chunks. But I’m not sure if offsets that go beyond defined table boundaries are permitted in the OT spec (I don’t think they are).</p>
<p><!-- raw HTML omitted -->External modification:<!-- raw HTML omitted --> While some people have generally voiced their desire to be able to manipulate colors that are embedded inside of a font file externally, I think in case of PNG-based glyphs, this should be, if at all, a post-processing step (after the glyph images have been retrieved from the scaler).</p>
<p><!-- raw HTML omitted -->Fallback/degradation:<!-- raw HTML omitted --> the APP implementation does not have any clear provisions for fallback/degradation. A renderer could fall back to grayscale or monochrome (dithered) versions of the “sbix” PNG glyphs, but it would be desirable if it could also fall back to “proper” “glyf” outline glyphs. However, the fact that the APP implementation relies on <em>empty</em> “glyf” glyphs invalidates that.</p>
<p><!-- raw HTML omitted -->Unclear:<!-- raw HTML omitted --> It’s not currently clear how the PPM+DPI “master strikes” should be chosen and scaled, but my assumption is that the APP approach explicitly assumes that the “sbix” glyphs are scalable, without the need for an additional “EBSC” table. This may be disputable. Also, it’s not entirely clear to me how a renderer should make use of the PPM and DPI information, though by itself it seems rather straightforward.</p>
<p>[APP1] <!-- raw HTML omitted --><a href="http://typophile.com/node/96671#comment-524375">http://typophile.com/node/96671#comment-524375</a><!-- raw HTML omitted -->
[APP2] <!-- raw HTML omitted --><a href="http://kanji-database.sourceforge.net/fonts/opentype.html">http://kanji-database.sourceforge.net/fonts/opentype.html</a><!-- raw HTML omitted -->
[APP3] <!-- raw HTML omitted --><a href="https://gist.github.com/jjgod/5478229">https://gist.github.com/jjgod/5478229</a><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->MIC: Microsoft “COLR”/“CPAL” tables<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>The newest member in the family of solutions, announced by Microsoft’s Michelle Perham and Si Daniels on June 26th [MIC1], the Microsoft proposal looks quite simple and clever to me, judging from the announcement. It adds a relatively lightweight baggage of “COLR” and “CPAL” tables which results in layered outline glyphs with one solid fill per layer.</p>
<p>The MIC approach is implemented in Windows 8.1, with a new Segoe UI Emoji font being included in the OS. A video from Microsoft’s Dan McLachlan talk where he presents the approach is available [MIC2] (about 9 minutes into the talk). Also, Michelle Perham made a presentation at TypeCon 2013 dedicated to the topic.</p>
<p>The approach uses a base glyph (“glyf” or, presumably, also “CFF ”) which is used for non-color situations. The “COLR” table refers from this glyph into other outline glyphs (which exist within the same table), which serve as layers. Each “layer glyph” has its own z-order and a single color references. The color references are handled has palette indices, with a separate table, “CPAL” in OpenType that resolves the RGBA colors actually used for the glyph. Therefore, both the “COLR” and the “CPAL” tables should be quite small in size, all the heavy-lifting being done by the traditional rendering methods. It was announced that Microsoft plans to publish the specs for the tables within the next few weeks.</p>
<p><!-- raw HTML omitted -->Co-existence:<!-- raw HTML omitted --> If the GOO approach clarifies its behavior when the “glyf” table is present, then the MIC approach could co-exist easily with the GOO approach. Actually, these two approaches could cleverly echo the former co-existence of “glyf” with “bdat/bloc” (or “EBDT”/“EBLC”/“EBSC”). A consuming platform could go straight for the monochrome “glyf” glyphs, or could prioritize the MIC approach with a fallback to “glyf”, or could prioritize the GOO approach with a fallback to “glyf”, or could prioritize the GOO approach, then fall back to the MIC approach, and then finally fall back to “glyf”. I don’t see any principal conflict there.</p>
<p><!-- raw HTML omitted -->External modification:<!-- raw HTML omitted --> As Michelle wrote on the OpenType list, “Fonts can have multiple palettes, but right now the colors are defined by the font developer and the user is not able to make changes to the palettes. That’s definitely something we’d like to consider in the future and might be something that applications could expose.” At TypeCon, Greg Hitchcock clarified the envisioned roles of the palettes: first palette is used by default for “dark on light” color situations while second palette is intended for use in “light on dark” situations. Additional palettes should be selectable by the user.</p>
<p><!-- raw HTML omitted -->Fallback/degradation:<!-- raw HTML omitted --> This approach seems to be degrading nicely, and fallback implications have been discussed above.</p>
<p>[MIC1] <!-- raw HTML omitted --><a href="http://typophile.com/node/104174">http://typophile.com/node/104174</a><!-- raw HTML omitted -->
[MIC2] <!-- raw HTML omitted --><a href="http://channel9.msdn.com/Events/Build/2013/3-191">http://channel9.msdn.com/Events/Build/2013/3-191</a><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->SVG: Joint Adobe and Mozilla “SVG ” table<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>The “full Monty” outline+bitmap (SVG) glyphs with possible animation.</p>
<p>This is a proposal formulated by Mozilla’s Edwin Flores and Cameron McCormack, with input from Robert O’Callahan and Adobe’s Sairus Patel, which has been submitted as an unofficial editor’s draft to the W3C [SVG1]. There is a reasonably well-working SVG OpenType community for this [SVG3] and a public mailing list [SVG2]. As indicated on Robert O’Callahan’s blog [SVG4], this proposal has been implemented in Firefox — it’s off by default but can be enabled by toggling “gfx.font_rendering.opentype_svg.enabled” in about:config. Also, a tool, written in Python, is available to create such fonts [SVG5].</p>
<p>This is the by-far most complex proposal, as it puts the bar quite high for implementers (it requires a full SVG renderer, and has provisions for animated glyphs). On the other hand, its great advantage is that, once an app has access to the SVG renderer, it can delegate the rendering of the glyphs completely to the SVG library. So the app only needs to call an OpenType Layout library to perform the layout, and then call the SVG renderer for each glyph, and position the rendered bitmaps. So in fact in an SVG-compatible environment using the SVG table would be trivial.</p>
<p>The SVG proposal allows for designs that cannot be achieved by the other solutions: it implements “rich color” (with gradients etc.), allows for drawing various strokes and, of course, intermixing vectors and bitmaps. So it’s potentially very very powerful.</p>
<p>Sairus Patel explained to me at TypeCon that he considers the current proposed spec as “good to go”, and that’s the spec that is implemented in Firefox.</p>
<p>This approach really is an entirely different animal than all of the above. I can easily imagine that the APP, GOO and MIC approaches are all some kind of “color fonts 1.0”, while the SVG proposal is “color fonts 2.0”. There’s is an ongoing debate on the public mailing list of the W3C community, so I won’t get into a detailed discussion here (also because I don’t quite understand some of the complexities involved).</p>
<p>I definitely think, though, that this approach can co-exist with all the previous ones.</p>
<p>One potential co-existence benefit could be if the “SVG ” table co-exists with the MIC “CPAL” table. The SVG glyphs could potentially make references to the color palettes specified within “CPAL”, and if — in future — some means to externally manipulate the “CPAL” palettes were implemented in consuming platforms, both the MIC approach and the SVG approach could benefit from that development.</p>
<p>In the light of the MIC proposal, Sairus Patel mentioned to me that he might consider proposing some extensions to the Microsoft “CPAL” table, and then would consider dropping the color palette format proposed in the SVG spec — so that ultimately both the MIC and the SVG formats could use the “CPAL” table.</p>
<p>[SVG1] <!-- raw HTML omitted --><a href="http://dev.w3.org/SVG/modules/fonts/SVG-OpenType.html">http://dev.w3.org/SVG/modules/fonts/SVG-OpenType.html</a><!-- raw HTML omitted -->
[SVG2] <!-- raw HTML omitted --><a href="http://www.w3.org/community/svgopentype/">http://www.w3.org/community/svgopentype/</a><!-- raw HTML omitted -->
[SVG3] <!-- raw HTML omitted --><a href="http://lists.w3.org/Archives/Public/public-svgopentype/">http://lists.w3.org/Archives/Public/public-svgopentype/</a><!-- raw HTML omitted -->
[SVG4] <!-- raw HTML omitted --><a href="http://robert.ocallahan.org/2013/02/svg-in-opentype-new-approach-to-svg.html">http://robert.ocallahan.org/2013/02/svg-in-opentype-new-approach-to-svg.html</a><!-- raw HTML omitted -->
[SVG5] <!-- raw HTML omitted --><a href="https://github.com/edf825/SVG-OpenType-Utils">https://github.com/edf825/SVG-OpenType-Utils</a><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->PERSONAL CONCLUSION<!-- raw HTML omitted --></p>
<p>In my view, each of the presented approaches has its advantages and disadvantages.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->The Proposals<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>The APP proposal is great in so far that it’s actually already implemented. However, the interaction of the “sbix” and “glyf” tables as implemented in Apple OSes has its serious drawbacks (no fallback scenario). Also, it’s unknown whether the “sbix” table would ever make its way into the official ISO OFF or OpenType specs.</p>
<p>The MIC proposal only “goes color” in a limited scope — it provides a way to render multilayer glyphs with solid fills. But they’re outline glyphs, so they should scale nicely.</p>
<p>The GOO and APP proposals use PNG as their vehicle, so they can have complex fills but would fail in high-resolution scenarios. FreeType already implements the APP proposal with PNG glyph definitions, and the GOO proposal — so it looks like adding support for them was quite easy.</p>
<p>The GOO approach has advantages in so far that it ties into an existing infrastructure of tables, but my fear is that these existing table concepts may be abused (no reference to how scaling should happen). Also, GOO’s insistence over non-presence of the “glyf” table is very limiting, and not understandable: they say they want their extensions to go into the official EBDT/EBLC tables, but those tables make no such requirement.</p>
<p>In principle, the MIC and GOO approaches could be easily “married together”: the MIC proposal would be useful for multilayer glyphs with solid fills, the GOO approach for glyphs which require more refined bitmap treatment, and fallback scenarios could be defined rather well.</p>
<p>The SVG approach is very welcome, and, as I said, a kind of “2.0” thing. I believe the discussion on them should continue, even if implementations of those could be confined to only the web browser context. Also, Firefox actually already implements the SVG approach, which is very good news.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->Color Palettes<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>As for <!-- raw HTML omitted -->color palettes<!-- raw HTML omitted -->, I consider its addition to font formats (whether through a unified and further developed “CPAL” table or through several separate mechanisms) as <!-- raw HTML omitted -->third element of typographic user control<!-- raw HTML omitted -->.</p>
<p>Historically, the first user control mechanism was just the “cmap” table: the user’s control over a font was limited to just entering a string of Unicodes, and picking the font size — and the rest would be done by the font.</p>
<p>The second mechanism was the addition of the “GSUB”/“GPOS” tables: user’s control was extended by the ability to specify OpenType Layout features that should be applied to the text.</p>
<p>And now, we’re extending the user’s control by adding ability to specify multiple colors through the font’s color palette.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->Relation to Existing Solutions<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>When comparing the <!-- raw HTML omitted -->outline color font format<!-- raw HTML omitted --> proposals, I would use the following analogy:</p>
<!-- raw HTML omitted -->
<p>Before color fonts, <!-- raw HTML omitted -->OpenType<!-- raw HTML omitted --> had three separate possible glyph sources:</p>
<!-- raw HTML omitted -->
<p>All three solutions “co-existed peacefully” in the monochrome font world.</p>
<p>The GOO proposal plugs directly into the embedded bitmaps mechanism, but extends it with color.</p>
<p>The MIC proposal extends the “glyf” table and provides a simple solution for “flat colors”, but is quite limited beyond that. Yet it allows precise hinting.</p>
<p>The SVG proposal is a cousin of the “CFF ” table: it’s technically the most complex, and requires a very smart, “active” rasterizer. It does not offer hinting but allows more complex design solutions than the other proposals.</p>
<p>I hope that a similar “peaceful co-existence” can emerge for the color proposals that had existed for the monochrome solutions. Each of them has its merits and none of them is sufficient by its own.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->Support by FontLab apps<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>As a tiny bit of self-promotion, I shall add that Fontlab Ltd. will soon be releasing a free app for Mac and Windows called <!-- raw HTML omitted -->FontLab Pad<!-- raw HTML omitted --> which will allow users on both OSes to use fonts that implement any of the above proposals (currently the APP and MIC formats are implemented but more support is being added as we speak). Also, FontLab’s <!-- raw HTML omitted -->TransType 4<!-- raw HTML omitted --> allows simple creation of MIC-compatible fonts through overlaying existing “layered fonts” and assigning each layer a color. TransType can also output APP-compatible fonts with the same contents. In combination with FontLab’s <!-- raw HTML omitted -->BitFonter 3<!-- raw HTML omitted -->, TransType 4 can be used to produce sophisticated full-bitmap color fonts in the APP-compatible format.</p>
<p>At FontLab, we are very happy with this development and support it fully. Our upcoming font editors will support multicolor fonts natively, with layers and potentially also complex fills, so fonts in all color formats (including SVG) can be created.</p>
<p>Best regards,
Adam Twardoch</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2013-08-30 11:58:29"
			itemprop="datePublished"
		>
			2013-08-30 11:58:29
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>twardoch</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
