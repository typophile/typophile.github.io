<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>(Opentype) One to many substitution | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="(Opentype) One to many substitution" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/82971/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2011-06-11T00:40:55+00:00" />
<meta property="article:modified_time" content="2011-06-11T00:40:55+00:00" />

<meta itemprop="name" content="(Opentype) One to many substitution">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2011-06-11T00:40:55+00:00" />
<meta itemprop="dateModified" content="2011-06-11T00:40:55+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="(Opentype) One to many substitution"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">(Opentype) One to many substitution</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2011-06-11T00:40:55Z">June 11, 2011</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Tosche">
            Tosche
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>Hi everyone,</p>
<p>I&rsquo;m trying to write a Opentype code with one-to-multiple glyphs, but Fontlab and FDK won&rsquo;t compile it.
For example, I want to substitute ß by a couple of smallcap S in smcp feature, and I want to make SS separate (spacable, kernable or whatever). Some fonts have smallcap counterpart of ß as SS as a single glyph, but obviously you cannot space it.</p>
<p>There are some other characters that I want to apply this substitution, I really want to figure out how to do it (or whether it is possible or not). I also heard that Adobe apps including FDK do not support this substitution but Microsoft apps do. Is it correct?</p>
<p>I would like to know whatever you know about this.</p>
<p>Thank you.</p>
</div>

  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Adobe FDK for OpenType 2.5 should do it fine. Just tested it, works fine.</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-06-11 13:53:30"
			itemprop="datePublished"
		>
			2011-06-11 13:53:30
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:twardoch">
            twardoch
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Ps. If you want to make sure that something reasonable will happen in applications that do not support it, you can do the following:</p>
<p><code>feature smcp { 
lookup smcp1 { 
sub germandbls by germandbls.smcp; 
&hellip;all the other smcp substitutions&hellip;
} smcp1; 
lookup smcp2 { 
sub germandbls.smcp by s.smcp s.smcp; 
} smcp2; 
} smcp;</code></p>
<p>This way, OpenType engines will have two passes at your text. The first step will replace germandbls with a ligature version of small-cap &ldquo;ss&rdquo;, which you of course do need to include in your font in that situation, and the second pass (i.e. the second lookup) will replace that one with two small-cap &ldquo;s&quot;es, but this lookup will be ignored if an application doesn&rsquo;t support one-to-many. So in the newer apps, you&rsquo;ll get two small-cap &ldquo;s&quot;es, and in older ones, you&rsquo;ll get the &ldquo;ss&rdquo; small-cap ligature. An acceptable compromise, I think.</p>
<p>Best,
Adam</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-06-11 13:57:35"
			itemprop="datePublished"
		>
			2011-06-11 13:57:35
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:twardoch">
            twardoch
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Thanks Adam, it works! (Why couldn&rsquo;t I solve such a simple problem?)
I do agree that the two-step substitution is a good compromise.</p>
<p>Also, I want to have a stylistic sets that substitutes Arabic figures by Roman figures.
This time FDK refuses to generate otf for sure, saying &ldquo;Unsupported contextual GSUB replacement sequence&rdquo;.
(If I remove Two Digits section, it works.)
By the way, I do understand such an usage is strongly discouraged, but I want to understand why it doesn&rsquo;t work.</p>
<p><code>@figures=<strong>[</strong>zero one two three four five six seven eight nine<strong>]</strong><strong>;</strong></p>
<p><code><strong>feature</strong> ss02 <strong>{</strong></p>
<p><code>#Two digits
<code>	<strong>sub</strong> one zero <strong>by</strong> Tenroman<strong>;</strong>
<code>	<strong>sub</strong> one one <strong>by</strong> Elevenroman<strong>;</strong>
<code>	<strong>sub</strong> one two <strong>by</strong> Twelveroman<strong>;</strong>
<code>	<strong>sub</strong> one<strong>'</strong> <strong>[</strong>four five six seven eight nine<strong>]</strong> <strong>by</strong> Tenroman<strong>;</strong>
<code>	<strong>sub</strong> two<strong>'</strong> @figures <strong>by</strong> Tenroman Tenroman<strong>;</strong>
<code>	<strong>sub</strong> three<strong>'</strong> @figures <strong>by</strong> Tenroman Tenroman Tenroman<strong>;</strong>
<code>	<strong>sub</strong> four<strong>'</strong> @figures <strong>by</strong> Fiftyroman Tenroman<strong>;</strong>
<code>	<strong>sub</strong> five<strong>'</strong> @figures <strong>by</strong> Fiftyroman<strong>;</strong>
<code>	<strong>sub</strong> six<strong>'</strong> @figures <strong>by</strong> Fiftyroman Tenroman<strong>;</strong>
<code>	<strong>sub</strong> seven<strong>'</strong> @figures <strong>by</strong> Fiftyroman Tenroman Tenroman<strong>;</strong>
<code>	<strong>sub</strong> eight<strong>'</strong> @figures <strong>by</strong> Fiftyroman Tenroman Tenroman Tenroman<strong>;</strong>
<code>	<strong>sub</strong> nine<strong>'</strong> @figures <strong>by</strong> Tenroman Hundredroman<strong>;</strong></p>
<p><code>#One digit
<code>	<strong>sub</strong> one <strong>by</strong> Oneroman<strong>;</strong>
<code>	<strong>sub</strong> two <strong>by</strong> Tworoman<strong>;</strong>
<code>	<strong>sub</strong> three <strong>by</strong> Threeroman<strong>;</strong>
<code>	<strong>sub</strong> four <strong>by</strong> Fourroman<strong>;</strong>
<code>	<strong>sub</strong> five <strong>by</strong> Fiveroman<strong>;</strong>
<code>	<strong>sub</strong> six <strong>by</strong> Sixroman<strong>;</strong>
<code>	<strong>sub</strong> seven <strong>by</strong> Sevenroman<strong>;</strong>
<code>	<strong>sub</strong> eight <strong>by</strong> Eightroman<strong>;</strong>
<code>	<strong>sub</strong> nine <strong>by</strong> Nineroman<strong>;</strong>
<code>
<code>	<strong>sub</strong> zero <strong>by</strong> zero.ghost<strong>;</strong>
<code><strong>}</strong> ss02<strong>;</strong></p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-06-11 19:25:16"
			itemprop="datePublished"
		>
			2011-06-11 19:25:16
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Tosche">
            Tosche
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Wait, is that because I sould not mix different types of substitutions without specifying each lookups?</p>
<p>Also, the germandbls.smcp is not replaced with two &ldquo;S.smcp&quot;s in InDesign.
Is there absolutely no way to do it in Adobe Apps?</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-06-11 20:18:32"
			itemprop="datePublished"
		>
			2011-06-11 20:18:32
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Tosche">
            Tosche
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><em>Is there absolutely no way to do it in Adobe Apps?</em></p>
<p>Ummm&hellip;why not simply create an S_S.smcp glyph and be done with the two-pass-on-worky-in-iD song-and-dance?</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-06-11 21:21:07"
			itemprop="datePublished"
		>
			2011-06-11 21:21:07
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:oldnick">
            oldnick
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Related:
<a href="http://typophile.com/node/82806">http://typophile.com/node/82806</a>
<a href="http://typophile.com/node/4852">http://typophile.com/node/4852</a>
<a href="http://typophile.com/node/67366">http://typophile.com/node/67366</a></div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-06-12 00:34:24"
			itemprop="datePublished"
		>
			2011-06-12 00:34:24
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:riccard0">
            riccard0
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>@oldnick I don&rsquo;t know what <em>two-pass-on-worky-in-iD song-and-dance</em> means, but I want those SSes to be spacable or kernable.</p>
<p>@riccard0 Thanks, that solved all the question I had (probably). I still cannot find the way I originally wanted, but the Arabic-to-Roman numeral substitution with full spacability seems impossible at this point.</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-06-12 01:19:28"
			itemprop="datePublished"
		>
			2011-06-12 01:19:28
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Tosche">
            Tosche
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Tosche,</p>
<p>yes, each lookup must be of one particular kind. So all substitutions of one particular type can be in one lookup, but if you have one non-contextual and one contextual sub, they need to be in different lookups. That&rsquo;s how OpenType Layout works.</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-06-21 13:46:01"
			itemprop="datePublished"
		>
			2011-06-21 13:46:01
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:twardoch">
            twardoch
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p><em>I want those SSes to be spacable or kernable</em></p>
<p>So, place the S_S.smcp ligature in your s.smcp class&hellip;</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-06-21 16:52:13"
			itemprop="datePublished"
		>
			2011-06-21 16:52:13
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:oldnick">
            oldnick
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I think he means the space <em>between</em> the /S/s.</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-06-21 17:26:45"
			itemprop="datePublished"
		>
			2011-06-21 17:26:45
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:eliason">
            eliason
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><cite>I think he means the space between the /S/s.</cite>
Yes, that&rsquo;s what I meant. As far as I learnt there&rsquo;s nothing I can do with it.
Many thanks to everybody who contributed to this topic.</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2011-07-19 14:12:20"
			itemprop="datePublished"
		>
			2011-07-19 14:12:20
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Tosche">
            Tosche
	    </a>
			</span></span>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
