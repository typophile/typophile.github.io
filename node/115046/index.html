<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>VOLT programming for Malayalam script | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="VOLT programming for Malayalam script" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/115046/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2014-03-17T20:52:02+00:00" />
<meta property="article:modified_time" content="2014-03-17T20:52:02+00:00" />

<meta itemprop="name" content="VOLT programming for Malayalam script">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2014-03-17T20:52:02+00:00" />
<meta itemprop="dateModified" content="2014-03-17T20:52:02+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="VOLT programming for Malayalam script"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">VOLT programming for Malayalam script</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2014-03-17T20:52:02Z">March 17, 2014</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">jonpinhorn_type</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>I&rsquo;m currently in the process of using Microsoft VOLT to programme a Malayalam typeface and I have run into a few problems that I just don&rsquo;t understand how to fix. I&rsquo;m currently testing my file in Microsoft Word 2010.</p>
<p>1, Malayalam has glyphs known as chillaksaram which, as I understand it, are formed through inputting a string like this: 
na (ന) + virama ( ്) + ZWJ [Control+Shift+1]= ൻ.</p>
<p>Within VOLT, I have included the relevant strings into a post-base substitution <!-- raw HTML omitted --> lookup and feature. This lookup sits below Akhand <!-- raw HTML omitted --> and Below-base form <!-- raw HTML omitted --> lookups that I have created.</p>
<p>2, Malayalam uses a rakar glyph that substitutes ra (ര) + virama ( ്). The substitution itself works but it doesn&rsquo;t repositioning to precede it&rsquo;s base consonant. I assume this is the job of the shaping engine and so I do not understand what action I&rsquo;m either not doing or preventing from happening?</p>
<p>3, Finally, and more generally, I&rsquo;m unsure which script I should be using; Malayalam <!-- raw HTML omitted --> or Malayalam v.2 <!-- raw HTML omitted -->, or both? I need support for both Windows and Mac OSX systems. I often find problems that vary between them. I have been trying to follow closely the specifications laid out in Microsoft&rsquo;s Opentype Specification manual: <a href="http://www.microsoft.com/typography/OpenTypeDev/malayalam/intro.htm">http://www.microsoft.com/typography/OpenTypeDev/malayalam/intro.htm</a></p>
<p>Hopefully someone can point me in the right direction.</p>
<p>Thanks in advance</p>
<p>Jonny Pinhorn</p>
</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Just to make sure: can you test the same string with WordPad? Its Unicode engine should be the same, but it misses lots of the extra &ldquo;fluff&rdquo; Word carries along. (And if I remember correctly it should even work with Notepad.)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2014-03-17 21:21:02"
			itemprop="datePublished"
		>
			2014-03-17 21:21:02
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Theunis de Jong</span
			></span
		>
	</div>
	 <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I&rsquo;ve just checked, WordPad contains the same rakar and chillu problems. Thanks for your speedy response, Theunis.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2014-03-18 08:58:43"
			itemprop="datePublished"
		>
			2014-03-18 08:58:43
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>jonpinhorn_type</span
			></span
		>
	</div>
	
</div>
 
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Sorry not to have responded sooner; I just noticed this.</p>
<p>The current OT Malayalam spec is somewhat misleading with regard to what the shaping engine actually does. My guess is that eventually the shaping engine behaviour will need to be revised, because it&rsquo;s sort of broken; in the meantime, though, it is possible to make a Malayalam font that works reasonably well, but you have to put all conjunct ligature lookups in the {akhn} feature and not use the {cjct} and {pres} features as you would for other Indic scripts.</p>
<p>In response to your particular questions (using my conventional development glyph names):</p>
<ol>
<li>
<p>Chillu substitutions should be the first lookup in the {akhn} feature, processed before any others. The sequence you have is correct: letter + virama + ZWJ. Note that you might also want a ligature for 
<!-- raw HTML omitted -->mNa mVirama ZWJ mRra -&gt; mChilluNRra<!-- raw HTML omitted -->
which should precede the shorter chillu strings in the lookup.</p>
</li>
<li>
<p>For v.2 shaping, the input for the prescript rakar is 
<!-- raw HTML omitted -->mVirama mRa -&gt; mRakar<!-- raw HTML omitted -->
and this lookup must be associated with the {pref} feature. The layout engine knows to reorder the output of the {pref} feature to the beginning of the cluster.</p>
</li>
<li>
<p>You should only need to implement the Malayalam v.2 shaping and can ignore the older spec. The v.2 shaping is used in all versions of Windows from Vista on, and Malayalam is also one of the scripts for which Adobe&rsquo;s World Ready Composer implements the v.2 shaping, albeit with some bugs. [See http://www.typophile.com/node/94543 ]</p>
</li>
</ol>
<p>Malayalam is the most difficult Indic script for which I&rsquo;ve had to program in VOLT, not just because of the issues with the shaping engine and spec, but because the orthographic conventions of how Malayalam is written represent a subset of capabilities of the writing system. In modern Malayalam, conventional preference dictates that some conjuncts must be written with ligatures, some with subscripts, and some with explicit virama, while other are acceptable in more than one form. This means your VOLT programming needs to handle prioritisation of particular conjunct formation using contextual rules. So, for instance, when three letters occur in a conjunct, you need to know which two-letter portion of the conjunct takes preference as a ligature or subscript form and where an explicit virama should be.</p>
<p>I&rsquo;m afraid I don&rsquo;t have this information in a form that I can publicly share yet.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2014-03-28 18:02:56"
			itemprop="datePublished"
		>
			2014-03-28 18:02:56
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>John,</p>
<p>On closer inspection, I have found that my Malayalam font has some strange errors that don&rsquo;t make sense to me. Having made the alterations you suggested above my chillu forms substitute correctly and my rakar form now correctly jumps to it&rsquo;s correct pre-base position but now two new issues have occurred.</p>
<p>All but one of my below-base marks substitute correctly on Windows but not within Indesign CS6. Why only the one consonant (mLa) substitutes and not the others is puzzling. I&rsquo;d have thought it was all or nothing?</p>
<p>The other issue is that I cannot make rakar ligatures in Windows or CS6. For example:
mPa mVirama mRa -&gt; mPra</p>
<p>I&rsquo;ve also tinkered with the strings in these ways without success:
&lsquo;mPa mRakar -&gt; mPra&rsquo; or &lsquo;mRakar mPa -&gt; mPra</p>
<p>I assumed they have to be held within the AKHN lookup because you stated above that&rsquo;s where all conjunct ligatures should be located?</p>
<p>The Malayalam example within the &lsquo;CS6IndicTagTest.pdf&rsquo; document you kindly shared on Typophile shows neither below-base conjuncts or rakar ligatures where there is the potential for them; this suggests it&rsquo;s not yet possible to implement these within CS6 as we have previously discussed?</p>
<p>Thanks.</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2014-04-10 13:37:09"
			itemprop="datePublished"
		>
			2014-04-10 13:37:09
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>jonpinhorn_type</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>I&rsquo;ve not done very much testing of Malayalam in InDesign, so it is entirely possible that there are problems beyond those I noted in my earlier documentation. All my Malayalam work to date has been targeting Microsoft&rsquo;s implementation, and that too with the caveat that the shaping may need to change in future.</p>
<p>You are handling the below-base substitutions for consonants in the {blwf} feature, yes?</p>
<p>I have to admit that subscript -La is an oddity: something I can make work without really understanding why it is done this way. It has its own {blwf} lookup (which isn&rsquo;t unusual, given that most of the subscripts have context exceptions), but then the conjunct ligatures involving subscript -La are handled subsequently in {blws}, rather than in the {akhn} feature with the other ligatures. I first noticed this in Microsoft&rsquo;s Kartika font, but no one at MS nor my Malayalam contact have been able to suggest why this might be so. I&rsquo;m hoping I might get this cleared up when I look at the Malayalam shaping engine issues in more detail later this month.</p>
<p>When you refer to rakar ligatures, I presume you mean traditional lipi forms. I&rsquo;ve not had occasion to try to implement these, as all my Malayalam fonts have been for the reformed orthography. But my assumption would be that these substitutions would need to be performed in the {akhn} feature, before the {pref} feature substitutes the prescript -Ra, because the latter would trigger reordering by the layout engine. So I would expect (using my glyph naming conventions)</p>
<p><!-- raw HTML omitted -->mPa  mVirama mRa -&gt; mPRa<!-- raw HTML omitted --></p>
<p>in the {akhn} feature to work. If it doesn&rsquo;t then</p>
<p>I can probably spare half an hour or so to look at your VOLT source, if that might help.</p>
<p>john[at]tiro[dot]ca</p>
</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2014-04-11 01:45:53"
			itemprop="datePublished"
		>
			2014-04-11 01:45:53
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>John Hudson</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
