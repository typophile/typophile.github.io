<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>contextual multiple substitution in OT | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="contextual multiple substitution in OT" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/74073/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2010-09-10T23:09:38+00:00" />
<meta property="article:modified_time" content="2010-09-10T23:09:38+00:00" />

<meta itemprop="name" content="contextual multiple substitution in OT">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2010-09-10T23:09:38+00:00" />
<meta itemprop="dateModified" content="2010-09-10T23:09:38+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="contextual multiple substitution in OT"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">contextual multiple substitution in OT</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2010-09-10T23:09:38Z">September 10, 2010</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">siggy</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">I'm trying to set up a contextual multiple substitution (one-to-many), but FOG 5 keeps choking on the feature file and won't generate a font. The same substitution works in VOLT for TrueType OpenType fonts, although the substitution works only in Microsoft programs, and not in Adobe programs.

In VOLT, I was able to set up the substitution as: 
 
<ul>   comma -> special_glyph comma <em>-- when preceded by --</em> glyph_group </ul>
 
Now I'm trying to use it in a feature file (based on Adobe specs) for generating a CFF OpenType font in Fontographer 5.

Here's the basic syntax for an Adobe spec feature file:

<ul>    sub [ @Glyphclass ] comma' by specialglyph comma; </ul>

Essentially, the comma should be replaced with both the specialglyph and the comma whenever the comma follows anything within the @Glyphclass. I can get the multiple substitution to work without the context, but it doesn't work with the context.

Is it possible to set up a multiple substitution with a contextual exception? In other words, the substitution always happens, except in certain contexts (ignore substitution rule)?

Would it work to use contextual chaining?

If the above is not possible with an Adobe spec feature file, is it possible to use VOLT to add OpenType layout to a CFF/PostScript .otf file made in FOG 5? 

Thanks!

</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><em>specialglyph comma</em>

I don't think spaces are allowed in glyph names...</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-09-10 23:39:46"
			itemprop="datePublished"
		>
			2010-09-10 23:39:46
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>oldnick</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">- I think Adobe applications (or at least InDesign) in the past had problems doing multiple substitutions. This may've changed since I looked at this.

- Yes, it is possible to do multiple substitution with exception context in VOLT. There are no restrictions on EXCEPT contexts unless they should go before 'normal' ones.

- VOLT can load and compile CFF fonts, but won't show any glyphs. People working on CFF fonts usually convert them to TTFs for VOLT work and when layout tables are ready just move them into final font as binaries.

Thanks,
Sergey

</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-09-10 23:56:46"
			itemprop="datePublished"
		>
			2010-09-10 23:56:46
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>sergeym</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">@ siggy

http://forum.fontlab.com/adobe-fdk-for-opentype-afdko/contextual-multiple-substitution-error-t7702.0.html;msg26029#msg26029

@ oldnick

There is no space in the glyph name. That are two glyph names. It is a one to multiple substitution.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-09-11 19:08:51"
			itemprop="datePublished"
		>
			2010-09-11 19:08:51
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Arno Enslin</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Sergey:

I tested Adobe CS4 apps (ID, PS, AI), which do not support multiple substitution (one-to-many). Haven't tried CS5.

Your 3rd point -- I have no idea how to move layout tables into a font as binaries. How much work is involved? I've got 8 font files I would have to do this to.
 

Arno:

Thanks for the code snippet. I'll try it.

</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-09-13 20:26:09"
			itemprop="datePublished"
		>
			2010-09-13 20:26:09
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>siggy</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
