<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Opentype: Substitution one-after-another - sub x by y; sub y by z;? | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <meta property="og:title" content="Opentype: Substitution one-after-another - sub x by y; sub y by z;?" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/56359/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2009-03-29T16:46:46+00:00" />
<meta property="article:modified_time" content="2009-03-29T16:46:46+00:00" />

<meta itemprop="name" content="Opentype: Substitution one-after-another - sub x by y; sub y by z;?">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2009-03-29T16:46:46+00:00" />
<meta itemprop="dateModified" content="2009-03-29T16:46:46+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Opentype: Substitution one-after-another - sub x by y; sub y by z;?"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main class="pb7" role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Opentype: Substitution one-after-another - sub x by y; sub y by z;?</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2009-03-29T16:46:46Z">March 29, 2009</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Sebastian Nagel</span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody">Dear Typophiles,

sorry for maybe asking a quite basic question, i just can't find a potent keyword that gets me to the for sure existing answers, so I'm asking for a link to other threads or a short explanation ... It should be simple, but it just does not work at the moment and I don't know what I am doing wrong. :(


I try to to a "multi-step" one-after-another-replacement with opentype (fontlab 5):

Let's say I have a glyph x.
in calt-feature, i substitute x by x.alt
after that, i want to check another condition, 
and in case it applies, want to sub x.alt by x.alt2

is this possible to do?


To explain what i actually want to achieve with this:
i want to do a script font, that has three vertical levels of connectors to the glyph right before it. So i have 4 variations of each letter, i.e.   h h.low h.mid h.top 
depentent on its predecessors "end", the basic "h" is replaced by its low mid or top connector variant so it fits seamlessly.
after that, i want to check if the glyph is set at the end of a word (followed by a space for the beginning), and if so, the .low .mid or .top variant is replaced by a .low.end .mid.end or .top.end variant ...


thanks for your help
Sebastian</div>

   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Substitutions occur in sequence, in the order you wrote your lookups from the top to the bottom. So when you have your first lookup for changing x to x.alt1 , you have to pay attention for your second lookup whether the first condition has met, could be met or not. Whether for your second lookup you are dealing with x or x.alt1 or both, in order to change it to x.alt2
So it is important to pay attention to the sequence of events and write the lookups accordingly.

You are right. There are a lot of good discussions about this in here but I don't remember the topics off hand. Keep looking. You'll find them.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-03-30 01:03:33"
			itemprop="datePublished"
		>
			2009-03-30 01:03:33
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>behnam</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">thanks for this.
I have found a (maybe not very sophisticated) solution.

To connect this thread to the font thread I have just created:
http://typophile.com/node/56408

maybe it's better to discuss there.</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-03-30 22:08:34"
			itemprop="datePublished"
		>
			2009-03-30 22:08:34
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Sebastian Nagel</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Sebastian, 

After one lookup is processed, the application goes back to the beginning of the text string (or better: text run, i.e. the portion of the text string which has the same font, size, writing system/script, and directionality), and processes the next lookup. So your code should look like: 

<code>feature calt { 
lookup calt1 { 
sub @condition1 x' by x.alt; 
} calt;
lookup calt2 { 
sub @condition2 x.alt' by x.alt2; 
} calt2
} calt;</code>

Cheers,
Adam</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-04-03 16:47:17"
			itemprop="datePublished"
		>
			2009-04-03 16:47:17
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>twardoch</span
			></span
		>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thank you Adam, now it's perfectly clear what it does :)

(i should have known though ...)</div>
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2009-04-05 08:37:37"
			itemprop="datePublished"
		>
			2009-04-05 08:37:37
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">
			<span class="p-author h-card" itemprop="name"
				>Sebastian Nagel</span
			></span
		>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
