<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Vietnamese accents: beyond the Bbox. | Typophile Archive</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.91.2" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="/style.css" rel="stylesheet">

    <meta property="og:title" content="Vietnamese accents: beyond the Bbox." />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://typophile.github.io/node/72954/" /><meta property="article:section" content="node" />
<meta property="article:published_time" content="2010-08-06T04:30:25+00:00" />
<meta property="article:modified_time" content="2010-08-06T04:30:25+00:00" />

<meta itemprop="name" content="Vietnamese accents: beyond the Bbox.">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2010-08-06T04:30:25+00:00" />
<meta itemprop="dateModified" content="2010-08-06T04:30:25+00:00" />
<meta itemprop="wordCount" content="0">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Vietnamese accents: beyond the Bbox."/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0">

      <header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="/">Typophile Archive</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>
 
    <main role="main">
      
<article class="container">
  <header class="post-header py-3">
    <h1 class="post-title p-name" itemprop="name headline">Vietnamese accents: beyond the Bbox.</h1>
    <p class="text-muted">
              
      <time class="f6 mv4 dib tracked" datetime="2010-08-06T04:30:25Z">August 6, 2010</time>
      
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Ray&#43;Larabie">
            Ray Larabie
	    </a>
        </span></span>
      

    </p>
  </header>
  <div class="post-content e-content" itemprop="articleBody"><p>When dealing with high Vietnamese accents such as:
uni1EA4
uni1EA6
uni1EA8
uni1EAA
uni1EAE
uni1EB0
uni1EB2
uni1EB4
uni1EBE
uni1EC0
uni1EC2
uni1EC4
uni1ED0
uni1ED2
uni1ED4
uni1ED6</p>
<p>There&rsquo;s a problem to deal with because the accents are vertically stacked. Usually when figuring out font metrics, I assume Aring is as tall as it gets and scale accordingly. But sometimes I later need to add Vietnamese accents. When I refer to Bbox limit I mean the highest point. In my case, it&rsquo;s usually the same as the Winascent and hhea Ascender.</p>
<p>As far as I know, there are 3 solutions:</p>
<p>1: Reduce the size of the entire font to allow for the high accents which will make the font look tiny compared to other fonts and in some apps it will affect line spacing. Not a great option when adding to existing fonts.</p>
<p>2: Squashed accents which don&rsquo;t exceed the Aring height. This can be acceptable for display fonts but not so good for text.</p>
<p>3: Go beyond the upper Bbox limits (usually the Aring height).</p>
<p>Some OS core fonts have Vietnamese upper accents which go beyond the Bbox limit. What happens to Vietnamese core fonts in various browsers? I assume the accents wouldn&rsquo;t get clipped. Do browsers pad the line spacing with Vietnamese the same way they pad superiors &amp; ordinals? What are the negative consequences to exceeding the Bbox limit this way?</p>
</div>

  
   <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Don&rsquo;t forget (4): Increase the BBox size, along with os_2.usWinAscent and hhea.Ascender</p>
<p>Of course, (4) would result in increased line spacing in many less savvy apps.</p>
<p>But (3) will result in clipping in many less savvy Windows apps. Of course, you wouldn&rsquo;t &ldquo;go beyond the BBox limits&rdquo; exactly: you&rsquo;d increase the BBox but not the os_2.usWinAscent and hhea.Ascender.</p>
<p>Cheers,</p>
<p>T</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-06 08:15:47"
			itemprop="datePublished"
		>
			2010-08-06 08:15:47
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Thomas&#43;Phinney">
            Thomas Phinney
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>What are those &ldquo;less savvy&rdquo; Windows. Is there somewhere an overview about what app uses what value for linespacing and clipping?</p>
<p>Best
Georg</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-06 09:01:05"
			itemprop="datePublished"
		>
			2010-08-06 09:01:05
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:schriftgestalt">
            schriftgestalt
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Outside of high end graphics apps used by creative professionals, the overwhelming majority of Windows apps clip to the WinAscent/WinDescent extents. MS Office does, at least through Office 2007.</p>
<p>Office 2010 still normally uses them to determine line spacing, not sure about clipping. There is an extra bit you can set to make Office 2010 pay attention to the Typo metrics instead, for line spacing. (What font geeks call “leading.”)</p>
<p>Regards,</p>
<p>T</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-07 02:55:14"
			itemprop="datePublished"
		>
			2010-08-07 02:55:14
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Thomas&#43;Phinney">
            Thomas Phinney
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>@thomas, that&rsquo;s what I meant by #1. For me it involves scaling down by my fonts are usually squeezed into the OpenType vertical limits.</p>
<p>From an examination of Windows core fonts I get the feeling that the original fonts were designed without Vietnamese accents in mind. To retain the original vertical metrics, they had to squeeze the high Vietnamese accents. I put the red line at the Winascent so you can compare the Aring height as well.</p>
<p>Courier Bold</p>
<p><img src="/images/old-images/Courier1_6562.PNG" alt=""></p>
<p><img src="/images/old-images/Courier2_4543.PNG" alt=""></p>
<p>Arial Bold
The Aring was lower than some other accents.</p>
<p><img src="/images/old-images/arial_4205.PNG" alt=""></p>
<p>Corbel Bold
This was probably designed with high accents in mind. I guess that&rsquo;s why it looks smaller compares to the earlier Windows core fonts. If I change my browser default to Corbel, I have to go up a point size or two.</p>
<p><img src="/images/old-images/corbel1_4820.PNG" alt=""></p>
<p><img src="/images/old-images/corbel2_4743.PNG" alt=""></p>
<p>Canadara Bold
Similar to Corbel</p>
<p><img src="/images/old-images/candara1_4262.PNG" alt=""></p>
<p><img src="/images/old-images/candara2_5361.PNG" alt=""></p>
<p>Not related to Vietnamese, but in lots of Core fonts, the Aringacute pops over . . . but nobody uses them anyway so it who&rsquo;d notice?</p>
<p>So it seems like allowing for the high accents is the proper way to go unless you&rsquo;re adding to a font where backwards compatibility is a high priority. Has anyone seen Vietnamese accents that pop over the vertical limit? How about other OS core fonts?</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-07 06:17:35"
			itemprop="datePublished"
		>
			2010-08-07 06:17:35
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Ray&#43;Larabie">
            Ray Larabie
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">I ran in the same problem when I needed to do [[http://www.flickr.com/photos/exljbris/4661584330/|Vietnamese for Dell]]. Steve Matteson (Ascender/Droid fonts) adviced me to reduce the height of the caps with the stacked accents, which I did.</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-07 10:39:58"
			itemprop="datePublished"
		>
			2010-08-07 10:39:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Jos&#43;Buivenga">
            Jos Buivenga
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Has anyone seen an example of Vietnamese accents exceeding the Winascent or hhea ascent limit?</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-07 15:46:57"
			itemprop="datePublished"
		>
			2010-08-07 15:46:57
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Ray&#43;Larabie">
            Ray Larabie
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Thomas: <em>There is an extra bit you can set to make Office 2010 pay attention to the Typo metrics instead, for line spacing.</em></p>
<p>fsSelection bit 7 was already sort of supported in Office 2007, and could be used to affect the size of font names and samples in the font menu (which would otherwise scale the height of the win metrics to fit the menu line height), but within text it didn&rsquo;t really work as intended because Word would apply its own algorithm to avoid line clashes. I wonder if this has changed in Office 2010?</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-07 17:55:05"
			itemprop="datePublished"
		>
			2010-08-07 17:55:05
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:John&#43;Hudson">
            John Hudson
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Jos: did you reduce the height of all the caps, or just the ones with stacked accents? (It sounds like the latter, I just wanted to be clear.)</p>
<p>John: Wow, time flies. I still had it in my head as &ldquo;the next or most recent version of Office for Windows.&rdquo; Wasn&rsquo;t it just last week you and I were doing presentations about this stuff? But you&rsquo;re going to tell me it was 2006-07. Sheesh.</p>
<p>T</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-10 02:46:06"
			itemprop="datePublished"
		>
			2010-08-10 02:46:06
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Thomas&#43;Phinney">
            Thomas Phinney
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Thomas: <em>But you&rsquo;re going to tell me it was 2006-07.</em></p>
<p>I remember presenting my analysis of the problems of Windows linespacing at ATypI in Prague in 2004. I remember it well because I was running late to get to the session, and thoughtlessly hopped into a taxi that turned out to be unlicensed, with a meter that counted up at an incredible rate and a driver who tried to give me Hungarian currency as change. At the hotel, everyone crammed into one of the small rooms being used for tech workshops, and many of us ended up sitting on the floor.</p>
<p>The 2004 context of the sudden urgency around the long practice of apps using OS/2 usWin values to determine default linespacing, although I couldn&rsquo;t say so at the time, was the MS Cambria Math font. We needed a way to get Word to scale to the Typo values in the font menu, because otherwise the Cambria Math font looked like it was about 3pt. Fortunately, Greg and Si and others at MS agreed that a general mechanism within the OT spec was a good idea, the other option being a font-specific hack in Word.</p>
<p>The other table version 4 changes to the OS/2 fSelection bit came later.</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-10 03:12:58"
			itemprop="datePublished"
		>
			2010-08-10 03:12:58
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:John&#43;Hudson">
            John Hudson
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody">Thomas, just the ones with the stacked accents: ẪẮẰẲẴỄỖ</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-10 12:14:59"
			itemprop="datePublished"
		>
			2010-08-10 12:14:59
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Jos&#43;Buivenga">
            Jos Buivenga
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>@John Hudson 
<cite>fsSelection bit 7 was already sort of supported in Office 2007, and could be used to affect the size of font names and samples in the font menu (which would otherwise scale the height of the win metrics to fit the menu line height)</cite></p>
<p>May experience is contrary to this, AFAIKC, Office is ignoring it both in the menu and in the main text, check my [[http://www.typophile.com/node/71171|XITS]] font for example.</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-10 13:12:32"
			itemprop="datePublished"
		>
			2010-08-10 13:12:32
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Khaled&#43;Hosny">
            Khaled Hosny
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>Khaled, this is how Cambria and Cambria Math appear in the Windows Word 2007 font menu:</p>
<p><img src="/images/old-images/cambmenu_5619.png" alt=""></p>
<p>This is with the fsSelection bit set. They are scaled the same despite the fact that their OS/2 usWin metrics are very different:</p>
<p>Cambria Regular
usWinAscent = 2075
usWinDescent = -455</p>
<p>Cambria Math
usWinAscent = 6383
usWinDescent = -5045</p>
<p>If the fsSelection bit is not set, the Cambria Math is scaled smaller.</p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-10 17:10:50"
			itemprop="datePublished"
		>
			2010-08-10 17:10:50
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:John&#43;Hudson">
            John Hudson
	    </a>
			</span></span>
	</div>
	
</div>
  <div class="comment card m-3">
	<div class="card-body">
		<div class="commentbody"><p>But my font has set fsSelection bit set, proper typo ascent/descent values, yet win values are used in the menus, I&rsquo;d be really grateful if some one can enlighten me what is wrong in my font.</p>
<p>Here is the relevant bit of OS/2 table as extracted by ttx:
<code>
&lt;fsSelection value=&ldquo;00000000 11000000&rdquo;/&gt;
&lt;sTypoAscender value=&ldquo;750&rdquo;/&gt;
&lt;sTypoDescender value=&quot;-250&quot;/&gt;
&lt;sTypoLineGap value=&ldquo;510&rdquo;/&gt;
&lt;usWinAscent value=&ldquo;2598&rdquo;/&gt;
&lt;usWinDescent value=&ldquo;536&rdquo;/&gt;
</code></p>
</div>
		
	</div>
	<div class="card-footer text-muted post-meta text-end">
		<time
			class="dt-published"
			datetime="2010-08-10 22:38:37"
			itemprop="datePublished"
		>
			2010-08-10 22:38:37
		</time>
		•
		<span itemprop="author" itemscope itemtype="http://schema.org/Person">

			<span class="p-author h-card" itemprop="name">
            <a href="/?q=author:Khaled&#43;Hosny">
            Khaled Hosny
	    </a>
			</span></span>
	</div>
	
</div>
 
</article>

    </main>
    
  </body>
</html>
