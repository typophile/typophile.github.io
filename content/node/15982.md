---
author:
  name: Nick Shinn
  picture: 110193
body: "As has been suggested by [[John Hudson]], it would be useful to provide an
  all-cap setting for [[Greek]] which removes all accents (which is standard practice).
  And he has suggested [[titl|Titling Alternates]] as the feature.\r\n\r\nIt seems
  straightforward, except for the wrinkle of \"double-glyph\" characters such as \"RoughAlpha-iota\":
  I need three extra alternates to handle this situation, Alpha-Iota, Eta-Iota, and
  Omega-Iota, right?"
comments:
- author:
    name: John Hudson
    picture: 110397
  body: "Nick, that wasn't what I suggested using the Titling Alternates for. For
    removing the accents from Greek all-caps settings, I use the COntextual Alternates
    (calt) feature, and map directly to the corresponding unaccented glyphs. The contextual
    substitution is a two-stage process:\r\n\r\nWhere a tonos or oxia falls on the
    first vowel of a two-vowel combination that can be read as a diphthong, I change
    the second vowel to add a dialytika over it. Then I remove all accents except
    the dialytika. I do this for both all-caps and smallcaps.\r\n\r\nBy using the
    Contextual Alternates feature, I ensure that this behaviour is active by default
    -- which it should be, as it is the grammatical norm --, but allow users to turn
    the accents back on if they want them by turning off the feature."
  created: '2005-11-02 08:30:21'
- author:
    name: Nick Shinn
    picture: 110193
  body: ">Where a tonos or oxia falls on the first vowel of a two-vowel combination
    that can be read as a diphthong, I change the second vowel to add a dialytika
    over it. Then I remove all accents except the dialytika.\r\n\r\nI'm afraid I don't
    understand that. Sorry for being a bit slow on the uptake, but could you spell
    it out a bit more? Thanks! "
  created: '2005-11-02 20:02:14'
- author:
    name: John Hudson
    picture: 110397
  body: "Okay, you have a word like \u03C1\u03C9\u03BC\u03AD\u03B9\u03BA\u03B1. The
    Greek letter sequence \u03B5\u03B9 is usually pronounced as a diphthong, but the
    presence of the tonos on the \u03B5 indicates that the two vowels are pronounced
    separately with the accent on the \u03B5. The rule is that if the accent is on
    the whole diphthong then the tonos falls on the second vowel, so:\r\n\r\n\u03B5\u03B9
    = unaccented diphthong\r\n\u03B5\u03AF = accented diphthong\r\n\u03AD\u03B9 =
    non-diphthong, accent on the \u03B5\r\n\u03B5\u0390 = non-diphthong, accent on
    the \u03B9\r\n\r\nIf you want to set the word in all-caps, a simple case conversion
    will produce \u03A1\u03A9\u039C\u0388\u0399\u039A\u0391, which is incorrect because
    the accent mark should be dropped from the \u0388 in an all-caps setting. So you
    need to contextually swap the unaccent \u0395 glyph for \u0388 when preceded by
    another uppercase letter. In VOLT parlance:\r\n\r\nEpsilontonos -> Epsilon\r\n\u2039uppercase
    group\u203A |\r\n\r\nHowever, this will result in \u03A1\u03A9\u039C\u0395\u0399\u039A\u0391,
    which is also incorrect because you have lost the indication that the E and \u0399
    are to be separately pronounced, so <em>before</em> you perform the substitution
    of \u0395 for \u0388 you need to insert a dialytika over the \u0399. For this,
    you used the tonos on the \u0388 as a context trigger:\r\n\r\nIota -> Iotadieresis\r\n\u2039Epsilontonos\u203A
    |\r\n\r\nThis results in \u03A1\u03A9\u039C\u0388\u03AA\u039A\u0391. <em>Now</em>
    you perform your second substitution to remove the tonos from \u0388 when preceded
    by another uppercase letter, and you are left with \u03A1\u03A9\u039C\u0395\u03AA\u039A\u0391,
    which is correct.\r\n\r\nThere are seven Greek diphthongs, and the above rules
    apply to all of them during case mapping (and also smallcaps): \u03B1\u03B9 \u03B5\u03B9
    \u03BF\u03B9 \u03C5\u03B9 \u03B1\u03C5 \u03B5\u03C5 \u03BF\u03C5 \r\n\r\nSo your
    first lookup goes like this:\r\n\r\nIota -> Iotadieresis\r\nupsilon -> upsilondieresis\r\n\u2039uppercase
    with tonos/oxia group\u203A |\r\n\r\nand your second one goes like this:\r\n\r\nAlphatonos
    -> Alpha\r\nEpsilontonos -> Epsilon\r\nEtatonos -> Eta\r\n%... etc. for all accents
    except dialytika\r\n\u2039uppercase group\u203A |\r\n\r\n\r\nPerhaps someone else
    can express these lookups in FontLab/FDK syntax?"
  created: '2005-11-02 22:48:33'
- author:
    name: John Hudson
    picture: 110397
  body: "One of our Greek colleagues was kind enough to point out that in the orthographies
    of some Greek dialects \u03B7\u03C5 and \u03C9\u03C5 are also diphthongs and would
    follow the same rules in casing as those I've described. Examples she gives include
    Ionic \u03BD\u03B7\u1FE6\u03C2, corresponding to the Attic \u03BD\u03B1\u1FE6\u03C2,
    and New Ionic \u1F61\u03C5\u03C4\u1F79\u03C2 corresponding to the Attic \u03B1\u1F50\u03C4\u1F79\u03C2."
  created: '2005-11-04 02:57:35'
- author:
    name: Nick Shinn
    picture: 110193
  body: Thanks so much John, I think I should be able to figure this out in FontLab,
    but it will take me a few days as I haven't finished all my glyphs yet.
  created: '2005-11-04 04:31:48'
- author:
    name: Nick Shinn
    picture: 110193
  body: "OK, I've studied this topic some more, and have a few questions for John,
    and Thomas.\r\nI haven't actually tried any implementation, so this is still theoretical.\r\n\r\n1.
    John, why handle Greek all-caps with the Contextual Alternates feature and not
    \"Case\"? Wouldn't Case perform the same function more logically? (As I understand
    it, the \"case\" feature is not activated during \"shift+character\" keystrokes,
    but only by \"command-shift-k\", or from a typographic menu.)\r\n\r\n2. John,
    as your second substitution removes the accents on caps following another cap,
    what happens to the initial capital letter of an all-caps word? Surely that should
    lose its accent(s) too, only being accented in titlecase setting?  \r\n\r\n3.
    Thomas: I've been looking at the \"all caps\" behavior of InDesign, applied to
    Polytonic Greek, and there are quite a few lower-case accented characters which
    it has no effect upon. What's the reason for that?"
  created: '2005-12-30 00:18:08'
- author:
    name: John Hudson
    picture: 110397
  body: "1. I originally considered using 'case' for Greek all-caps, but after discussing
    it with Paul Nelson at MS I decided against it. The 'case' feature is intended
    for what are typographical niceties but optional, e.g. specially aligning punctuation.
    The 'case' feature is not widely implemented, and in Adobe's UI at least it is
    tied to a particular display function, not to the presence of strings of uppercase
    letters. You want the Greek capping behaviour to be on by default, and it is context
    specific, so 'calt' is both more desirable and more appropriate.\r\n\r\n2. Yes.
    You want the context to include before and after cap context.\r\n\r\n3. Thomas
    may have a more specific answer, but my guess is that polytonic Greek casing is
    not supported in InDesign yet. Which lowercase accented characters are not affected?"
  created: '2005-12-30 03:17:49'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>You want the Greek capping behaviour to be on by default, and it is context
    specific, so \u2018calt\u2019 is both more desirable and more appropriate.</em>\r\n\r\nYes,
    I get it now.\r\n\r\n<em>...context to include before and after cap context.</em>\r\n\r\nOK,
    that's smart. I was originally thinking if it were being done with the \"case\"
    feature, it could just be a straight substitution: characters with accents replaced
    by corresponding accent-less glyphs. But with that behaviour in an always-on \"calt\"
    feature, you'd never be able to set a single accented cap for titlecase! \r\n\r\n<em>Which
    lowercase accented characters are not affected? </em>\r\n\r\nI haven't checked
    them all methodically; while InDesign (in my set-up, at least) appears to capitalize
    nearly all of the Polytonic characters, it seems to have gaps, for instance vowels
    with perispomeni.\r\n\r\n"
  created: '2005-12-30 03:53:29'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>..vowels with perispomeni.</em>\r\n\r\n...and no breathing. Perhaps InD
    doesn't capitalize these because it recognizes that accented capitals should only
    appear at the begining of words (although it applies capitalization indiscriminately),
    and such characters would always have a breathing in that position?"
  created: '2005-12-30 04:05:15'
- author:
    name: John Hudson
    picture: 110397
  body: "Just to clarify a little further, just in case anyone is confused, when I
    say that the context should include both preceding and following capitals, I mean
    two separate contexts, not a dual context. It should be obvious...\r\n\r\nRegarding
    the casing issue in InDesign, I'll investigate this. Most Greek casing is fairly
    straightforward: the only tricky bit is the lowercase diacritics for which there
    are no corresponding uppercase, e.g. iota with both accent and dialytika."
  created: '2005-12-31 08:55:44'
- author:
    name: John Hudson
    picture: 110397
  body: "Okay, I've taken a look at what InDesign is doing. The lowercase letters
    that it is failing to case convert to uppercase are those for which there are
    no standard polytonic uppercase equivalents. These are diacritics that only have
    lowercase forms in the orthography. That said, though, I don't think what InDesign
    does in case mapping is ideal: these characters should not be left as lowercase,
    rather, they should be converted to appropriate unaccented uppercase characters.
    Of course, in the case of a character-level conversion, this process cannot be
    reversed, but that is often the way with special casing (the German eszett is
    another example of non-reversible case mapping). The attached image shows which
    Greek lowercase letters are converted by InDesign and which are not.\r\n\r\n[img:sites/default/files/old-images/IDGreekCasing.gif]"
  created: '2005-12-31 09:18:58'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>...these characters should not be left as lowercase, rather, they should
    be converted to appropriate unaccented uppercase characters.</em>\r\n\r\nThis
    can't be done as a third lookup in the \"calt\" feature, because the obvious context
    triggers (preceded by or followed by an unaccented cap) would result in unwanted
    capitalizations in U&lc settings, in situations where the problem character follows
    an unaccented initial cap, or is the last letter in a word.\r\n\r\nTherefore,
    it looks like the \"case\" feature is the solution, so why not use it for the
    whole feature? "
  created: '2005-12-31 19:39:29'
- author:
    name: John Hudson
    picture: 110397
  body: "I'm not talking about glyph-level display conversions for casing, Nick. It
    is the application's job to look after case conversion at the character-level,
    whether actually affecting the backing text string or in a buffered display state.
    You shouldn't have to do any messing around in glyph lookups to achieve correct
    case mapping: this is all standard Unicode text processing stuff that applications
    are supposed to handle correctly. Unfortunately, a lot of applications support
    normal character casing, but do not support all or any of the Unicode Special
    Casing mappings. Greek has both conditional and unconditional special mappings,
    and applications need to handle these. You can review the special mappings for
    Greek characters in the <a href=\"http://www.unicode.org/Public/4.1.0/ucd/SpecialCasing.txt\">SpecialCasing.txt</a>
    file that is part of the Unicode Standard.\r\n\r\nIn the case of the lowercase
    alpha with perispomeni the Special Casing rule is\r\n\r\n1FB6; 1FB6; 0391 0342;
    0391 0342; # GREEK SMALL LETTER ALPHA WITH PERISPOMENI\r\n\r\nwhich indicates
    that for uppercase and titlecase, the correct character mapping is to two characters:
    uppercase Alpha and the combining perispomeni character. This is actually a bit
    more complex a mapping than I was anticipating, and encourages me to view the
    Unicode polytonic encoding as a kind of compromise between the standard orthography
    (encoded as precomposed diacritics) and the occasional need to encode and display
    non-standard combinations. That is, it is not usual to have an uppercase Alpha
    with perispomeni since this is contrary to spelling rules according to the standardised
    polytonic system, therefore this diacritic is not encoded because there is little
    need for the typical font, text processing system, etc. to support it and to do
    so would be a burden. On the other hand, what should be the proper encoding and
    what should be the default behaviour <em>if</em> a user wishes to have this diacritic
    in a document. This is a matter of interest to me because my major polytonic clients
    are scholars who may be dealing with manuscript sources that pre-date the standardisation
    of the polytonic system or who may even have a need to encode scribal errors in
    ancient documents, so I need to implement robust glyph solutions for unusual things.
    The Unicode Standard indicates that the correct, unconditional mapping of the
    lowercase \u1FB6 is to the unaccented uppercase \u0391 (U+0391) and the combining
    perispomeni character \u0342 (U+0342). Presuming that the application gets this
    right, the question for font developers is how should this be handled at the glyph,
    and the options are the same as for any base + combining mark sequence. The sequence
    can be mapped to a precomposed glyph in the 'ccmp' feature, or it can be handled
    using dynamic mark positioning ('mark' feature). My general preference is mark
    positioning, because it is most flexible and does not require me to second-guess
    every possible combination that users may wish to encode and display. However,
    the case of Greek capitals is complicated by the fact that the mark is placed
    before, to the left of the letter rather than above it, and this requires not
    only positioning of the mark but also a lookup that contextually increases the
    advance width of the base letter to make room for the mark. This is doable, and
    still the best fallback solution for unanticipated sequences, but I think it would
    be a good idea to include precomposed glyphs to render uppercase diacritic sequences
    resulting from Unicode Special Casing rules, mapped in the 'ccmp' feature.\r\n\r\nNow
    Adobe have been cruising along for many years not including combining mark characters
    in their fonts -- except those I've made for them :) -- and not supporting either
    'ccmp' or 'mark' in the primary versions of their applications (these features
    are supported in the Middle East versions). I can understand the lagging application
    support, even though it is regretable, but it seems to me particularly ill-planned
    not to support combining mark characters in their fonts <em>at least for those
    instances in which Unicode casing rules demand them.</em> In general, combining
    mark support has not been necessary for most the script and language combinations
    that comprise Adobe's historical font market, but as soon as you decide to support
    a language that had Special Casing rules that involve combining marks, you really
    should be including appropriate glyphs and cmap entries in your fonts. Even if
    InDesign is updated to support correct Special Casing for polytonic Greek, fonts
    like Garamond Premier Pro will still be unable to provide even crude support due
    to the absence of support for U+0342 and other combining mark accents."
  created: '2005-12-31 22:19:24'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>You shouldn\u2019t have to do any messing around in glyph lookups to
    achieve correct case mapping </em>\r\n\r\nThink of it as an in-font \"bug fix\".
    What's the harm in that? \r\n\r\n<em>Even if InDesign is updated to support correct
    Special Casing for polytonic Greek, fonts like Garamond Premier Pro will still
    be unable to provide even crude support due to the absence of support for U+0342
    and other combining mark accents.</em>\r\n\r\nWhat I am proposing is to fix the
    \"non all-capping\" of those problem characters, in the \"Case\" feature of my
    polytonic fonts, so that All Caps is diacritically correct in InDesign -- at least
    for the standard range of polytonic accented characters. Of course, it's not ideal
    for Adobe or Microsoft to do that kind of hacking, but it's not inappropriate
    for an independent foundry. It provides a font feature not presently avaialable,
    and when the apps are updated to do a more comprehensive All Capping, my font
    will still work just as well (providing I get it right in the first place!).\r\n\r\n<em>You
    want the Greek capping behaviour to be on by default</em>\r\n\r\nI don't think
    I do. That's automatic grammar-correction; it means that if a writer makes a deliberate
    grammatical mistake, the software will correct his/her keystroke and substitute
    a different character to the one typed. Sure, it can be turned off by un-checking
    contextual alternates, but that's the kind of default software behavior I detest.
    Like when MS Entourage won't let me begin a sentence with a lower-case letter.
    \r\n\r\nIf you configure de-accenting of an all-cap setting as part of contextual
    alts, you're relying on \"All Caps\" formatting anyway, because the only other
    way to get an all-cap setting is to \"hard-set\" it, typing letter by letter using
    the shift key.\r\n\r\nThe only difficulty I can think of: if capitalization of
    the problem characters were made a \"case\" feature, then all-cap text formatted
    in InDesign might lose such capitalization if exported into another app that didn't
    support the \"case\" feature, but would perhaps keep the rest of any all-cap formatting. "
  created: '2006-01-01 02:07:44'
- author:
    name: John Hudson
    picture: 110397
  body: "What's the harm? Well, if an application is doing what it should, your lookups
    will simply be ignored, since character level case conversion will happen before
    any glyph processing, so the input glyphs for your 'bug fix' will have disappeared.
    But I think you are making a mistake in relying on 'case' feature implementation
    because there is going to be a world of difference between how Adobe are doing
    this -- the whole 'All Caps' display formatting of what remains lowercase text
    is bizarre -- and how other major app developers are likely to implement it. Adobe
    have hidden access to this feature, but have linked it to a formatting function,
    meaning that it cannot be applied to actual all caps text unless the user, counter-intuitively,
    selects that all caps text and says he wants it displayed as, um, all caps. Who
    is going to do that if the text is already in all caps? [For once in my life,
    I am tempted to use an interrobang.] I don't think the Adobe implementation of
    the 'case' feature is a very good one, and you shouldn't expect it to be followed
    by other app or system developers. A better one would apply the feature heuristically
    whenever sequences of uppercase characters occured, in which case you are back
    to a feature that is on by default, just like 'calt'. As I say, I originally thought
    of using 'case' for de-accenting Greek, but I switched to 'calt' on Paul Nelson's
    recommendation; when the people who will be implementing OpenType Layout for the
    world's most widely used software recommend something to me, I pay attention.
    Sometimes I disagree with the recommendation, and do my best to get it changed,
    but in this case the argument for 'calt' is very sound: it is the logical choice
    for what is, after all, a contextual alternates substitution.\r\n\r\nConsider:
    in the case of your 'bug fix' to provide upper case display for those lowercase
    Greek letters than require special casing, it would make sense for this to be
    done in the 'case' feature since the lookup is not contextual. It seems to me
    that if you want to do this -- and I'm not encouraging it -- you should follow
    the Unicode Special Casing rules for the results. So the lookup mapping for e.g.
    \u1FB6 should correspond to however you intend that a sequence of uppercase Alpha
    and the combining perispomeni character should be displayed. If this is as a single
    glyph, then this glyph should be included in the font and mapped from \u1FB6 in
    the 'case' feature lookup. Okay, so the 'case' feature is now providing special
    casing at the glyph level to make up for deficiencies in applications, and is
    producing accented capitals for corresponding lowercase diacritics: all the more
    reason for you to want the de-accenting of all caps to happen someplace other
    than in the 'case' feature, since you presumably want the presence/absence of
    accents to be controllable by the user independently of the apparent case conversion.
    This isn't possible if you are relying on the same feature for both."
  created: '2006-01-01 05:03:21'
- author:
    name: John Hudson
    picture: 110397
  body: "<em>Of course, it\u2019s not ideal for Adobe or Microsoft to do that kind
    of hacking, but it\u2019s not inappropriate for an independent foundry.</em>\r\n\r\nConsidering
    that Special Casing rules are a part of the Unicode Standard that neither Microsoft
    or Adobe have managed to yet implement correctly, I'm not sure what they would
    consider 'ideal'. :)"
  created: '2006-01-01 05:17:23'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>Of course, it\u2019s not ideal for Adobe or Microsoft to do that kind
    of hacking, but it\u2019s not inappropriate for an independent foundry.</em>\r\n\r\nWhat
    I meant was that it would be better for Adobe or Microsoft to add the functionality
    we're discussing by improving an application or operating system, rather than
    doing it through a font -- which is something an independent foundry can do, as
    we're always rolling with the elephant anyway.\r\n\r\n<em>Adobe have hidden access
    to this feature, but have linked it to a formatting function, meaning that it
    cannot be applied to actual all caps text unless the user, counter-intuitively,
    selects that all caps text and says he wants it displayed as, um, all caps. Who
    is going to do that if the text is already in all caps?</em>\r\n\r\nThat's true
    for the non-alphabetic typographic features of \"case\", but not for the issue
    here. Applying \"All Caps\" to Greek capitals is redundant in practice; if the
    text is all-caps to begin with, it has been \"hard-keyed\" with the appropriate
    non-accented cap characters, so \"All Caps\" will only be applied to U&lc text.\r\n\r\nHowever,
    I take your general point about the lack of feature clarity. There is a similar
    situation in the InDesign UI concerning things like the small caps command, where
    there is no indication whether the result is true or faux.\r\n\r\nI can guess
    why this has been done -- to shorten the menu and make things more transparent
    for non-OT-savvy users. That can be a good UI principle, but IMHO it would be
    better here to have a dedicated OpenType menu palette which lists all the features
    in a font by name. After all, other palettes such as color aren't dumbed down,
    so why expert typography?\r\n\r\n<em>I don\u2019t think the Adobe implementation
    of the \u2018case\u2019 feature is a very good one, and you shouldn\u2019t expect
    it to be followed by other app or system developers.</em>\r\n\r\nEven though my
    font development is Mac and Adobe-centric (my graphic design background), your
    suggestion makes sense -- I am swayed by the lack of clarity surrounding Adobe's
    \"case\" command. Having said that, I am a lapsed Quark devotee, and am eagerly
    anticipating the XPress OpenType UI; but even if it is impeccable, I will still
    keep to using InDesign as the primary \"application target\" for my fonts.\r\n\r\n<em>...If
    this is as a single glyph, then this glyph should be included in the font and
    mapped ... in the \u2018case\u2019 feature lookup.</em>\r\n\r\nI'll just map the
    problem lc accented characters directly to their non-accented cap versions, that
    way I won't have to create another 21 pre-composed glyphs.\r\n\r\n***\r\n\r\nSo:
    I'll implement Greek all-caps as a \"calt\" feature, and put the \"bug-fix\" in
    the \"case\" feature. I'll post my FontLab code once I have it figured out.\r\n\r\nThanks,
    John."
  created: '2006-01-02 05:40:13'
- author:
    name: John Hudson
    picture: 110397
  body: "<em>I\u2019ll just map the problem lc accented characters directly to their
    non-accented cap versions, that way I won\u2019t have to create another 21 pre-composed
    glyphs.</em>\r\n\r\nThe application is failing to correctly map some lowercase
    letters to uppercase letters with combining marks, as specified in the Unicode
    Standard Special Casing rules, so you are going to use glyph processing to map
    them, also incorrectly according to the standard, to unaccented uppercase glyphs
    and only when this bizarre lowercase-as-uppercase display function in InDesign
    is activated. If the user actually selects to change the text case, your lookup
    will have no effect.\r\n\r\nYou can't correctly support polytonic Greek without
    also supporting combining mark characters. If InDesign were to implement Special
    Casing support, Adobe's own polytonic Greek fonts would be unable to display the
    results (you'd get .notdef glyphs for the missing combining mark accents). So
    the first thing you should do is include the combining mark characters for all
    Greek accents and breathing marks. Then you should add those additional precomposed
    glyphs (unless you want to use the dynamic mark positioning approach, in which
    case you'll have to abandone FontLab for OTL development), and add 'ccmp' feature
    mappings for the base + combining mark sequences to these precomposed glyphs (to
    support correct Unicode special casing when it occurs). That is the only correct
    way to support polytonic Greek casing in all its potentialities."
  created: '2006-01-02 16:12:01'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>That is the only correct way to support polytonic Greek casing in all
    its potentialities. </em>\r\n\r\nI would like to be able to do things correctly,
    but I am also practically inclined.\r\nI have as yet sold no Greek fonts and have
    no OEM contracts to design such; David Lemon of Adobe and Gerry Leonidas of Reading
    have persuaded me that there is a demand for Polytonic Greek, and despite my appraisal
    of the Greek market as commercially unpromising (a mere 25 million there, same
    size as Canada, plus assorted Greek scholars worldwide -- Cyrillic is a much larger
    market with less font complexity), I have plunged in and am attempting to do the
    right thing. But it keeps getting deeper and deeper!\r\n\r\nBeing practically
    inclined, I prefer to work from a functioning model, rather than principle, which
    would require a greater commitment to being a programmer (VOLT, Python scripting)
    than I am presently comfortable with. I have based my Greek character set on Minion
    and Gentium.\r\n\r\n<em>You can\u2019t correctly support polytonic Greek without
    also supporting combining mark characters.</em>\r\n\r\nHaven't I done that if
    I follow the Minion character set? \r\n\r\n<em>...you should add those additional
    precomposed glyphs</em>\r\n\r\nSo Greek all-caps would then work correctly in
    non-Adobe applications that don't use the \"case\" feature, such as perhaps the
    \"Lower Case to Caps\" command in MS Word? Does Word for Greek correctly implement
    this in Polytonic? I'm assuming it will, given your involvement with the ClearType
    project -- and the implication is that Adobe's Polytonic Greek fonts will have
    a \".notdef\" glyph behaviour.\r\n\r\n"
  created: '2006-01-02 20:37:33'
- author:
    name: John Hudson
    picture: 110397
  body: "<em>But it keeps getting deeper and deeper!</em>\r\n\r\n<a href=\"http://ptolemy.tlg.uci.edu/~opoudjis/unicode/unicode.html\">Yes</a>.
    [This website is an incredibly good resource for understanding Greek text encoding
    and display issues.]\r\n\r\n<em>I have based my Greek character set on Minion
    and Gentium.</em>\r\n\r\nThen you should also limit yourself to what those fonts
    provide, which is support for standardised polytonic text. Anything beyond that
    is getting into things that are very unlikely to occur in the texts that most
    users will be working with, the sort of things that only my scholarly clients
    working with ancient manuscript sources are going to care about. If I were you,
    I would follow what Adobe has done with Garamond Premier Pro (not Minion Pro),
    and don't worry about trying to circumvent limitations in application casing support
    for characters that are not usually uppercased.\r\n\r\n'calt' feature support
    for de-accenting is a good idea, though, and something I would like to see standard
    in all polytonic Greek fonts.\r\n\r\n<em>Haven\u2019t I done that if I follow
    the Minion character set?</em>\r\n\r\nNo. None of the Adobe fonts support combining
    marks for Greek. This is why they will break if Adobe does Special Case conversion
    correctly or, indeed, if people start normalising Greek text with full decomposition,
    as Unicode recommends.\r\n\r\n<em>So Greek all-caps would then work correctly
    in non-Adobe applications that don\u2019t use the \u201Ccase\u201D feature, such
    as perhaps the \u201CLower Case to Caps\u201D command in MS Word?</em>\r\n\r\nYes,
    if\r\n\r\na) the application applies Unicode Special Casing rules to map the unicameral
    lowercase diacritics to sequences of unaccented caps + combining marks, and\r\n\r\nb)
    if the font used has glyphs mapped for those combining marks and some mechanism
    to display the results in an acceptable way.\r\n\r\nAt the moment, Word (2003)
    is not correctly casing polytonic Greek at all. I am not beta testing Office 12,
    so do not know if this has been corrected or whether it now includes Special Casing
    support. It is the sort of thing that MS should be doing, and are capable of doing
    within their existing text processing architecture, I believe, based on what they
    are doing with complex character-level operations for other scripts.\r\n\r\nGentium
    does support Greek combining mark characters (U+0300\u2013U+0301, U+0304, U+0306,
    U+0313\u2014U+0314, U+0342\u2013U+0345), so I would recommend following Victor
    in this regard rather than Adobe. However, Gentium does not have 'calt' support
    for de-accenting, while I believe the final version of Garamond Premier Pro got
    this right (I don't have the release version, only an earlier beta in which this
    was not working correctly).\r\n\r\nLater this month, I'll have a test version
    of SBL Greek ready, and can send it to you. It is pretty thorough in its polytonic
    coverage, including archaic letters and ancient and mediaeval editorial marks.
    I will break my glyph list down into different priority levels and post that information.\r\n\r\nThe
    MS CLearType fonts do not support polytonic, alas. There wasn't enough money in
    the phase one budget. I'm hoping this support will be added in a future update."
  created: '2006-01-03 02:48:48'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>...and can send it to you </em>\r\n\r\nThat would be much appreciated.\r\n\r\nIn
    the meantime I'll figure out what the Font lab feature code is (with the extra
    21 composite characters) and post it later on."
  created: '2006-01-03 04:41:21'
- author:
    name: Nick Shinn
    picture: 110193
  body: "Based on the above discussion, I had a look at the substitution coding required
    for Polytonic, and it turned out to be more complicated than I had expected, requiring
    quite a bit of grammatical know-how to figure out what to do in multiple-vowel
    sequences.\r\n\r\nSo I've decided to limit the Greek case feature to monotonic.\r\nEven
    there, I suspect that the feature is somewhat redundant, given the way monotonic
    is generally written.\r\n\r\nMy FontLab code:\r\n\r\nCLASSES\r\n\r\nUCtonos: Alphatonos
    Epsilontonos Etatonos Iotatonos Upsilontonos Omicrontonos Omegatonos\r\n\r\nUCnotonos:
    Alpha Epsilon Eta Iota Upsilon Omicron Omega\r\n\r\nFEATURE CODE\r\nfeature case
    {\r\n  sub Iota by iota;\r\n  sub @UCtonos iota' by Iotadieresis;\r\n  sub iota
    by Iota;\r\n  sub Upsilon by upsilon;\r\n  sub @UCtonos upsilon' by Upsilondieresis;\r\n
    \ sub upsilon by Upsilon;\r\n  sub @UCtonos by @UCnotonos;\r\n} case;\r\n\r\n(This
    omits other parts of the case feature.)\r\n\r\n"
  created: '2006-05-29 18:48:14'
- author:
    name: Miguel Sousa
    picture: 110242
  body: "> <em>Okay, you have a word like \u03C1\u03C9\u03BC\u03AD\u03B9\u03BA\u03B1.
    [...]\r\nThere are seven Greek diphthongs, and the above rules apply to all of
    them during case mapping (and also smallcaps): \u03B1\u03B9 \u03B5\u03B9 \u03BF\u03B9
    \u03C5\u03B9 \u03B1\u03C5 \u03B5\u03C5 \u03BF\u03C5 [...]\r\nPerhaps someone else
    can express these lookups in FontLab/FDK syntax?</em>\r\n\r\nHere it goes:\r\n\r\n<code>feature
    calt {\r\n# First substitution that transforms \u03A1\u03A9\u039C\u0388\u0399\u039A\u0391
    into \u03A1\u03A9\u039C\u0388\u03AA\u039A\u0391\r\n## for diphthongs \u03B1\u03B9
    \u03B5\u03B9 \u03BF\u03B9 \u03C5\u03B9\r\nsub [Alphatonos Epsilontonos Omicrontonos
    Upsilontonos] Iota' by Iotadieresis;\r\n## for diphthongs \u03B1\u03C5 \u03B5\u03C5
    \u03BF\u03C5\r\nsub [Alphatonos Epsilontonos Omicrontonos] Upsilon' by Upsilondieresis;</code>\r\n\r\n<code>#
    Second substitution that transforms \u03A1\u03A9\u039C\u0388\u03AA\u039A\u0391
    into \u03A1\u03A9\u039C\u0395\u03AA\u039A\u0391\r\n## for diphthongs \u03B1\u03B9
    \u03B5\u03B9 \u03BF\u03B9 \u03C5\u03B9\r\nsub [Alphatonos Epsilontonos Omicrontonos
    Upsilontonos]' Iotadieresis by [Alpha Epsilon Omicron Upsilon];\r\n## for diphthongs
    \u03B1\u03C5 \u03B5\u03C5 \u03BF\u03C5\r\nsub [Alphatonos Epsilontonos Omicrontonos]'
    Upsilondieresis by [Alpha Epsilon Omicron];\r\n} calt;</code>"
  created: '2007-03-21 01:14:00'
- author:
    name: Nick Shinn
    picture: 110193
  body: "I just tried that in InDesign (CS1) and it didn't work.\r\n\r\n(I should
    add that my bit of code above works in case, but not in calt, with the same error
    as yours.)"
  created: '2007-03-21 07:14:54'
- author:
    name: Miguel Sousa
    picture: 110242
  body: "You're right Nick, that code is flawed, sorry about that.\r\n[Note to self:
    double-check before posting!!]\r\n\r\nThe good news is, it can be fixed easily.
    We'll just have to put each pair of substitutions in a separate lookup (which
    makes perfect sense!!). So here's the CORRECT VERSION of the code (tried in FontLab
    and it works):\r\n\r\n<code>feature calt {</code>\r\n\r\n<code>lookup ONE {\r\nsub
    [Alphatonos Epsilontonos Omicrontonos Upsilontonos] Iota' by Iotadieresis;\r\nsub
    [Alphatonos Epsilontonos Omicrontonos] Upsilon' by Upsilondieresis;\r\n} ONE;</code>\r\n\r\n<code>lookup
    TWO {\r\nsub [Alphatonos Epsilontonos Omicrontonos Upsilontonos]' Iotadieresis
    by [Alpha Epsilon Omicron Upsilon];\r\nsub [Alphatonos Epsilontonos Omicrontonos]'
    Upsilondieresis by [Alpha Epsilon Omicron];\r\n} TWO;</code>\r\n\r\n<code>} calt;</code>\r\n\r\nIt
    ought to work in InDesign now. Let us know. Thanks!"
  created: '2007-03-21 10:20:00'
- author:
    name: dezcom
    picture: 109959
  body: "Miguel,\r\nAren't you up a bit early for the west coast?\r\nPerhaps you are
    up late, I should have said.\r\n\r\nChrisL"
  created: '2007-03-21 11:47:02'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>It ought to work in InDesign now.</em>\r\n\r\nNot yet.\r\n\r\n**\r\n\r\nThere
    is another problematic \"monotonic\" character: upsilondieresistonos.\r\n\r\nSo
    this line of code would need to be added:\r\n\r\nsub upsilondieresistonos by Upsilondieresis;\r\n\r\n\r\n\r\nCLASSES\r\nUCtonos:
    Alphatonos Epsilontonos Etatonos Iotatonos Upsilontonos Omicrontonos Omegatonos\r\nUCnotonos:
    Alpha Epsilon Eta Iota Upsilon Omicron Omega\r\n\r\nFEATURE CODE\r\n\r\nfeature
    case {\r\nsub Iota by iota;\r\nsub @UCtonos iota\u2019 by Iotadieresis;\r\nsub
    iota by Iota;\r\nsub Upsilon by upsilon;\r\nsub @UCtonos upsilon\u2019 by Upsilondieresis;\r\nsub
    upsilon by Upsilon;\r\nsub @UCtonos by @UCnotonos;\r\nsub upsilondieresistonos
    by Upsilondieresis;\r\n} case;\r\n\r\nYes, it should be in the \"calt\" feature,
    but this code works in \"case\" in InDesign, but not in \"calt\". Best I can do
    so far."
  created: '2007-03-23 17:10:08'
- author:
    name: Miguel Sousa
    picture: 110242
  body: "> <em>this code works in \u201Ccase\u201D in InDesign, but not in \u201Ccalt\u201D.</em>\r\n\r\nHow
    are you ordering the features?\r\nDo you have \"Contextual Alternates\" turned
    on? (Sorry, just a sanity check)\r\n\r\nThe only code I would put in 'case' is,\r\n\r\n<code>feature
    case {\r\nsub iotadieresistonos by Iotadieresis;\r\nsub upsilondieresistonos by
    Upsilondieresis;\r\n} case;</code>\r\n\r\nas these are the 2 monotonic Greek characters
    that are not capitalized by InDesign, when one applies \"All Caps\".\r\n\r\nThen
    I would order the features like this:\r\n<code>case\r\ncalt</code>\r\n\r\nBTW,
    your code is affecting more than the 7 diphthongs. Etatonos, Iotatonos and Omegatonos
    shouldn't be part of your classes, for example."
  created: '2007-03-23 18:12:50'
- author:
    name: twardoch
    picture: 110427
  body: "> The only code I would put in \u2018case\u2019 is,\r\n> feature case {\r\n>
    sub iotadieresistonos by Iotadieresis;\r\n> sub upsilondieresistonos by Upsilondieresis;\r\n>
    } case;\r\n> as these are the 2 monotonic Greek characters \r\n> that are not
    capitalized by InDesign, when one \r\n> applies \u201CAll Caps\u201D.\r\n\r\nMiguel,
    \r\n\r\nthis recommendation reads like you\u2019re suggesting that OpenType features
    should be devised to acommodate for peculiarities of specific versions of specific
    applications. I would appreciate some clarification on this. \r\n\r\nRegards,\r\nAdam\r\n"
  created: '2007-03-23 19:54:35'
- author:
    name: Nick Shinn
    picture: 110193
  body: "This seems to be working OK now.\r\n\r\nCLASSES\r\n\r\n@UCtonos: \r\nAlphatonos
    Epsilontonos Etatonos Iotatonos Upsilontonos Omicrontonos Omegatonos\r\n\r\n@UCnotonos:
    \r\nAlpha Epsilon Eta Iota Upsilon Omicron Omega\r\n\r\n@GrCaps: \r\nAlpha Beta
    Gamma uni0394 Delta Epsilon Zeta Eta Theta Iota Kappa Lambda Mu Nu Xi Omicron
    Pi Rho Sigma Tau Upsilon Phi Chi Psi Omega uni2126\r\n\r\n\r\nFEATURE CODE\r\n\r\nfeature
    calt { \r\n\r\nlookup ONE {\r\nsub [Alphatonos Epsilontonos Omicrontonos Omegatonos]
    Iota' by Iotadieresis;  \r\nsub [Alphatonos Epsilontonos Omicrontonos Omegatonos]
    Upsilon' by Upsilondieresis;\r\n} ONE;\r\n\r\nlookup TWO {\r\nsub @UCtonos' @GrCaps
    by @UCnotonos; \r\nsub @GrCaps @UCtonos' by @UCnotonos;\r\n} TWO;\r\n\r\n} calt;"
  created: '2007-03-23 20:11:52'
- author:
    name: Nick Shinn
    picture: 110193
  body: "<em>I would appreciate some clarification on this.</em>\r\n\r\nYou'd think
    that the way to solve it would be to put the two odd characters in \"calt\", not
    \"case\", like so:\r\n\r\nsub @GrCaps iotadieresistonos' by Iotadieresis;\r\nsub
    @GrCaps upsilondieresistonos' by Upsilondieresis;\r\n\r\nThat works in FontLab
    preview, but not in InDesign.\r\nMust be some quirk of the casing mechanism.\r\n\r\nSo
    unless someone can come up with a way of making it work in \"calt\", the best
    practice is to put the two characters \"ignored\" by InD casing into the Case
    feature.  "
  created: '2007-03-23 21:10:59'
- author:
    name: Miguel Sousa
    picture: 110242
  body: "> <em>this recommendation reads like you\u2019re suggesting that OpenType
    features should be devised to acommodate for peculiarities of specific versions
    of specific applications. I would appreciate some clarification on this.</em>\r\n\r\nI'm
    simply trying to help Nick to achieve what he wants. It doesn't mean I recommend
    it.\r\n(If you play with Arno Pro in InDesign CS2, you'll see that nothing happens
    when you apply \"All Caps\" to \u0390 [U+0390] or \u03B0 [U+03B0])"
  created: '2007-03-24 00:26:27'
date: '2005-11-02 05:00:41'
title: Greek All Caps

---
